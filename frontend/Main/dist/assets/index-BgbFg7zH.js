var tk=Object.defineProperty;var rk=(t,e,r)=>e in t?tk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ke=(t,e,r)=>rk(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var WO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},h0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function ak(){if(by)return h0;by=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var d in n)d!=="key"&&(i[d]=n[d])}else i=n;return n=i.ref,{$$typeof:t,type:a,key:l,ref:n!==void 0?n:null,props:i}}return h0.Fragment=e,h0.jsx=r,h0.jsxs=r,h0}var yy;function sk(){return yy||(yy=1,Hp.exports=ak()),Hp.exports}var s=sk(),qp={exports:{}},rr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function nk(){if(vy)return rr;vy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=x&&J[x]||J["@@iterator"],typeof J=="function"?J:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function k(J,te,P){this.props=J,this.context=te,this.refs=j,this.updater=P||p}k.prototype.isReactComponent={},k.prototype.setState=function(J,te){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,te,"setState")},k.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function C(){}C.prototype=k.prototype;function L(J,te,P){this.props=J,this.context=te,this.refs=j,this.updater=P||p}var E=L.prototype=new C;E.constructor=L,w(E,k.prototype),E.isPureReactComponent=!0;var D=Array.isArray,F={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function O(J,te,P,Y,G,ue){return P=ue.ref,{$$typeof:t,type:J,key:te,ref:P!==void 0?P:null,props:ue}}function U(J,te){return O(J.type,te,void 0,void 0,void 0,J.props)}function T(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function W(J){var te={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(P){return te[P]})}var I=/\/+/g;function B(J,te){return typeof J=="object"&&J!==null&&J.key!=null?W(""+J.key):te.toString(36)}function X(){}function Q(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(X,X):(J.status="pending",J.then(function(te){J.status==="pending"&&(J.status="fulfilled",J.value=te)},function(te){J.status==="pending"&&(J.status="rejected",J.reason=te)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ge(J,te,P,Y,G){var ue=typeof J;(ue==="undefined"||ue==="boolean")&&(J=null);var re=!1;if(J===null)re=!0;else switch(ue){case"bigint":case"string":case"number":re=!0;break;case"object":switch(J.$$typeof){case t:case e:re=!0;break;case g:return re=J._init,ge(re(J._payload),te,P,Y,G)}}if(re)return G=G(J),re=Y===""?"."+B(J,0):Y,D(G)?(P="",re!=null&&(P=re.replace(I,"$&/")+"/"),ge(G,te,P,"",function(Se){return Se})):G!=null&&(T(G)&&(G=U(G,P+(G.key==null||J&&J.key===G.key?"":(""+G.key).replace(I,"$&/")+"/")+re)),te.push(G)),1;re=0;var xe=Y===""?".":Y+":";if(D(J))for(var je=0;je<J.length;je++)Y=J[je],ue=xe+B(Y,je),re+=ge(Y,te,P,ue,G);else if(je=y(J),typeof je=="function")for(J=je.call(J),je=0;!(Y=J.next()).done;)Y=Y.value,ue=xe+B(Y,je++),re+=ge(Y,te,P,ue,G);else if(ue==="object"){if(typeof J.then=="function")return ge(Q(J),te,P,Y,G);throw te=String(J),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return re}function $(J,te,P){if(J==null)return J;var Y=[],G=0;return ge(J,Y,"","",function(ue){return te.call(P,ue,G++)}),Y}function de(J){if(J._status===-1){var te=J._result;te=te(),te.then(function(P){(J._status===0||J._status===-1)&&(J._status=1,J._result=P)},function(P){(J._status===0||J._status===-1)&&(J._status=2,J._result=P)}),J._status===-1&&(J._status=0,J._result=te)}if(J._status===1)return J._result.default;throw J._result}var ie=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function ye(){}return rr.Children={map:$,forEach:function(J,te,P){$(J,function(){te.apply(this,arguments)},P)},count:function(J){var te=0;return $(J,function(){te++}),te},toArray:function(J){return $(J,function(te){return te})||[]},only:function(J){if(!T(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},rr.Component=k,rr.Fragment=r,rr.Profiler=n,rr.PureComponent=L,rr.StrictMode=a,rr.Suspense=u,rr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,rr.act=function(){throw Error("act(...) is not supported in production builds of React.")},rr.cache=function(J){return function(){return J.apply(null,arguments)}},rr.cloneElement=function(J,te,P){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Y=w({},J.props),G=J.key,ue=void 0;if(te!=null)for(re in te.ref!==void 0&&(ue=void 0),te.key!==void 0&&(G=""+te.key),te)!se.call(te,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&te.ref===void 0||(Y[re]=te[re]);var re=arguments.length-2;if(re===1)Y.children=P;else if(1<re){for(var xe=Array(re),je=0;je<re;je++)xe[je]=arguments[je+2];Y.children=xe}return O(J.type,G,void 0,void 0,ue,Y)},rr.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:i,_context:J},J},rr.createElement=function(J,te,P){var Y,G={},ue=null;if(te!=null)for(Y in te.key!==void 0&&(ue=""+te.key),te)se.call(te,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(G[Y]=te[Y]);var re=arguments.length-2;if(re===1)G.children=P;else if(1<re){for(var xe=Array(re),je=0;je<re;je++)xe[je]=arguments[je+2];G.children=xe}if(J&&J.defaultProps)for(Y in re=J.defaultProps,re)G[Y]===void 0&&(G[Y]=re[Y]);return O(J,ue,void 0,void 0,null,G)},rr.createRef=function(){return{current:null}},rr.forwardRef=function(J){return{$$typeof:d,render:J}},rr.isValidElement=T,rr.lazy=function(J){return{$$typeof:g,_payload:{_status:-1,_result:J},_init:de}},rr.memo=function(J,te){return{$$typeof:h,type:J,compare:te===void 0?null:te}},rr.startTransition=function(J){var te=F.T,P={};F.T=P;try{var Y=J(),G=F.S;G!==null&&G(P,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ye,ie)}catch(ue){ie(ue)}finally{F.T=te}},rr.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},rr.use=function(J){return F.H.use(J)},rr.useActionState=function(J,te,P){return F.H.useActionState(J,te,P)},rr.useCallback=function(J,te){return F.H.useCallback(J,te)},rr.useContext=function(J){return F.H.useContext(J)},rr.useDebugValue=function(){},rr.useDeferredValue=function(J,te){return F.H.useDeferredValue(J,te)},rr.useEffect=function(J,te){return F.H.useEffect(J,te)},rr.useId=function(){return F.H.useId()},rr.useImperativeHandle=function(J,te,P){return F.H.useImperativeHandle(J,te,P)},rr.useInsertionEffect=function(J,te){return F.H.useInsertionEffect(J,te)},rr.useLayoutEffect=function(J,te){return F.H.useLayoutEffect(J,te)},rr.useMemo=function(J,te){return F.H.useMemo(J,te)},rr.useOptimistic=function(J,te){return F.H.useOptimistic(J,te)},rr.useReducer=function(J,te,P){return F.H.useReducer(J,te,P)},rr.useRef=function(J){return F.H.useRef(J)},rr.useState=function(J){return F.H.useState(J)},rr.useSyncExternalStore=function(J,te,P){return F.H.useSyncExternalStore(J,te,P)},rr.useTransition=function(){return F.H.useTransition()},rr.version="19.0.0",rr}var wy;function W1(){return wy||(wy=1,qp.exports=nk()),qp.exports}var R=W1();const Ic=X0(R);var Vp={exports:{}},f0={},$p={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function ik(){return Ny||(Ny=1,(function(t){function e($,de){var ie=$.length;$.push(de);e:for(;0<ie;){var ye=ie-1>>>1,J=$[ye];if(0<n(J,de))$[ye]=de,$[ie]=J,ie=ye;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var de=$[0],ie=$.pop();if(ie!==de){$[0]=ie;e:for(var ye=0,J=$.length,te=J>>>1;ye<te;){var P=2*(ye+1)-1,Y=$[P],G=P+1,ue=$[G];if(0>n(Y,ie))G<J&&0>n(ue,Y)?($[ye]=ue,$[G]=ie,ye=G):($[ye]=Y,$[P]=ie,ye=P);else if(G<J&&0>n(ue,ie))$[ye]=ue,$[G]=ie,ye=G;else break e}}return de}function n($,de){var ie=$.sortIndex-de.sortIndex;return ie!==0?ie:$.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var u=[],h=[],g=1,x=null,y=3,p=!1,w=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function E($){for(var de=r(h);de!==null;){if(de.callback===null)a(h);else if(de.startTime<=$)a(h),de.sortIndex=de.expirationTime,e(u,de);else break;de=r(h)}}function D($){if(j=!1,E($),!w)if(r(u)!==null)w=!0,Q();else{var de=r(h);de!==null&&ge(D,de.startTime-$)}}var F=!1,se=-1,O=5,U=-1;function T(){return!(t.unstable_now()-U<O)}function W(){if(F){var $=t.unstable_now();U=$;var de=!0;try{e:{w=!1,j&&(j=!1,C(se),se=-1),p=!0;var ie=y;try{t:{for(E($),x=r(u);x!==null&&!(x.expirationTime>$&&T());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,y=x.priorityLevel;var J=ye(x.expirationTime<=$);if($=t.unstable_now(),typeof J=="function"){x.callback=J,E($),de=!0;break t}x===r(u)&&a(u),E($)}else a(u);x=r(u)}if(x!==null)de=!0;else{var te=r(h);te!==null&&ge(D,te.startTime-$),de=!1}}break e}finally{x=null,y=ie,p=!1}de=void 0}}finally{de?I():F=!1}}}var I;if(typeof L=="function")I=function(){L(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=W,I=function(){X.postMessage(null)}}else I=function(){k(W,0)};function Q(){F||(F=!0,I())}function ge($,de){se=k(function(){$(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,Q())},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var ie=y;y=de;try{return $()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,de){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ie=y;y=$;try{return de()}finally{y=ie}},t.unstable_scheduleCallback=function($,de,ie){var ye=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ye+ie:ye):ie=ye,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ie+J,$={id:g++,callback:de,priorityLevel:$,startTime:ie,expirationTime:J,sortIndex:-1},ie>ye?($.sortIndex=ie,e(h,$),r(u)===null&&$===r(h)&&(j?(C(se),se=-1):j=!0,ge(D,ie-ye))):($.sortIndex=J,e(u,$),w||p||(w=!0,Q())),$},t.unstable_shouldYield=T,t.unstable_wrapCallback=function($){var de=y;return function(){var ie=y;y=de;try{return $.apply(this,arguments)}finally{y=ie}}}})(Wp)),Wp}var jy;function ok(){return jy||(jy=1,$p.exports=ik()),$p.exports}var Yp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function lk(){if(ky)return tn;ky=1;var t=W1();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(u,h,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:x==null?null:""+x,children:u,containerInfo:h,implementation:g}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,g)},tn.flushSync=function(u){var h=l.T,g=a.p;try{if(l.T=null,a.p=2,u)return u()}finally{l.T=h,a.p=g,a.d.f()}},tn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(u,h))},tn.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},tn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,p=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:p}):g==="script"&&a.d.X(u,{crossOrigin:x,integrity:y,fetchPriority:p,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);a.d.M(u,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(u)},tn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin);a.d.L(u,g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tn.preloadModule=function(u,h){if(typeof u=="string")if(h){var g=d(h.as,h.crossOrigin);a.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(u)},tn.requestFormReset=function(u){a.d.r(u)},tn.unstable_batchedUpdates=function(u,h){return u(h)},tn.useFormState=function(u,h,g){return l.H.useFormState(u,h,g)},tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var Sy;function ck(){if(Sy)return Yp.exports;Sy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=lk(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function dk(){if(Cy)return f0;Cy=1;var t=ok(),e=W1(),r=ck();function a(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var i=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),p=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var O=Symbol.for("react.client.reference");function U(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===O?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case u:return"Fragment";case d:return"Portal";case g:return"Profiler";case h:return"StrictMode";case j:return"Suspense";case k:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case p:return(o.displayName||"Context")+".Provider";case y:return(o._context.displayName||"Context")+".Consumer";case w:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case C:return c=o.displayName||null,c!==null?c:U(o.type)||"Memo";case L:c=o._payload,o=o._init;try{return U(o(c))}catch{}}return null}var T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Object.assign,I,B;function X(o){if(I===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);I=c&&c[1]||"",B=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+o+B}var Q=!1;function ge(o,c){if(!o||Q)return"";Q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(qe){var Fe=qe}Reflect.construct(o,[],tt)}else{try{tt.call()}catch(qe){Fe=qe}o.call(tt.prototype)}}else{try{throw Error()}catch(qe){Fe=qe}(tt=o())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(qe){if(qe&&Fe&&typeof qe.stack=="string")return[qe.stack,Fe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),z=S[0],ae=S[1];if(z&&ae){var me=z.split(`
`),_e=ae.split(`
`);for(v=m=0;m<me.length&&!me[m].includes("DetermineComponentFrameRoot");)m++;for(;v<_e.length&&!_e[v].includes("DetermineComponentFrameRoot");)v++;if(m===me.length||v===_e.length)for(m=me.length-1,v=_e.length-1;1<=m&&0<=v&&me[m]!==_e[v];)v--;for(;1<=m&&0<=v;m--,v--)if(me[m]!==_e[v]){if(m!==1||v!==1)do if(m--,v--,0>v||me[m]!==_e[v]){var Ye=`
`+me[m].replace(" at new "," at ");return o.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",o.displayName)),Ye}while(1<=m&&0<=v);break}}}finally{Q=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?X(f):""}function $(o){switch(o.tag){case 26:case 27:case 5:return X(o.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return o=ge(o.type,!1),o;case 11:return o=ge(o.type.render,!1),o;case 1:return o=ge(o.type,!0),o;default:return""}}function de(o){try{var c="";do c+=$(o),o=o.return;while(o);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ie(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function ye(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function J(o){if(ie(o)!==o)throw Error(a(188))}function te(o){var c=o.alternate;if(!c){if(c=ie(o),c===null)throw Error(a(188));return c!==o?null:o}for(var f=o,m=c;;){var v=f.return;if(v===null)break;var S=v.alternate;if(S===null){if(m=v.return,m!==null){f=m;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===f)return J(v),o;if(S===m)return J(v),c;S=S.sibling}throw Error(a(188))}if(f.return!==m.return)f=v,m=S;else{for(var z=!1,ae=v.child;ae;){if(ae===f){z=!0,f=v,m=S;break}if(ae===m){z=!0,m=v,f=S;break}ae=ae.sibling}if(!z){for(ae=S.child;ae;){if(ae===f){z=!0,f=S,m=v;break}if(ae===m){z=!0,m=S,f=v;break}ae=ae.sibling}if(!z)throw Error(a(189))}}if(f.alternate!==m)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?o:c}function P(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=P(o),c!==null)return c;o=o.sibling}return null}var Y=Array.isArray,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},re=[],xe=-1;function je(o){return{current:o}}function Se(o){0>xe||(o.current=re[xe],re[xe]=null,xe--)}function Le(o,c){xe++,re[xe]=o.current,o.current=c}var be=je(null),Ge=je(null),Ve=je(null),ze=je(null);function V(o,c){switch(Le(Ve,c),Le(Ge,o),Le(be,null),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)&&(c=c.namespaceURI)?Yb(c):0;break;default:if(o=o===8?c.parentNode:c,c=o.tagName,o=o.namespaceURI)o=Yb(o),c=Gb(o,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Se(be),Le(be,c)}function Pe(){Se(be),Se(Ge),Se(Ve)}function st(o){o.memoizedState!==null&&Le(ze,o);var c=be.current,f=Gb(c,o.type);c!==f&&(Le(Ge,o),Le(be,f))}function rt(o){Ge.current===o&&(Se(be),Se(Ge)),ze.current===o&&(Se(ze),o0._currentValue=ue)}var We=Object.prototype.hasOwnProperty,ut=t.unstable_scheduleCallback,at=t.unstable_cancelCallback,jt=t.unstable_shouldYield,pt=t.unstable_requestPaint,qt=t.unstable_now,ar=t.unstable_getCurrentPriorityLevel,Pt=t.unstable_ImmediatePriority,er=t.unstable_UserBlockingPriority,Wt=t.unstable_NormalPriority,xt=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,bt=t.log,qr=t.unstable_setDisableYieldValue,tr=null,Et=null;function Qt(o){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(tr,o,void 0,(o.current.flags&128)===128)}catch{}}function br(o){if(typeof bt=="function"&&qr(o),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(tr,o)}catch{}}var ht=Math.clz32?Math.clz32:zt,kr=Math.log,Rt=Math.LN2;function zt(o){return o>>>=0,o===0?32:31-(kr(o)/Rt|0)|0}var Cr=128,Ht=4194304;function kt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ur(o,c){var f=o.pendingLanes;if(f===0)return 0;var m=0,v=o.suspendedLanes,S=o.pingedLanes,z=o.warmLanes;o=o.finishedLanes!==0;var ae=f&134217727;return ae!==0?(f=ae&~v,f!==0?m=kt(f):(S&=ae,S!==0?m=kt(S):o||(z=ae&~z,z!==0&&(m=kt(z))))):(ae=f&~v,ae!==0?m=kt(ae):S!==0?m=kt(S):o||(z=f&~z,z!==0&&(m=kt(z)))),m===0?0:c!==0&&c!==m&&(c&v)===0&&(v=m&-m,z=c&-c,v>=z||v===32&&(z&4194176)!==0)?c:m}function fn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function $a(o,c){switch(o){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var o=Cr;return Cr<<=1,(Cr&4194176)===0&&(Cr=128),o}function mn(){var o=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),o}function At(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function ks(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Hs(o,c,f,m,v,S){var z=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var ae=o.entanglements,me=o.expirationTimes,_e=o.hiddenUpdates;for(f=z&~f;0<f;){var Ye=31-ht(f),tt=1<<Ye;ae[Ye]=0,me[Ye]=-1;var Fe=_e[Ye];if(Fe!==null)for(_e[Ye]=null,Ye=0;Ye<Fe.length;Ye++){var qe=Fe[Ye];qe!==null&&(qe.lane&=-536870913)}f&=~tt}m!==0&&Ss(o,m,0),S!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=S&~(z&~c))}function Ss(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-ht(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|f&4194218}function Cs(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var m=31-ht(f),v=1<<m;v&c|o[m]&c&&(o[m]|=c),f&=~v}}function zr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ra(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:hy(o.type))}function Oa(o,c){var f=G.p;try{return G.p=o,c()}finally{G.p=f}}var es=Math.random().toString(36).slice(2),Vr="__reactFiber$"+es,Tr="__reactProps$"+es,Wa="__reactContainer$"+es,ls="__reactEvents$"+es,qs="__reactListeners$"+es,cs="__reactHandles$"+es,ds="__reactResources$"+es,Sa="__reactMarker$"+es;function _s(o){delete o[Vr],delete o[Tr],delete o[ls],delete o[qs],delete o[cs]}function ts(o){var c=o[Vr];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Wa]||f[Vr]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=Qb(o);o!==null;){if(f=o[Vr])return f;o=Qb(o)}return c}o=f,f=o.parentNode}return null}function As(o){if(o=o[Vr]||o[Wa]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function wn(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(a(33))}function ii(o){var c=o[ds];return c||(c=o[ds]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Pr(o){o[Sa]=!0}var Ya=new Set,Nn={};function Dr(o,c){Ca(o,c),Ca(o+"Capture",c)}function Ca(o,c){for(Nn[o]=c,o=0;o<c.length;o++)Ya.add(c[o])}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ls={},yo={};function sl(o){return We.call(yo,o)?!0:We.call(Ls,o)?!1:us.test(o)?yo[o]=!0:(Ls[o]=!0,!1)}function Xa(o,c,f){if(sl(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function xa(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function hs(o,c,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+m)}}function hr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function zi(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Vs(o){var c=zi(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),m=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,S=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return v.call(this)},set:function(z){m=""+z,S.call(this,z)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(z){m=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function pn(o){o._valueTracker||(o._valueTracker=Vs(o))}function oi(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return o&&(m=zi(o)?o.checked?"true":"false":o.value),o=m,o!==f?(c.setValue(o),!0):!1}function Yr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ba=/[\n"\\]/g;function aa(o){return o.replace(ba,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function li(o,c,f,m,v,S,z,ae){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+hr(c)):o.value!==""+hr(c)&&(o.value=""+hr(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?il(o,z,hr(c)):f!=null?il(o,z,hr(f)):m!=null&&o.removeAttribute("value"),v==null&&S!=null&&(o.defaultChecked=!!S),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?o.name=""+hr(ae):o.removeAttribute("name")}function nl(o,c,f,m,v,S,z,ae){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;f=f!=null?""+hr(f):"",c=c!=null?""+hr(c):f,ae||c===o.value||(o.value=c),o.defaultValue=c}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=ae?o.checked:!!m,o.defaultChecked=!!m,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z)}function il(o,c,f){c==="number"&&Yr(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function rs(o,c,f,m){if(o=o.options,c){c={};for(var v=0;v<f.length;v++)c["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=c.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&m&&(o[f].defaultSelected=!0)}else{for(f=""+hr(f),c=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}c!==null||o[v].disabled||(c=o[v])}c!==null&&(c.selected=!0)}}function K(o,c,f){if(c!=null&&(c=""+hr(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+hr(f):""}function le(o,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(a(92));if(Y(m)){if(1<m.length)throw Error(a(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=hr(c),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m)}function pe(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var De=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Je(o,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,f):typeof f!="number"||f===0||De.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function ct(o,c,f){if(c!=null&&typeof c!="object")throw Error(a(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var v in c)m=c[v],c.hasOwnProperty(v)&&f[v]!==m&&Je(o,v,m)}else for(var S in c)c.hasOwnProperty(S)&&Je(o,S,c[S])}function Vt(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(o){return da.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var fs=null;function Ii(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ci=null,vo=null;function Ot(o){var c=As(o);if(c&&(o=c.stateNode)){var f=o[Tr]||null;e:switch(o=c.stateNode,c.type){case"input":if(li(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+aa(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==o&&m.form===o.form){var v=m[Tr]||null;if(!v)throw Error(a(90));li(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===o.form&&oi(m)}break e;case"textarea":K(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&rs(o,!!f.multiple,c,!1)}}}var Kc=!1;function iu(o,c,f){if(Kc)return o(c,f);Kc=!0;try{var m=o(c);return m}finally{if(Kc=!1,(ci!==null||vo!==null)&&(Pf(),ci&&(c=ci,o=vo,vo=ci=null,Ot(c),o)))for(c=0;c<o.length;c++)Ot(o[c])}}function ol(o,c){var f=o.stateNode;if(f===null)return null;var m=f[Tr]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(a(231,c,typeof f));return f}var In=!1;if(Ga)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){In=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{In=!1}var di=null,Jc=null,Ui=null;function tc(){if(Ui)return Ui;var o,c=Jc,f=c.length,m,v="value"in di?di.value:di.textContent,S=v.length;for(o=0;o<f&&c[o]===v[o];o++);var z=f-o;for(m=1;m<=z&&c[f-m]===v[S-m];m++);return Ui=v.slice(o,1<m?1-m:void 0)}function ui(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function rc(){return!0}function hi(){return!1}function gs(o){function c(f,m,v,S,z){this._reactName=f,this._targetInst=v,this.type=m,this.nativeEvent=S,this.target=z,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(f=o[ae],this[ae]=f?f(S):S[ae]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?rc:hi,this.isPropagationStopped=hi,this}return W(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),c}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=gs(Un),No=W({},Un,{view:0,detail:0}),Hi=gs(No),ll,jo,qi,fi=W({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==qi&&(qi&&o.type==="mousemove"?(ll=o.screenX-qi.screenX,jo=o.screenY-qi.screenY):jo=ll=0,qi=o),ll)},movementY:function(o){return"movementY"in o?o.movementY:jo}}),ac=gs(fi),ou=W({},fi,{dataTransfer:0}),lu=gs(ou),Vi=W({},No,{relatedTarget:0}),Hn=gs(Vi),cu=W({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),cl=gs(cu),du=W({},Un,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_=gs(du),q=W({},Un,{data:0}),fe=gs(q),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qe(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=$e[o])?!!c[o]:!1}function mt(){return Qe}var St=W({},No,{key:function(o){if(o.key){var c=ve[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=ui(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ee[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mt,charCode:function(o){return o.type==="keypress"?ui(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ui(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ft=gs(St),Yt=W({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mr=gs(Yt),sa=W({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mt}),_a=gs(sa),Ir=W({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fa=gs(Ir),Aa=W({},fi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),as=gs(Aa),$i=W({},Un,{newState:0,oldState:0}),qn=gs($i),Wi=[9,13,27,32],dl=Ga&&"CompositionEvent"in window,gi=null;Ga&&"documentMode"in document&&(gi=document.documentMode);var ko=Ga&&"TextEvent"in window&&!gi,So=Ga&&(!dl||gi&&8<gi&&11>=gi),Co=" ",Yi=!1;function Za(o,c){switch(o){case"keyup":return Wi.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var jn=!1;function ed(o,c){switch(o){case"compositionend":return _o(c);case"keypress":return c.which!==32?null:(Yi=!0,Co);case"textInput":return o=c.data,o===Co&&Yi?null:o;default:return null}}function td(o,c){if(jn)return o==="compositionend"||!dl&&Za(o,c)?(o=tc(),Ui=Jc=di=null,jn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return So&&c.locale!=="ko"?null:c.data;default:return null}}var Es={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mi(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Es[o.type]:c==="textarea"}function ul(o,c,f,m){ci?vo?vo.push(m):vo=[m]:ci=m,c=zf(c,"onChange"),0<c.length&&(f=new wo("onChange","change",null,f,m),o.push({event:f,listeners:c}))}var Ao=null,ms=null;function hl(o){Hb(o,0)}function Lo(o){var c=wn(o);if(oi(c))return o}function sc(o,c){if(o==="change")return c}var Gi=!1;if(Ga){var Xi;if(Ga){var Ms="oninput"in document;if(!Ms){var $s=document.createElement("div");$s.setAttribute("oninput","return;"),Ms=typeof $s.oninput=="function"}Xi=Ms}else Xi=!1;Gi=Xi&&(!document.documentMode||9<document.documentMode)}function Zi(){Ao&&(Ao.detachEvent("onpropertychange",pi),ms=Ao=null)}function pi(o){if(o.propertyName==="value"&&Lo(ms)){var c=[];ul(c,ms,o,Ii(o)),iu(hl,c)}}function Eo(o,c,f){o==="focusin"?(Zi(),Ao=c,ms=f,Ao.attachEvent("onpropertychange",pi)):o==="focusout"&&Zi()}function rd(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Lo(ms)}function nc(o,c){if(o==="click")return Lo(c)}function ya(o,c){if(o==="input"||o==="change")return Lo(c)}function uu(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ua=typeof Object.is=="function"?Object.is:uu;function Ws(o,c){if(ua(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var v=f[m];if(!We.call(c,v)||!ua(o[v],c[v]))return!1}return!0}function ic(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function oc(o,c){var f=ic(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=c&&m>=c)return{node:f,offset:c-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ic(f)}}function lc(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?lc(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function cc(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Yr(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Yr(o.document)}return c}function xi(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function Mo(o,c){var f=cc(c);c=o.focusedElem;var m=o.selectionRange;if(f!==c&&c&&c.ownerDocument&&lc(c.ownerDocument.documentElement,c)){if(m!==null&&xi(c)){if(o=m.start,f=m.end,f===void 0&&(f=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(f,c.value.length);else if(f=(o=c.ownerDocument||document)&&o.defaultView||window,f.getSelection){f=f.getSelection();var v=c.textContent.length,S=Math.min(m.start,v);m=m.end===void 0?S:Math.min(m.end,v),!f.extend&&S>m&&(v=m,m=S,S=v),v=oc(c,S);var z=oc(c,m);v&&z&&(f.rangeCount!==1||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==z.node||f.focusOffset!==z.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),f.removeAllRanges(),S>m?(f.addRange(o),f.extend(z.node,z.offset)):(o.setEnd(z.node,z.offset),f.addRange(o)))}}for(o=[],f=c;f=f.parentNode;)f.nodeType===1&&o.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)f=o[c],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Ro=Ga&&"documentMode"in document&&11>=document.documentMode,kn=null,bi=null,Vn=null,Ys=!1;function $n(o,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ys||kn==null||kn!==Yr(m)||(m=kn,"selectionStart"in m&&xi(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Vn&&Ws(Vn,m)||(Vn=m,m=zf(bi,"onSelect"),0<m.length&&(c=new wo("onSelect","select",null,c,f),o.push({event:c,listeners:m}),c.target=kn)))}function ir(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var vr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},na={},La={};Ga&&(La=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function Rs(o){if(na[o])return na[o];if(!vr[o])return o;var c=vr[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in La)return na[o]=c[f];return o}var dc=Rs("animationend"),fl=Rs("animationiteration"),ad=Rs("animationstart"),of=Rs("transitionrun"),lf=Rs("transitionstart"),cf=Rs("transitioncancel"),Ah=Rs("transitionend"),Lh=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ts(o,c){Lh.set(o,c),Dr(c,[o])}var bn=[],gl=0,hu=0;function sd(){for(var o=gl,c=hu=gl=0;c<o;){var f=bn[c];bn[c++]=null;var m=bn[c];bn[c++]=null;var v=bn[c];bn[c++]=null;var S=bn[c];if(bn[c++]=null,m!==null&&v!==null){var z=m.pending;z===null?v.next=v:(v.next=z.next,z.next=v),m.pending=v}S!==0&&Mh(f,v,S)}}function nd(o,c,f,m){bn[gl++]=o,bn[gl++]=c,bn[gl++]=f,bn[gl++]=m,hu|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function fu(o,c,f,m){return nd(o,c,f,m),uc(o)}function Qi(o,c){return nd(o,null,null,c),uc(o)}function Mh(o,c,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var v=!1,S=o.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(v=!0)),o=S,S=S.return;v&&c!==null&&o.tag===3&&(S=o.stateNode,v=31-ht(f),S=S.hiddenUpdates,o=S[v],o===null?S[v]=[c]:o.push(c),c.lane=f|536870912)}function uc(o){if(50<e0)throw e0=0,hp=null,Error(a(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Ki={},Gs=new WeakMap;function ia(o,c){if(typeof o=="object"&&o!==null){var f=Gs.get(o);return f!==void 0?f:(c={value:o,source:c,stack:de(c)},Gs.set(o,c),c)}return{value:o,source:c,stack:de(c)}}var Ji=[],eo=0,id=null,ml=0,Ps=[],Xs=0,To=null,Wn=1,Yn="";function yi(o,c){Ji[eo++]=ml,Ji[eo++]=id,id=o,ml=c}function gu(o,c,f){Ps[Xs++]=Wn,Ps[Xs++]=Yn,Ps[Xs++]=To,To=o;var m=Wn;o=Yn;var v=32-ht(m)-1;m&=~(1<<v),f+=1;var S=32-ht(c)+v;if(30<S){var z=v-v%5;S=(m&(1<<z)-1).toString(32),m>>=z,v-=z,Wn=1<<32-ht(c)+v|f<<v|m,Yn=S+o}else Wn=1<<S|f<<v|m,Yn=o}function Rh(o){o.return!==null&&(yi(o,1),gu(o,1,0))}function Th(o){for(;o===id;)id=Ji[--eo],Ji[eo]=null,ml=Ji[--eo],Ji[eo]=null;for(;o===To;)To=Ps[--Xs],Ps[Xs]=null,Yn=Ps[--Xs],Ps[Xs]=null,Wn=Ps[--Xs],Ps[Xs]=null}var ps=null,ss=null,wr=!1,Gn=null,vi=!1,Ph=Error(a(519));function to(o){var c=Error(a(418,""));throw fc(ia(c,o)),Ph}function mu(o){var c=o.stateNode,f=o.type,m=o.memoizedProps;switch(c[Vr]=o,c[Tr]=m,f){case"dialog":yr("cancel",c),yr("close",c);break;case"iframe":case"object":case"embed":yr("load",c);break;case"video":case"audio":for(f=0;f<r0.length;f++)yr(r0[f],c);break;case"source":yr("error",c);break;case"img":case"image":case"link":yr("error",c),yr("load",c);break;case"details":yr("toggle",c);break;case"input":yr("invalid",c),nl(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),pn(c);break;case"select":yr("invalid",c);break;case"textarea":yr("invalid",c),le(c,m.value,m.defaultValue,m.children),pn(c)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||Wb(c.textContent,f)?(m.popover!=null&&(yr("beforetoggle",c),yr("toggle",c)),m.onScroll!=null&&yr("scroll",c),m.onScrollEnd!=null&&yr("scrollend",c),m.onClick!=null&&(c.onclick=If),c=!0):c=!1,c||to(o)}function hc(o){for(ps=o.return;ps;)switch(ps.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:ps=ps.return}}function od(o){if(o!==ps)return!1;if(!wr)return hc(o),wr=!0,!1;var c=!1,f;if((f=o.tag!==3&&o.tag!==27)&&((f=o.tag===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Lp(o.type,o.memoizedProps)),f=!f),f&&(c=!0),c&&ss&&to(o),hc(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(c===0){ss=co(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;o=o.nextSibling}ss=null}}else ss=ps?co(o.stateNode.nextSibling):null;return!0}function ld(){ss=ps=null,wr=!1}function fc(o){Gn===null?Gn=[o]:Gn.push(o)}var cd=Error(a(460)),df=Error(a(474)),Dh={then:function(){}};function uf(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Xn(){}function Sn(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(Xn,Xn),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,o===cd?Error(a(483)):o;default:if(typeof c.status=="string")c.then(Xn,Xn);else{if(o=Zr,o!==null&&100<o.shellSuspendCounter)throw Error(a(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=m}},function(m){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,o===cd?Error(a(483)):o}throw yn=c,cd}}var yn=null;function hf(){if(yn===null)throw Error(a(459));var o=yn;return yn=null,o}var pl=null,Cn=0;function Ds(o){var c=Cn;return Cn+=1,pl===null&&(pl=[]),Sn(pl,o,c)}function dd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function pu(o,c){throw c.$$typeof===i?Error(a(525)):(o=Object.prototype.toString.call(c),Error(a(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Oh(o){var c=o._init;return c(o._payload)}function Fh(o){function c(Me,Ce){if(o){var Te=Me.deletions;Te===null?(Me.deletions=[Ce],Me.flags|=16):Te.push(Ce)}}function f(Me,Ce){if(!o)return null;for(;Ce!==null;)c(Me,Ce),Ce=Ce.sibling;return null}function m(Me){for(var Ce=new Map;Me!==null;)Me.key!==null?Ce.set(Me.key,Me):Ce.set(Me.index,Me),Me=Me.sibling;return Ce}function v(Me,Ce){return Me=Cc(Me,Ce),Me.index=0,Me.sibling=null,Me}function S(Me,Ce,Te){return Me.index=Te,o?(Te=Me.alternate,Te!==null?(Te=Te.index,Te<Ce?(Me.flags|=33554434,Ce):Te):(Me.flags|=33554434,Ce)):(Me.flags|=1048576,Ce)}function z(Me){return o&&Me.alternate===null&&(Me.flags|=33554434),Me}function ae(Me,Ce,Te,Xe){return Ce===null||Ce.tag!==6?(Ce=sp(Te,Me.mode,Xe),Ce.return=Me,Ce):(Ce=v(Ce,Te),Ce.return=Me,Ce)}function me(Me,Ce,Te,Xe){var wt=Te.type;return wt===u?Ye(Me,Ce,Te.props.children,Xe,Te.key):Ce!==null&&(Ce.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===L&&Oh(wt)===Ce.type)?(Ce=v(Ce,Te.props),dd(Ce,Te),Ce.return=Me,Ce):(Ce=Lf(Te.type,Te.key,Te.props,null,Me.mode,Xe),dd(Ce,Te),Ce.return=Me,Ce)}function _e(Me,Ce,Te,Xe){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Te.containerInfo||Ce.stateNode.implementation!==Te.implementation?(Ce=np(Te,Me.mode,Xe),Ce.return=Me,Ce):(Ce=v(Ce,Te.children||[]),Ce.return=Me,Ce)}function Ye(Me,Ce,Te,Xe,wt){return Ce===null||Ce.tag!==7?(Ce=jd(Te,Me.mode,Xe,wt),Ce.return=Me,Ce):(Ce=v(Ce,Te),Ce.return=Me,Ce)}function tt(Me,Ce,Te){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=sp(""+Ce,Me.mode,Te),Ce.return=Me,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return Te=Lf(Ce.type,Ce.key,Ce.props,null,Me.mode,Te),dd(Te,Ce),Te.return=Me,Te;case d:return Ce=np(Ce,Me.mode,Te),Ce.return=Me,Ce;case L:var Xe=Ce._init;return Ce=Xe(Ce._payload),tt(Me,Ce,Te)}if(Y(Ce)||se(Ce))return Ce=jd(Ce,Me.mode,Te,null),Ce.return=Me,Ce;if(typeof Ce.then=="function")return tt(Me,Ds(Ce),Te);if(Ce.$$typeof===p)return tt(Me,Cf(Me,Ce),Te);pu(Me,Ce)}return null}function Fe(Me,Ce,Te,Xe){var wt=Ce!==null?Ce.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return wt!==null?null:ae(Me,Ce,""+Te,Xe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:return Te.key===wt?me(Me,Ce,Te,Xe):null;case d:return Te.key===wt?_e(Me,Ce,Te,Xe):null;case L:return wt=Te._init,Te=wt(Te._payload),Fe(Me,Ce,Te,Xe)}if(Y(Te)||se(Te))return wt!==null?null:Ye(Me,Ce,Te,Xe,null);if(typeof Te.then=="function")return Fe(Me,Ce,Ds(Te),Xe);if(Te.$$typeof===p)return Fe(Me,Ce,Cf(Me,Te),Xe);pu(Me,Te)}return null}function qe(Me,Ce,Te,Xe,wt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Me=Me.get(Te)||null,ae(Ce,Me,""+Xe,wt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case l:return Me=Me.get(Xe.key===null?Te:Xe.key)||null,me(Ce,Me,Xe,wt);case d:return Me=Me.get(Xe.key===null?Te:Xe.key)||null,_e(Ce,Me,Xe,wt);case L:var dr=Xe._init;return Xe=dr(Xe._payload),qe(Me,Ce,Te,Xe,wt)}if(Y(Xe)||se(Xe))return Me=Me.get(Te)||null,Ye(Ce,Me,Xe,wt,null);if(typeof Xe.then=="function")return qe(Me,Ce,Te,Ds(Xe),wt);if(Xe.$$typeof===p)return qe(Me,Ce,Te,Cf(Ce,Xe),wt);pu(Ce,Xe)}return null}function Ct(Me,Ce,Te,Xe){for(var wt=null,dr=null,Lt=Ce,Tt=Ce=0,ys=null;Lt!==null&&Tt<Te.length;Tt++){Lt.index>Tt?(ys=Lt,Lt=null):ys=Lt.sibling;var Lr=Fe(Me,Lt,Te[Tt],Xe);if(Lr===null){Lt===null&&(Lt=ys);break}o&&Lt&&Lr.alternate===null&&c(Me,Lt),Ce=S(Lr,Ce,Tt),dr===null?wt=Lr:dr.sibling=Lr,dr=Lr,Lt=ys}if(Tt===Te.length)return f(Me,Lt),wr&&yi(Me,Tt),wt;if(Lt===null){for(;Tt<Te.length;Tt++)Lt=tt(Me,Te[Tt],Xe),Lt!==null&&(Ce=S(Lt,Ce,Tt),dr===null?wt=Lt:dr.sibling=Lt,dr=Lt);return wr&&yi(Me,Tt),wt}for(Lt=m(Lt);Tt<Te.length;Tt++)ys=qe(Lt,Me,Tt,Te[Tt],Xe),ys!==null&&(o&&ys.alternate!==null&&Lt.delete(ys.key===null?Tt:ys.key),Ce=S(ys,Ce,Tt),dr===null?wt=ys:dr.sibling=ys,dr=ys);return o&&Lt.forEach(function(Tc){return c(Me,Tc)}),wr&&yi(Me,Tt),wt}function Xt(Me,Ce,Te,Xe){if(Te==null)throw Error(a(151));for(var wt=null,dr=null,Lt=Ce,Tt=Ce=0,ys=null,Lr=Te.next();Lt!==null&&!Lr.done;Tt++,Lr=Te.next()){Lt.index>Tt?(ys=Lt,Lt=null):ys=Lt.sibling;var Tc=Fe(Me,Lt,Lr.value,Xe);if(Tc===null){Lt===null&&(Lt=ys);break}o&&Lt&&Tc.alternate===null&&c(Me,Lt),Ce=S(Tc,Ce,Tt),dr===null?wt=Tc:dr.sibling=Tc,dr=Tc,Lt=ys}if(Lr.done)return f(Me,Lt),wr&&yi(Me,Tt),wt;if(Lt===null){for(;!Lr.done;Tt++,Lr=Te.next())Lr=tt(Me,Lr.value,Xe),Lr!==null&&(Ce=S(Lr,Ce,Tt),dr===null?wt=Lr:dr.sibling=Lr,dr=Lr);return wr&&yi(Me,Tt),wt}for(Lt=m(Lt);!Lr.done;Tt++,Lr=Te.next())Lr=qe(Lt,Me,Tt,Lr.value,Xe),Lr!==null&&(o&&Lr.alternate!==null&&Lt.delete(Lr.key===null?Tt:Lr.key),Ce=S(Lr,Ce,Tt),dr===null?wt=Lr:dr.sibling=Lr,dr=Lr);return o&&Lt.forEach(function(ek){return c(Me,ek)}),wr&&yi(Me,Tt),wt}function Ra(Me,Ce,Te,Xe){if(typeof Te=="object"&&Te!==null&&Te.type===u&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:e:{for(var wt=Te.key;Ce!==null;){if(Ce.key===wt){if(wt=Te.type,wt===u){if(Ce.tag===7){f(Me,Ce.sibling),Xe=v(Ce,Te.props.children),Xe.return=Me,Me=Xe;break e}}else if(Ce.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===L&&Oh(wt)===Ce.type){f(Me,Ce.sibling),Xe=v(Ce,Te.props),dd(Xe,Te),Xe.return=Me,Me=Xe;break e}f(Me,Ce);break}else c(Me,Ce);Ce=Ce.sibling}Te.type===u?(Xe=jd(Te.props.children,Me.mode,Xe,Te.key),Xe.return=Me,Me=Xe):(Xe=Lf(Te.type,Te.key,Te.props,null,Me.mode,Xe),dd(Xe,Te),Xe.return=Me,Me=Xe)}return z(Me);case d:e:{for(wt=Te.key;Ce!==null;){if(Ce.key===wt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Te.containerInfo&&Ce.stateNode.implementation===Te.implementation){f(Me,Ce.sibling),Xe=v(Ce,Te.children||[]),Xe.return=Me,Me=Xe;break e}else{f(Me,Ce);break}else c(Me,Ce);Ce=Ce.sibling}Xe=np(Te,Me.mode,Xe),Xe.return=Me,Me=Xe}return z(Me);case L:return wt=Te._init,Te=wt(Te._payload),Ra(Me,Ce,Te,Xe)}if(Y(Te))return Ct(Me,Ce,Te,Xe);if(se(Te)){if(wt=se(Te),typeof wt!="function")throw Error(a(150));return Te=wt.call(Te),Xt(Me,Ce,Te,Xe)}if(typeof Te.then=="function")return Ra(Me,Ce,Ds(Te),Xe);if(Te.$$typeof===p)return Ra(Me,Ce,Cf(Me,Te),Xe);pu(Me,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,Ce!==null&&Ce.tag===6?(f(Me,Ce.sibling),Xe=v(Ce,Te),Xe.return=Me,Me=Xe):(f(Me,Ce),Xe=sp(Te,Me.mode,Xe),Xe.return=Me,Me=Xe),z(Me)):f(Me,Ce)}return function(Me,Ce,Te,Xe){try{Cn=0;var wt=Ra(Me,Ce,Te,Xe);return pl=null,wt}catch(Lt){if(Lt===cd)throw Lt;var dr=Si(29,Lt,null,Me.mode);return dr.lanes=Xe,dr.return=Me,dr}finally{}}}var Po=Fh(!0),Bh=Fh(!1),gc=je(null),xl=je(0);function ud(o,c){o=Al,Le(xl,o),Le(gc,c),Al=o|c.baseLanes}function bl(){Le(xl,Al),Le(gc,gc.current)}function hd(){Al=xl.current,Se(gc),Se(xl)}var _n=je(null),Zn=null;function Do(o){var c=o.alternate;Le(Ba,Ba.current&1),Le(_n,o),Zn===null&&(c===null||gc.current!==null||c.memoizedState!==null)&&(Zn=o)}function ff(o){if(o.tag===22){if(Le(Ba,Ba.current),Le(_n,o),Zn===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Zn=o)}}else Oo()}function Oo(){Le(Ba,Ba.current),Le(_n,_n.current)}function ro(o){Se(_n),Zn===o&&(Zn=null),Se(Ba)}var Ba=je(0);function xu(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var gf=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},bu=t.unstable_scheduleCallback,Tm=t.unstable_NormalPriority,za={$$typeof:p,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new gf,data:new Map,refCount:0}}function b(o){o.refCount--,o.refCount===0&&bu(Tm,function(){o.controller.abort()})}var N=null,A=0,M=0,H=null;function Z(o,c){if(N===null){var f=N=[];A=0,M=vp(),H={status:"pending",value:void 0,then:function(m){f.push(m)}}}return A++,c.then(ee,ee),c}function ee(){if(--A===0&&N!==null){H!==null&&(H.status="fulfilled");var o=N;N=null,M=0,H=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function ne(o,c){var f=[],m={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var v=0;v<f.length;v++)(0,f[v])(c)},function(v){for(m.status="rejected",m.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),m}var oe=T.S;T.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Z(o,c),oe!==null&&oe(o,c)};var ce=je(null);function Ne(){var o=ce.current;return o!==null?o:Zr.pooledCache}function Re(o,c){c===null?Le(ce,ce.current):Le(ce,c.pool)}function he(){var o=Ne();return o===null?null:{parent:za._currentValue,pool:o}}var ke=0,we=null,Oe=null,Ae=null,Ue=!1,He=!1,et=!1,Ze=0,yt=0,dt=null,Kt=0;function nt(){throw Error(a(321))}function nr(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!ua(o[f],c[f]))return!1;return!0}function va(o,c,f,m,v,S){return ke=S,we=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,T.H=o===null||o.memoizedState===null?yl:En,et=!1,S=f(m,v),et=!1,He&&(S=vt(c,f,m,v)),Gt(o),S}function Gt(o){T.H=Qn;var c=Oe!==null&&Oe.next!==null;if(ke=0,Ae=Oe=we=null,Ue=!1,yt=0,dt=null,c)throw Error(a(300));o===null||xs||(o=o.dependencies,o!==null&&Sf(o)&&(xs=!0))}function vt(o,c,f,m){we=o;var v=0;do{if(He&&(dt=null),yt=0,He=!1,25<=v)throw Error(a(301));if(v+=1,Ae=Oe=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}T.H=no,S=c(f,m)}while(He);return S}function ot(){var o=T.H,c=o.useState()[0];return c=typeof c.then=="function"?Ur(c):c,o=o.useState()[0],(Oe!==null?Oe.memoizedState:null)!==o&&(we.flags|=1024),c}function oa(){var o=Ze!==0;return Ze=0,o}function It(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function or(o){if(Ue){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ue=!1}ke=0,Ae=Oe=we=null,He=!1,yt=Ze=0,dt=null}function sr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?we.memoizedState=Ae=o:Ae=Ae.next=o,Ae}function lr(){if(Oe===null){var o=we.alternate;o=o!==null?o.memoizedState:null}else o=Oe.next;var c=Ae===null?we.memoizedState:Ae.next;if(c!==null)Ae=c,Oe=o;else{if(o===null)throw we.alternate===null?Error(a(467)):Error(a(310));Oe=o,o={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ae===null?we.memoizedState=Ae=o:Ae=Ae.next=o}return Ae}var Qa;Qa=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ur(o){var c=yt;return yt+=1,dt===null&&(dt=[]),o=Sn(dt,o,c),c=we,(Ae===null?c.memoizedState:Ae.next)===null&&(c=c.alternate,T.H=c===null||c.memoizedState===null?yl:En),o}function Ia(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ur(o);if(o.$$typeof===p)return en(o)}throw Error(a(438,String(o)))}function ns(o){var c=null,f=we.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=we.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Qa(),we.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),m=0;m<o;m++)f[m]=D;return c.index++,f}function Or(o,c){return typeof c=="function"?c(o):c}function cr(o){var c=lr();return Sr(c,Oe,o)}function Sr(o,c,f){var m=o.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=f;var v=o.baseQueue,S=m.pending;if(S!==null){if(v!==null){var z=v.next;v.next=S.next,S.next=z}c.baseQueue=v=S,m.pending=null}if(S=o.baseState,v===null)o.memoizedState=S;else{c=v.next;var ae=z=null,me=null,_e=c,Ye=!1;do{var tt=_e.lane&-536870913;if(tt!==_e.lane?(Nr&tt)===tt:(ke&tt)===tt){var Fe=_e.revertLane;if(Fe===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),tt===M&&(Ye=!0);else if((ke&Fe)===Fe){_e=_e.next,Fe===M&&(Ye=!0);continue}else tt={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},me===null?(ae=me=tt,z=S):me=me.next=tt,we.lanes|=Fe,_c|=Fe;tt=_e.action,et&&f(S,tt),S=_e.hasEagerState?_e.eagerState:f(S,tt)}else Fe={lane:tt,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},me===null?(ae=me=Fe,z=S):me=me.next=Fe,we.lanes|=tt,_c|=tt;_e=_e.next}while(_e!==null&&_e!==c);if(me===null?z=S:me.next=ae,!ua(S,o.memoizedState)&&(xs=!0,Ye&&(f=H,f!==null)))throw f;o.memoizedState=S,o.baseState=z,o.baseQueue=me,m.lastRenderedState=S}return v===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Xr(o){var c=lr(),f=c.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=o;var m=f.dispatch,v=f.pending,S=c.memoizedState;if(v!==null){f.pending=null;var z=v=v.next;do S=o(S,z.action),z=z.next;while(z!==v);ua(S,c.memoizedState)||(xs=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,m]}function Ar(o,c,f){var m=we,v=lr(),S=wr;if(S){if(f===void 0)throw Error(a(407));f=f()}else f=c();var z=!ua((Oe||v).memoizedState,f);if(z&&(v.memoizedState=f,xs=!0),v=v.queue,md(ha.bind(null,m,v,o),[o]),v.getSnapshot!==c||z||Ae!==null&&Ae.memoizedState.tag&1){if(m.flags|=2048,Bo(9,An.bind(null,m,v,f,c),{destroy:void 0},null),Zr===null)throw Error(a(349));S||(ke&60)!==0||Ka(m,c,f)}return f}function Ka(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=we.updateQueue,c===null?(c=Qa(),we.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function An(o,c,f,m){c.value=f,c.getSnapshot=m,Os(c)&&Mr(o)}function ha(o,c,f){return f(function(){Os(c)&&Mr(o)})}function Os(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!ua(o,f)}catch{return!0}}function Mr(o){var c=Qi(o,2);c!==null&&vn(c,o,2)}function wa(o){var c=sr();if(typeof o=="function"){var f=o;if(o=f(),et){br(!0);try{f()}finally{br(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:o},c}function Zs(o,c,f,m){return o.baseState=f,Sr(o,Oe,typeof m=="function"?m:Or)}function Fs(o,c,f,m,v){if(_u(o))throw Error(a(485));if(o=c.action,o!==null){var S={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){S.listeners.push(z)}};T.T!==null?f(!0):S.isTransition=!1,m(S),f=c.pending,f===null?(S.next=c.pending=S,Qs(c,S)):(S.next=f.next,c.pending=f.next=S)}}function Qs(o,c){var f=c.action,m=c.payload,v=o.state;if(c.isTransition){var S=T.T,z={};T.T=z;try{var ae=f(v,m),me=T.S;me!==null&&me(z,ae),Ks(o,c,ae)}catch(_e){zs(o,c,_e)}finally{T.T=S}}else try{S=f(v,m),Ks(o,c,S)}catch(_e){zs(o,c,_e)}}function Ks(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Bs(o,c,m)},function(m){return zs(o,c,m)}):Bs(o,c,f)}function Bs(o,c,f){c.status="fulfilled",c.value=f,Fr(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,Qs(o,f)))}function zs(o,c,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,Fr(c),c=c.next;while(c!==m)}o.action=null}function Fr(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Js(o,c){return c}function Ln(o,c){if(wr){var f=Zr.formState;if(f!==null){e:{var m=we;if(wr){if(ss){t:{for(var v=ss,S=vi;v.nodeType!==8;){if(!S){v=null;break t}if(v=co(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){ss=co(v.nextSibling),m=v.data==="F!";break e}}to(m)}m=!1}m&&(c=f[0])}}return f=sr(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:c},f.queue=m,f=Nf.bind(null,we,m),m.dispatch=f,m=wa(!1),S=Io.bind(null,we,!1,m.queue),m=sr(),v={state:c,dispatch:null,action:o,pending:null},m.queue=v,f=Fs.bind(null,we,v,S,f),v.dispatch=f,m.memoizedState=o,[c,f,!1]}function Fo(o){var c=lr();return wi(c,Oe,o)}function wi(o,c,f){c=Sr(o,c,Js)[0],o=cr(Or)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?Ur(c):c;var m=lr(),v=m.queue,S=v.dispatch;return f!==m.memoizedState&&(we.flags|=2048,Bo(9,is.bind(null,v,f),{destroy:void 0},null)),[c,S,o]}function is(o,c){o.action=c}function fd(o){var c=lr(),f=Oe;if(f!==null)return wi(c,f,o);lr(),c=c.memoizedState,f=lr();var m=f.queue.dispatch;return f.memoizedState=o,[c,m,!1]}function Bo(o,c,f,m){return o={tag:o,create:c,inst:f,deps:m,next:null},c=we.updateQueue,c===null&&(c=Qa(),we.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,c.lastEffect=o),o}function gd(){return lr().memoizedState}function zo(o,c,f,m){var v=sr();we.flags|=o,v.memoizedState=Bo(1|c,f,{destroy:void 0},m===void 0?null:m)}function vu(o,c,f,m){var v=lr();m=m===void 0?null:m;var S=v.memoizedState.inst;Oe!==null&&m!==null&&nr(m,Oe.memoizedState.deps)?v.memoizedState=Bo(c,f,S,m):(we.flags|=o,v.memoizedState=Bo(1|c,f,S,m))}function mf(o,c){zo(8390656,8,o,c)}function md(o,c){vu(2048,8,o,c)}function ao(o,c){return vu(4,2,o,c)}function pf(o,c){return vu(4,4,o,c)}function xf(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function bf(o,c,f){f=f!=null?f.concat([o]):null,vu(4,4,xf.bind(null,c,o),f)}function wu(){}function pd(o,c){var f=lr();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&nr(c,m[1])?m[0]:(f.memoizedState=[o,c],o)}function zh(o,c){var f=lr();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&nr(c,m[1]))return m[0];if(m=o(),et){br(!0);try{o()}finally{br(!1)}}return f.memoizedState=[m,c],m}function Nu(o,c,f){return f===void 0||(ke&1073741824)!==0?o.memoizedState=c:(o.memoizedState=f,o=kb(),we.lanes|=o,_c|=o,f)}function xd(o,c,f,m){return ua(f,c)?f:gc.current!==null?(o=Nu(o,f,m),ua(o,c)||(xs=!0),o):(ke&42)===0?(xs=!0,o.memoizedState=f):(o=kb(),we.lanes|=o,_c|=o,c)}function ju(o,c,f,m,v){var S=G.p;G.p=S!==0&&8>S?S:8;var z=T.T,ae={};T.T=ae,Io(o,!1,c,f);try{var me=v(),_e=T.S;if(_e!==null&&_e(ae,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ye=ne(me,m);mc(o,c,Ye,ri(o))}else mc(o,c,m,ri(o))}catch(tt){mc(o,c,{then:function(){},status:"rejected",reason:tt},ri())}finally{G.p=S,T.T=z}}function bd(){}function ku(o,c,f,m){if(o.tag!==5)throw Error(a(476));var v=yf(o).queue;ju(o,v,c,ue,f===null?bd:function(){return yd(o),f(m)})}function yf(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ue},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function yd(o){var c=yf(o).next.queue;mc(o,c,{},ri())}function Su(){return en(o0)}function Cu(){return lr().memoizedState}function so(){return lr().memoizedState}function vf(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=ri();o=wc(f);var m=Nc(c,o,f);m!==null&&(vn(m,c,f),Vh(m,c,f)),c={cache:yu()},o.payload=c;return}c=c.return}}function wf(o,c,f){var m=ri();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},_u(o)?Ih(c,f):(f=fu(o,c,f,m),f!==null&&(vn(f,o,m),jf(f,c,m)))}function Nf(o,c,f){var m=ri();mc(o,c,f,m)}function mc(o,c,f,m){var v={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(_u(o))Ih(c,v);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var z=c.lastRenderedState,ae=S(z,f);if(v.hasEagerState=!0,v.eagerState=ae,ua(ae,z))return nd(o,c,v,0),Zr===null&&sd(),!1}catch{}finally{}if(f=fu(o,c,v,m),f!==null)return vn(f,o,m),jf(f,c,m),!0}return!1}function Io(o,c,f,m){if(m={lane:2,revertLane:vp(),action:m,hasEagerState:!1,eagerState:null,next:null},_u(o)){if(c)throw Error(a(479))}else c=fu(o,f,m,2),c!==null&&vn(c,o,2)}function _u(o){var c=o.alternate;return o===we||c!==null&&c===we}function Ih(o,c){He=Ue=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function jf(o,c,f){if((f&4194176)!==0){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Cs(o,f)}}var Qn={readContext:en,use:Ia,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt};Qn.useCacheRefresh=nt,Qn.useMemoCache=nt,Qn.useHostTransitionStatus=nt,Qn.useFormState=nt,Qn.useActionState=nt,Qn.useOptimistic=nt;var yl={readContext:en,use:Ia,useCallback:function(o,c){return sr().memoizedState=[o,c===void 0?null:c],o},useContext:en,useEffect:mf,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,zo(4194308,4,xf.bind(null,c,o),f)},useLayoutEffect:function(o,c){return zo(4194308,4,o,c)},useInsertionEffect:function(o,c){zo(4,2,o,c)},useMemo:function(o,c){var f=sr();c=c===void 0?null:c;var m=o();if(et){br(!0);try{o()}finally{br(!1)}}return f.memoizedState=[m,c],m},useReducer:function(o,c,f){var m=sr();if(f!==void 0){var v=f(c);if(et){br(!0);try{f(c)}finally{br(!1)}}}else v=c;return m.memoizedState=m.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},m.queue=o,o=o.dispatch=wf.bind(null,we,o),[m.memoizedState,o]},useRef:function(o){var c=sr();return o={current:o},c.memoizedState=o},useState:function(o){o=wa(o);var c=o.queue,f=Nf.bind(null,we,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:wu,useDeferredValue:function(o,c){var f=sr();return Nu(f,o,c)},useTransition:function(){var o=wa(!1);return o=ju.bind(null,we,o.queue,!0,!1),sr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var m=we,v=sr();if(wr){if(f===void 0)throw Error(a(407));f=f()}else{if(f=c(),Zr===null)throw Error(a(349));(Nr&60)!==0||Ka(m,c,f)}v.memoizedState=f;var S={value:f,getSnapshot:c};return v.queue=S,mf(ha.bind(null,m,S,o),[o]),m.flags|=2048,Bo(9,An.bind(null,m,S,f,c),{destroy:void 0},null),f},useId:function(){var o=sr(),c=Zr.identifierPrefix;if(wr){var f=Yn,m=Wn;f=(m&~(1<<32-ht(m)-1)).toString(32)+f,c=":"+c+"R"+f,f=Ze++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=Kt++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},useCacheRefresh:function(){return sr().memoizedState=vf.bind(null,we)}};yl.useMemoCache=ns,yl.useHostTransitionStatus=Su,yl.useFormState=Ln,yl.useActionState=Ln,yl.useOptimistic=function(o){var c=sr();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Io.bind(null,we,!0,f),f.dispatch=c,[o,c]};var En={readContext:en,use:Ia,useCallback:pd,useContext:en,useEffect:md,useImperativeHandle:bf,useInsertionEffect:ao,useLayoutEffect:pf,useMemo:zh,useReducer:cr,useRef:gd,useState:function(){return cr(Or)},useDebugValue:wu,useDeferredValue:function(o,c){var f=lr();return xd(f,Oe.memoizedState,o,c)},useTransition:function(){var o=cr(Or)[0],c=lr().memoizedState;return[typeof o=="boolean"?o:Ur(o),c]},useSyncExternalStore:Ar,useId:Cu};En.useCacheRefresh=so,En.useMemoCache=ns,En.useHostTransitionStatus=Su,En.useFormState=Fo,En.useActionState=Fo,En.useOptimistic=function(o,c){var f=lr();return Zs(f,Oe,o,c)};var no={readContext:en,use:Ia,useCallback:pd,useContext:en,useEffect:md,useImperativeHandle:bf,useInsertionEffect:ao,useLayoutEffect:pf,useMemo:zh,useReducer:Xr,useRef:gd,useState:function(){return Xr(Or)},useDebugValue:wu,useDeferredValue:function(o,c){var f=lr();return Oe===null?Nu(f,o,c):xd(f,Oe.memoizedState,o,c)},useTransition:function(){var o=Xr(Or)[0],c=lr().memoizedState;return[typeof o=="boolean"?o:Ur(o),c]},useSyncExternalStore:Ar,useId:Cu};no.useCacheRefresh=so,no.useMemoCache=ns,no.useHostTransitionStatus=Su,no.useFormState=fd,no.useActionState=fd,no.useOptimistic=function(o,c){var f=lr();return Oe!==null?Zs(f,Oe,o,c):(f.baseState=o,[o,f.queue.dispatch])};function pc(o,c,f,m){c=o.memoizedState,f=f(m,c),f=f==null?c:W({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Kn={isMounted:function(o){return(o=o._reactInternals)?ie(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var m=ri(),v=wc(m);v.payload=c,f!=null&&(v.callback=f),c=Nc(o,v,m),c!==null&&(vn(c,o,m),Vh(c,o,m))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var m=ri(),v=wc(m);v.tag=1,v.payload=c,f!=null&&(v.callback=f),c=Nc(o,v,m),c!==null&&(vn(c,o,m),Vh(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=ri(),m=wc(f);m.tag=2,c!=null&&(m.callback=c),c=Nc(o,m,f),c!==null&&(vn(c,o,f),Vh(c,o,f))}};function io(o,c,f,m,v,S,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,z):c.prototype&&c.prototype.isPureReactComponent?!Ws(f,m)||!Ws(v,S):!0}function oo(o,c,f,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==o&&Kn.enqueueReplaceState(c,c.state,null)}function Ni(o,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(o=o.defaultProps){f===c&&(f=W({},f));for(var v in o)f[v]===void 0&&(f[v]=o[v])}return f}var xc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Uh(o){xc(o)}function kf(o){console.error(o)}function Au(o){xc(o)}function bc(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function F2(o,c,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Pm(o,c,f){return f=wc(f),f.tag=3,f.payload={element:null},f.callback=function(){bc(o,c)},f}function B2(o){return o=wc(o),o.tag=3,o}function z2(o,c,f,m){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var S=m.value;o.payload=function(){return v(S)},o.callback=function(){F2(c,f,m)}}var z=f.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){F2(c,f,m),typeof v!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var ae=m.stack;this.componentDidCatch(m.value,{componentStack:ae!==null?ae:""})})}function J6(o,c,f,m,v){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&qh(c,f,v,!0),f=_n.current,f!==null){switch(f.tag){case 13:return Zn===null?mp():f.alternate===null&&Ma===0&&(Ma=3),f.flags&=-257,f.flags|=65536,f.lanes=v,m===Dh?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),xp(o,m,v)),!1;case 22:return f.flags|=65536,m===Dh?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),xp(o,m,v)),!1}throw Error(a(435,f.tag))}return xp(o,m,v),mp(),!1}if(wr)return c=_n.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,m!==Ph&&(o=Error(a(422),{cause:m}),fc(ia(o,f)))):(m!==Ph&&(c=Error(a(423),{cause:m}),fc(ia(c,f))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,m=ia(m,f),v=Pm(o.stateNode,m,v),Xm(o,v),Ma!==4&&(Ma=2)),!1;var S=Error(a(520),{cause:m});if(S=ia(S,f),Kh===null?Kh=[S]:Kh.push(S),Ma!==4&&(Ma=2),c===null)return!0;m=ia(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=v&-v,f.lanes|=o,o=Pm(f.stateNode,m,o),Xm(f,o),!1;case 1:if(c=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ac===null||!Ac.has(S))))return f.flags|=65536,v&=-v,f.lanes|=v,v=B2(v),z2(v,o,f,m),Xm(f,v),!1}f=f.return}while(f!==null);return!1}var I2=Error(a(461)),xs=!1;function Is(o,c,f,m){c.child=o===null?Bh(c,null,f,m):Po(c,o.child,f,m)}function U2(o,c,f,m,v){f=f.render;var S=c.ref;if("ref"in m){var z={};for(var ae in m)ae!=="ref"&&(z[ae]=m[ae])}else z=m;return wd(c),m=va(o,c,f,z,S,v),ae=oa(),o!==null&&!xs?(It(o,c,v),vl(o,c,v)):(wr&&ae&&Rh(c),c.flags|=1,Is(o,c,m,v),c.child)}function H2(o,c,f,m,v){if(o===null){var S=f.type;return typeof S=="function"&&!ap(S)&&S.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=S,q2(o,c,S,m,v)):(o=Lf(f.type,null,m,c,c.mode,v),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!qm(o,v)){var z=S.memoizedProps;if(f=f.compare,f=f!==null?f:Ws,f(z,m)&&o.ref===c.ref)return vl(o,c,v)}return c.flags|=1,o=Cc(S,m),o.ref=c.ref,o.return=c,c.child=o}function q2(o,c,f,m,v){if(o!==null){var S=o.memoizedProps;if(Ws(S,m)&&o.ref===c.ref)if(xs=!1,c.pendingProps=m=S,qm(o,v))(o.flags&131072)!==0&&(xs=!0);else return c.lanes=o.lanes,vl(o,c,v)}return Dm(o,c,f,m,v)}function V2(o,c,f){var m=c.pendingProps,v=m.children,S=(c.stateNode._pendingVisibility&2)!==0,z=o!==null?o.memoizedState:null;if(Hh(o,c),m.mode==="hidden"||S){if((c.flags&128)!==0){if(m=z!==null?z.baseLanes|f:f,o!==null){for(v=c.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;c.childLanes=S&~m}else c.childLanes=0,c.child=null;return $2(o,c,m,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Re(c,z!==null?z.cachePool:null),z!==null?ud(c,z):bl(),ff(c);else return c.lanes=c.childLanes=536870912,$2(o,c,z!==null?z.baseLanes|f:f,f)}else z!==null?(Re(c,z.cachePool),ud(c,z),Oo(),c.memoizedState=null):(o!==null&&Re(c,null),bl(),Oo());return Is(o,c,v,f),c.child}function $2(o,c,f,m){var v=Ne();return v=v===null?null:{parent:za._currentValue,pool:v},c.memoizedState={baseLanes:f,cachePool:v},o!==null&&Re(c,null),bl(),ff(c),o!==null&&qh(o,c,m,!0),null}function Hh(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=2097664);else{if(typeof f!="function"&&typeof f!="object")throw Error(a(284));(o===null||o.ref!==f)&&(c.flags|=2097664)}}function Dm(o,c,f,m,v){return wd(c),f=va(o,c,f,m,void 0,v),m=oa(),o!==null&&!xs?(It(o,c,v),vl(o,c,v)):(wr&&m&&Rh(c),c.flags|=1,Is(o,c,f,v),c.child)}function W2(o,c,f,m,v,S){return wd(c),c.updateQueue=null,f=vt(c,m,f,v),Gt(o),m=oa(),o!==null&&!xs?(It(o,c,S),vl(o,c,S)):(wr&&m&&Rh(c),c.flags|=1,Is(o,c,f,S),c.child)}function Y2(o,c,f,m,v){if(wd(c),c.stateNode===null){var S=Ki,z=f.contextType;typeof z=="object"&&z!==null&&(S=en(z)),S=new f(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Kn,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},Ym(c),z=f.contextType,S.context=typeof z=="object"&&z!==null?en(z):Ki,S.state=c.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(pc(c,f,z,m),S.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(z=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),z!==S.state&&Kn.enqueueReplaceState(S,S.state,null),Wh(c,m,S,v),$h(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){S=c.stateNode;var ae=c.memoizedProps,me=Ni(f,ae);S.props=me;var _e=S.context,Ye=f.contextType;z=Ki,typeof Ye=="object"&&Ye!==null&&(z=en(Ye));var tt=f.getDerivedStateFromProps;Ye=typeof tt=="function"||typeof S.getSnapshotBeforeUpdate=="function",ae=c.pendingProps!==ae,Ye||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(ae||_e!==z)&&oo(c,S,m,z),vc=!1;var Fe=c.memoizedState;S.state=Fe,Wh(c,m,S,v),$h(),_e=c.memoizedState,ae||Fe!==_e||vc?(typeof tt=="function"&&(pc(c,f,tt,m),_e=c.memoizedState),(me=vc||io(c,f,me,m,Fe,_e,z))?(Ye||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=_e),S.props=m,S.state=_e,S.context=z,m=me):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,Gm(o,c),z=c.memoizedProps,Ye=Ni(f,z),S.props=Ye,tt=c.pendingProps,Fe=S.context,_e=f.contextType,me=Ki,typeof _e=="object"&&_e!==null&&(me=en(_e)),ae=f.getDerivedStateFromProps,(_e=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z!==tt||Fe!==me)&&oo(c,S,m,me),vc=!1,Fe=c.memoizedState,S.state=Fe,Wh(c,m,S,v),$h();var qe=c.memoizedState;z!==tt||Fe!==qe||vc||o!==null&&o.dependencies!==null&&Sf(o.dependencies)?(typeof ae=="function"&&(pc(c,f,ae,m),qe=c.memoizedState),(Ye=vc||io(c,f,Ye,m,Fe,qe,me)||o!==null&&o.dependencies!==null&&Sf(o.dependencies))?(_e||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,qe,me),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,qe,me)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||z===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=qe),S.props=m,S.state=qe,S.context=me,m=Ye):(typeof S.componentDidUpdate!="function"||z===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),m=!1)}return S=m,Hh(o,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&m?(c.child=Po(c,o.child,null,v),c.child=Po(c,null,f,v)):Is(o,c,f,v),c.memoizedState=S.state,o=c.child):o=vl(o,c,v),o}function G2(o,c,f,m){return ld(),c.flags|=256,Is(o,c,f,m),c.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Fm(o){return{baseLanes:o,cachePool:he()}}function Bm(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Ci),o}function X2(o,c,f){var m=c.pendingProps,v=!1,S=(c.flags&128)!==0,z;if((z=S)||(z=o!==null&&o.memoizedState===null?!1:(Ba.current&2)!==0),z&&(v=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(wr){if(v?Do(c):Oo(),wr){var ae=ss,me;if(me=ae){e:{for(me=ae,ae=vi;me.nodeType!==8;){if(!ae){ae=null;break e}if(me=co(me.nextSibling),me===null){ae=null;break e}}ae=me}ae!==null?(c.memoizedState={dehydrated:ae,treeContext:To!==null?{id:Wn,overflow:Yn}:null,retryLane:536870912},me=Si(18,null,null,0),me.stateNode=ae,me.return=c,c.child=me,ps=c,ss=null,me=!0):me=!1}me||to(c)}if(ae=c.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return ae.data==="$!"?c.lanes=16:c.lanes=536870912,null;ro(c)}return ae=m.children,m=m.fallback,v?(Oo(),v=c.mode,ae=Im({mode:"hidden",children:ae},v),m=jd(m,v,f,null),ae.return=c,m.return=c,ae.sibling=m,c.child=ae,v=c.child,v.memoizedState=Fm(f),v.childLanes=Bm(o,z,f),c.memoizedState=Om,m):(Do(c),zm(c,ae))}if(me=o.memoizedState,me!==null&&(ae=me.dehydrated,ae!==null)){if(S)c.flags&256?(Do(c),c.flags&=-257,c=Um(o,c,f)):c.memoizedState!==null?(Oo(),c.child=o.child,c.flags|=128,c=null):(Oo(),v=m.fallback,ae=c.mode,m=Im({mode:"visible",children:m.children},ae),v=jd(v,ae,f,null),v.flags|=2,m.return=c,v.return=c,m.sibling=v,c.child=m,Po(c,o.child,null,f),m=c.child,m.memoizedState=Fm(f),m.childLanes=Bm(o,z,f),c.memoizedState=Om,c=v);else if(Do(c),ae.data==="$!"){if(z=ae.nextSibling&&ae.nextSibling.dataset,z)var _e=z.dgst;z=_e,m=Error(a(419)),m.stack="",m.digest=z,fc({value:m,source:null,stack:null}),c=Um(o,c,f)}else if(xs||qh(o,c,f,!1),z=(f&o.childLanes)!==0,xs||z){if(z=Zr,z!==null){if(m=f&-f,(m&42)!==0)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=(m&(z.suspendedLanes|f))!==0?0:m,m!==0&&m!==me.retryLane)throw me.retryLane=m,Qi(o,m),vn(z,o,m),I2}ae.data==="$?"||mp(),c=Um(o,c,f)}else ae.data==="$?"?(c.flags|=128,c.child=o.child,c=gj.bind(null,o),ae._reactRetry=c,c=null):(o=me.treeContext,ss=co(ae.nextSibling),ps=c,wr=!0,Gn=null,vi=!1,o!==null&&(Ps[Xs++]=Wn,Ps[Xs++]=Yn,Ps[Xs++]=To,Wn=o.id,Yn=o.overflow,To=c),c=zm(c,m.children),c.flags|=4096);return c}return v?(Oo(),v=m.fallback,ae=c.mode,me=o.child,_e=me.sibling,m=Cc(me,{mode:"hidden",children:m.children}),m.subtreeFlags=me.subtreeFlags&31457280,_e!==null?v=Cc(_e,v):(v=jd(v,ae,f,null),v.flags|=2),v.return=c,m.return=c,m.sibling=v,c.child=m,m=v,v=c.child,ae=o.child.memoizedState,ae===null?ae=Fm(f):(me=ae.cachePool,me!==null?(_e=za._currentValue,me=me.parent!==_e?{parent:_e,pool:_e}:me):me=he(),ae={baseLanes:ae.baseLanes|f,cachePool:me}),v.memoizedState=ae,v.childLanes=Bm(o,z,f),c.memoizedState=Om,m):(Do(c),f=o.child,o=f.sibling,f=Cc(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=f,c.memoizedState=null,f)}function zm(o,c){return c=Im({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Im(o,c){return wb(o,c,0,null)}function Um(o,c,f){return Po(c,o.child,null,f),o=zm(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Z2(o,c,f){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),$m(o.return,c,f)}function Hm(o,c,f,m,v){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:v}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=v)}function Q2(o,c,f){var m=c.pendingProps,v=m.revealOrder,S=m.tail;if(Is(o,c,m.children,f),m=Ba.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Z2(o,f,c);else if(o.tag===19)Z2(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(Le(Ba,m),v){case"forwards":for(f=c.child,v=null;f!==null;)o=f.alternate,o!==null&&xu(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=c.child,c.child=null):(v=f.sibling,f.sibling=null),Hm(c,!1,v,f,S);break;case"backwards":for(f=null,v=c.child,c.child=null;v!==null;){if(o=v.alternate,o!==null&&xu(o)===null){c.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}Hm(c,!0,f,null,S);break;case"together":Hm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function vl(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),_c|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(qh(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(a(153));if(c.child!==null){for(o=c.child,f=Cc(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Cc(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function qm(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Sf(o)))}function ej(o,c,f){switch(c.tag){case 3:V(c,c.stateNode.containerInfo),yc(c,za,o.memoizedState.cache),ld();break;case 27:case 5:st(c);break;case 4:V(c,c.stateNode.containerInfo);break;case 10:yc(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Do(c),c.flags|=128,null):(f&c.child.childLanes)!==0?X2(o,c,f):(Do(c),o=vl(o,c,f),o!==null?o.sibling:null);Do(c);break;case 19:var v=(o.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(qh(o,c,f,!1),m=(f&c.childLanes)!==0),v){if(m)return Q2(o,c,f);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Le(Ba,Ba.current),m)break;return null;case 22:case 23:return c.lanes=0,V2(o,c,f);case 24:yc(c,za,o.memoizedState.cache)}return vl(o,c,f)}function K2(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)xs=!0;else{if(!qm(o,f)&&(c.flags&128)===0)return xs=!1,ej(o,c,f);xs=(o.flags&131072)!==0}else xs=!1,wr&&(c.flags&1048576)!==0&&gu(c,ml,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var m=c.elementType,v=m._init;if(m=v(m._payload),c.type=m,typeof m=="function")ap(m)?(o=Ni(m,o),c.tag=1,c=Y2(null,c,m,o,f)):(c.tag=0,c=Dm(null,c,m,o,f));else{if(m!=null){if(v=m.$$typeof,v===w){c.tag=11,c=U2(null,c,m,o,f);break e}else if(v===C){c.tag=14,c=H2(null,c,m,o,f);break e}}throw c=U(m)||m,Error(a(306,c,""))}}return c;case 0:return Dm(o,c,c.type,c.pendingProps,f);case 1:return m=c.type,v=Ni(m,c.pendingProps),Y2(o,c,m,v,f);case 3:e:{if(V(c,c.stateNode.containerInfo),o===null)throw Error(a(387));var S=c.pendingProps;v=c.memoizedState,m=v.element,Gm(o,c),Wh(c,S,null,f);var z=c.memoizedState;if(S=z.cache,yc(c,za,S),S!==v.cache&&Wm(c,[za],f,!0),$h(),S=z.element,v.isDehydrated)if(v={element:S,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=v,c.memoizedState=v,c.flags&256){c=G2(o,c,S,f);break e}else if(S!==m){m=ia(Error(a(424)),c),fc(m),c=G2(o,c,S,f);break e}else for(ss=co(c.stateNode.containerInfo.firstChild),ps=c,wr=!0,Gn=null,vi=!0,f=Bh(c,null,S,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ld(),S===m){c=vl(o,c,f);break e}Is(o,c,S,f)}c=c.child}return c;case 26:return Hh(o,c),o===null?(f=ty(c.type,null,c.pendingProps,null))?c.memoizedState=f:wr||(f=c.type,o=c.pendingProps,m=Uf(Ve.current).createElement(f),m[Vr]=c,m[Tr]=o,Us(m,f,o),Pr(m),c.stateNode=m):c.memoizedState=ty(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return st(c),o===null&&wr&&(m=c.stateNode=Kb(c.type,c.pendingProps,Ve.current),ps=c,vi=!0,ss=co(m.firstChild)),m=c.pendingProps.children,o!==null||wr?Is(o,c,m,f):c.child=Po(c,null,m,f),Hh(o,c),c.child;case 5:return o===null&&wr&&((v=m=ss)&&(m=Ej(m,c.type,c.pendingProps,vi),m!==null?(c.stateNode=m,ps=c,ss=co(m.firstChild),vi=!1,v=!0):v=!1),v||to(c)),st(c),v=c.type,S=c.pendingProps,z=o!==null?o.memoizedProps:null,m=S.children,Lp(v,S)?m=null:z!==null&&Lp(v,z)&&(c.flags|=32),c.memoizedState!==null&&(v=va(o,c,ot,null,null,f),o0._currentValue=v),Hh(o,c),Is(o,c,m,f),c.child;case 6:return o===null&&wr&&((o=f=ss)&&(f=Mj(f,c.pendingProps,vi),f!==null?(c.stateNode=f,ps=c,ss=null,o=!0):o=!1),o||to(c)),null;case 13:return X2(o,c,f);case 4:return V(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Po(c,null,m,f):Is(o,c,m,f),c.child;case 11:return U2(o,c,c.type,c.pendingProps,f);case 7:return Is(o,c,c.pendingProps,f),c.child;case 8:return Is(o,c,c.pendingProps.children,f),c.child;case 12:return Is(o,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,yc(c,c.type,m.value),Is(o,c,m.children,f),c.child;case 9:return v=c.type._context,m=c.pendingProps.children,wd(c),v=en(v),m=m(v),c.flags|=1,Is(o,c,m,f),c.child;case 14:return H2(o,c,c.type,c.pendingProps,f);case 15:return q2(o,c,c.type,c.pendingProps,f);case 19:return Q2(o,c,f);case 22:return V2(o,c,f);case 24:return wd(c),m=en(za),o===null?(v=Ne(),v===null&&(v=Zr,S=yu(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=f),v=S),c.memoizedState={parent:m,cache:v},Ym(c),yc(c,za,v)):((o.lanes&f)!==0&&(Gm(o,c),Wh(c,null,null,f),$h()),v=o.memoizedState,S=c.memoizedState,v.parent!==m?(v={parent:m,cache:m},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),yc(c,za,m)):(m=S.cache,yc(c,za,m),m!==v.cache&&Wm(c,[za],f,!0))),Is(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(a(156,c.tag))}var Vm=je(null),vd=null,wl=null;function yc(o,c,f){Le(Vm,c._currentValue),c._currentValue=f}function Nl(o){o._currentValue=Vm.current,Se(Vm)}function $m(o,c,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===f)break;o=o.return}}function Wm(o,c,f,m){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var S=v.dependencies;if(S!==null){var z=v.child;S=S.firstContext;e:for(;S!==null;){var ae=S;S=v;for(var me=0;me<c.length;me++)if(ae.context===c[me]){S.lanes|=f,ae=S.alternate,ae!==null&&(ae.lanes|=f),$m(S.return,f,o),m||(z=null);break e}S=ae.next}}else if(v.tag===18){if(z=v.return,z===null)throw Error(a(341));z.lanes|=f,S=z.alternate,S!==null&&(S.lanes|=f),$m(z,f,o),z=null}else z=v.child;if(z!==null)z.return=v;else for(z=v;z!==null;){if(z===o){z=null;break}if(v=z.sibling,v!==null){v.return=z.return,z=v;break}z=z.return}v=z}}function qh(o,c,f,m){o=null;for(var v=c,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var z=v.alternate;if(z===null)throw Error(a(387));if(z=z.memoizedProps,z!==null){var ae=v.type;ua(v.pendingProps.value,z.value)||(o!==null?o.push(ae):o=[ae])}}else if(v===ze.current){if(z=v.alternate,z===null)throw Error(a(387));z.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(o0):o=[o0])}v=v.return}o!==null&&Wm(c,o,f,m),c.flags|=262144}function Sf(o){for(o=o.firstContext;o!==null;){if(!ua(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wd(o){vd=o,wl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function en(o){return J2(vd,o)}function Cf(o,c){return vd===null&&wd(o),J2(o,c)}function J2(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},wl===null){if(o===null)throw Error(a(308));wl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else wl=wl.next=c;return f}var vc=!1;function Ym(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gm(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function wc(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Nc(o,c,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(ja&2)!==0){var v=m.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),m.pending=c,c=uc(o),Mh(o,null,f),c}return nd(o,m,c,f),uc(o)}function Vh(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194176)!==0)){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Cs(o,f)}}function Xm(o,c){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var v=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?v=S=z:S=S.next=z,f=f.next}while(f!==null);S===null?v=S=c:S=S.next=c}else v=S=c;f={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Zm=!1;function $h(){if(Zm){var o=H;if(o!==null)throw o}}function Wh(o,c,f,m){Zm=!1;var v=o.updateQueue;vc=!1;var S=v.firstBaseUpdate,z=v.lastBaseUpdate,ae=v.shared.pending;if(ae!==null){v.shared.pending=null;var me=ae,_e=me.next;me.next=null,z===null?S=_e:z.next=_e,z=me;var Ye=o.alternate;Ye!==null&&(Ye=Ye.updateQueue,ae=Ye.lastBaseUpdate,ae!==z&&(ae===null?Ye.firstBaseUpdate=_e:ae.next=_e,Ye.lastBaseUpdate=me))}if(S!==null){var tt=v.baseState;z=0,Ye=_e=me=null,ae=S;do{var Fe=ae.lane&-536870913,qe=Fe!==ae.lane;if(qe?(Nr&Fe)===Fe:(m&Fe)===Fe){Fe!==0&&Fe===M&&(Zm=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var Ct=o,Xt=ae;Fe=c;var Ra=f;switch(Xt.tag){case 1:if(Ct=Xt.payload,typeof Ct=="function"){tt=Ct.call(Ra,tt,Fe);break e}tt=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Xt.payload,Fe=typeof Ct=="function"?Ct.call(Ra,tt,Fe):Ct,Fe==null)break e;tt=W({},tt,Fe);break e;case 2:vc=!0}}Fe=ae.callback,Fe!==null&&(o.flags|=64,qe&&(o.flags|=8192),qe=v.callbacks,qe===null?v.callbacks=[Fe]:qe.push(Fe))}else qe={lane:Fe,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ye===null?(_e=Ye=qe,me=tt):Ye=Ye.next=qe,z|=Fe;if(ae=ae.next,ae===null){if(ae=v.shared.pending,ae===null)break;qe=ae,ae=qe.next,qe.next=null,v.lastBaseUpdate=qe,v.shared.pending=null}}while(!0);Ye===null&&(me=tt),v.baseState=me,v.firstBaseUpdate=_e,v.lastBaseUpdate=Ye,S===null&&(v.shared.lanes=0),_c|=z,o.lanes=z,o.memoizedState=tt}}function eb(o,c){if(typeof o!="function")throw Error(a(191,o));o.call(c)}function tb(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)eb(f[o],c)}function Yh(o,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&o)===o){m=void 0;var S=f.create,z=f.inst;m=S(),z.destroy=m}f=f.next}while(f!==v)}}catch(ae){$r(c,c.return,ae)}}function jc(o,c,f){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var S=v.next;m=S;do{if((m.tag&o)===o){var z=m.inst,ae=z.destroy;if(ae!==void 0){z.destroy=void 0,v=c;var me=f;try{ae()}catch(_e){$r(v,me,_e)}}}m=m.next}while(m!==S)}}catch(_e){$r(c,c.return,_e)}}function rb(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{tb(c,f)}catch(m){$r(o,o.return,m)}}}function ab(o,c,f){f.props=Ni(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){$r(o,c,m)}}function Nd(o,c){try{var f=o.ref;if(f!==null){var m=o.stateNode;switch(o.tag){case 26:case 27:case 5:var v=m;break;default:v=m}typeof f=="function"?o.refCleanup=f(v):f.current=v}}catch(S){$r(o,c,S)}}function Jn(o,c){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(v){$r(o,c,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){$r(o,c,v)}else f.current=null}function sb(o){var c=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(v){$r(o,o.return,v)}}function nb(o,c,f){try{var m=o.stateNode;Sj(m,o.type,f,c),m[Tr]=c}catch(v){$r(o,o.return,v)}}function ib(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function Qm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ib(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Km(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=If));else if(m!==4&&m!==27&&(o=o.child,o!==null))for(Km(o,c,f),o=o.sibling;o!==null;)Km(o,c,f),o=o.sibling}function _f(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(m!==4&&m!==27&&(o=o.child,o!==null))for(_f(o,c,f),o=o.sibling;o!==null;)_f(o,c,f),o=o.sibling}var jl=!1,Ea=!1,Jm=!1,ob=typeof WeakSet=="function"?WeakSet:Set,bs=null,lb=!1;function tj(o,c){if(o=o.containerInfo,_p=Yf,o=cc(o),xi(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var v=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var z=0,ae=-1,me=-1,_e=0,Ye=0,tt=o,Fe=null;t:for(;;){for(var qe;tt!==f||v!==0&&tt.nodeType!==3||(ae=z+v),tt!==S||m!==0&&tt.nodeType!==3||(me=z+m),tt.nodeType===3&&(z+=tt.nodeValue.length),(qe=tt.firstChild)!==null;)Fe=tt,tt=qe;for(;;){if(tt===o)break t;if(Fe===f&&++_e===v&&(ae=z),Fe===S&&++Ye===m&&(me=z),(qe=tt.nextSibling)!==null)break;tt=Fe,Fe=tt.parentNode}tt=qe}f=ae===-1||me===-1?null:{start:ae,end:me}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ap={focusedElem:o,selectionRange:f},Yf=!1,bs=c;bs!==null;)if(c=bs,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,bs=o;else for(;bs!==null;){switch(c=bs,S=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=c,v=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var Ct=Ni(f.type,v,f.elementType===f.type);o=m.getSnapshotBeforeUpdate(Ct,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(Xt){$r(f,f.return,Xt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)Rp(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Rp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(a(163))}if(o=c.sibling,o!==null){o.return=c.return,bs=o;break}bs=c.return}return Ct=lb,lb=!1,Ct}function cb(o,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Sl(o,f),m&4&&Yh(5,f);break;case 1:if(Sl(o,f),m&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(ae){$r(f,f.return,ae)}else{var v=Ni(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(v,c,o.__reactInternalSnapshotBeforeUpdate)}catch(ae){$r(f,f.return,ae)}}m&64&&rb(f),m&512&&Nd(f,f.return);break;case 3:if(Sl(o,f),m&64&&(m=f.updateQueue,m!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{tb(m,o)}catch(ae){$r(f,f.return,ae)}}break;case 26:Sl(o,f),m&512&&Nd(f,f.return);break;case 27:case 5:Sl(o,f),c===null&&m&4&&sb(f),m&512&&Nd(f,f.return);break;case 12:Sl(o,f);break;case 13:Sl(o,f),m&4&&hb(o,f);break;case 22:if(v=f.memoizedState!==null||jl,!v){c=c!==null&&c.memoizedState!==null||Ea;var S=jl,z=Ea;jl=v,(Ea=c)&&!z?kc(o,f,(f.subtreeFlags&8772)!==0):Sl(o,f),jl=S,Ea=z}m&512&&(f.memoizedProps.mode==="manual"?Nd(f,f.return):Jn(f,f.return));break;default:Sl(o,f)}}function db(o){var c=o.alternate;c!==null&&(o.alternate=null,db(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&_s(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ja=null,ei=!1;function kl(o,c,f){for(f=f.child;f!==null;)ub(o,c,f),f=f.sibling}function ub(o,c,f){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(tr,f)}catch{}switch(f.tag){case 26:Ea||Jn(f,c),kl(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Ea||Jn(f,c);var m=Ja,v=ei;for(Ja=f.stateNode,kl(o,c,f),f=f.stateNode,c=f.attributes;c.length;)f.removeAttributeNode(c[0]);_s(f),Ja=m,ei=v;break;case 5:Ea||Jn(f,c);case 6:v=Ja;var S=ei;if(Ja=null,kl(o,c,f),Ja=v,ei=S,Ja!==null)if(ei)try{o=Ja,m=f.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)}catch(z){$r(f,c,z)}else try{Ja.removeChild(f.stateNode)}catch(z){$r(f,c,z)}break;case 18:Ja!==null&&(ei?(c=Ja,f=f.stateNode,c.nodeType===8?Mp(c.parentNode,f):c.nodeType===1&&Mp(c,f),u0(c)):Mp(Ja,f.stateNode));break;case 4:m=Ja,v=ei,Ja=f.stateNode.containerInfo,ei=!0,kl(o,c,f),Ja=m,ei=v;break;case 0:case 11:case 14:case 15:Ea||jc(2,f,c),Ea||jc(4,f,c),kl(o,c,f);break;case 1:Ea||(Jn(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&ab(f,c,m)),kl(o,c,f);break;case 21:kl(o,c,f);break;case 22:Ea||Jn(f,c),Ea=(m=Ea)||f.memoizedState!==null,kl(o,c,f),Ea=m;break;default:kl(o,c,f)}}function hb(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{u0(o)}catch(f){$r(c,c.return,f)}}function rj(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new ob),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new ob),c;default:throw Error(a(435,o.tag))}}function ep(o,c){var f=rj(o);c.forEach(function(m){var v=mj.bind(null,o,m);f.has(m)||(f.add(m),m.then(v,v))})}function ji(o,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var v=f[m],S=o,z=c,ae=z;e:for(;ae!==null;){switch(ae.tag){case 27:case 5:Ja=ae.stateNode,ei=!1;break e;case 3:Ja=ae.stateNode.containerInfo,ei=!0;break e;case 4:Ja=ae.stateNode.containerInfo,ei=!0;break e}ae=ae.return}if(Ja===null)throw Error(a(160));ub(S,z,v),Ja=null,ei=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)fb(c,o),c=c.sibling}var lo=null;function fb(o,c){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ji(c,o),ki(o),m&4&&(jc(3,o,o.return),Yh(3,o),jc(5,o,o.return));break;case 1:ji(c,o),ki(o),m&512&&(Ea||f===null||Jn(f,f.return)),m&64&&jl&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var v=lo;if(ji(c,o),ki(o),m&512&&(Ea||f===null||Jn(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Sa]||S[Vr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(m),v.head.insertBefore(S,v.querySelector("head > title"))),Us(S,m,f),S[Vr]=o,Pr(S),m=S;break e;case"link":var z=sy("link","href",v).get(m+(f.href||""));if(z){for(var ae=0;ae<z.length;ae++)if(S=z[ae],S.getAttribute("href")===(f.href==null?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){z.splice(ae,1);break t}}S=v.createElement(m),Us(S,m,f),v.head.appendChild(S);break;case"meta":if(z=sy("meta","content",v).get(m+(f.content||""))){for(ae=0;ae<z.length;ae++)if(S=z[ae],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){z.splice(ae,1);break t}}S=v.createElement(m),Us(S,m,f),v.head.appendChild(S);break;default:throw Error(a(468,m))}S[Vr]=o,Pr(S),m=S}o.stateNode=m}else ny(v,o.type,o.stateNode);else o.stateNode=ay(v,m,o.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?ny(v,o.type,o.stateNode):ay(v,m,o.memoizedProps)):m===null&&o.stateNode!==null&&nb(o,o.memoizedProps,f.memoizedProps)}break;case 27:if(m&4&&o.alternate===null){v=o.stateNode,S=o.memoizedProps;try{for(var me=v.firstChild;me;){var _e=me.nextSibling,Ye=me.nodeName;me[Sa]||Ye==="HEAD"||Ye==="BODY"||Ye==="SCRIPT"||Ye==="STYLE"||Ye==="LINK"&&me.rel.toLowerCase()==="stylesheet"||v.removeChild(me),me=_e}for(var tt=o.type,Fe=v.attributes;Fe.length;)v.removeAttributeNode(Fe[0]);Us(v,tt,S),v[Vr]=o,v[Tr]=S}catch(Ct){$r(o,o.return,Ct)}}case 5:if(ji(c,o),ki(o),m&512&&(Ea||f===null||Jn(f,f.return)),o.flags&32){v=o.stateNode;try{pe(v,"")}catch(Ct){$r(o,o.return,Ct)}}m&4&&o.stateNode!=null&&(v=o.memoizedProps,nb(o,v,f!==null?f.memoizedProps:v)),m&1024&&(Jm=!0);break;case 6:if(ji(c,o),ki(o),m&4){if(o.stateNode===null)throw Error(a(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Ct){$r(o,o.return,Ct)}}break;case 3:if(Vf=null,v=lo,lo=Hf(c.containerInfo),ji(c,o),lo=v,ki(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{u0(c.containerInfo)}catch(Ct){$r(o,o.return,Ct)}Jm&&(Jm=!1,gb(o));break;case 4:m=lo,lo=Hf(o.stateNode.containerInfo),ji(c,o),ki(o),lo=m;break;case 12:ji(c,o),ki(o);break;case 13:ji(c,o),ki(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(cp=qt()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,ep(o,m)));break;case 22:if(m&512&&(Ea||f===null||Jn(f,f.return)),me=o.memoizedState!==null,_e=f!==null&&f.memoizedState!==null,Ye=jl,tt=Ea,jl=Ye||me,Ea=tt||_e,ji(c,o),Ea=tt,jl=Ye,ki(o),c=o.stateNode,c._current=o,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,m&8192&&(c._visibility=me?c._visibility&-2:c._visibility|1,me&&(c=jl||Ea,f===null||_e||c||Lu(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(f=null,c=o;;){if(c.tag===5||c.tag===26||c.tag===27){if(f===null){_e=f=c;try{if(v=_e.stateNode,me)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{z=_e.stateNode,ae=_e.memoizedProps.style;var qe=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;z.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Ct){$r(_e,_e.return,Ct)}}}else if(c.tag===6){if(f===null){_e=c;try{_e.stateNode.nodeValue=me?"":_e.memoizedProps}catch(Ct){$r(_e,_e.return,Ct)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,ep(o,f))));break;case 19:ji(c,o),ki(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,ep(o,m)));break;case 21:break;default:ji(c,o),ki(o)}}function ki(o){var c=o.flags;if(c&2){try{if(o.tag!==27){e:{for(var f=o.return;f!==null;){if(ib(f)){var m=f;break e}f=f.return}throw Error(a(160))}switch(m.tag){case 27:var v=m.stateNode,S=Qm(o);_f(o,S,v);break;case 5:var z=m.stateNode;m.flags&32&&(pe(z,""),m.flags&=-33);var ae=Qm(o);_f(o,ae,z);break;case 3:case 4:var me=m.stateNode.containerInfo,_e=Qm(o);Km(o,_e,me);break;default:throw Error(a(161))}}}catch(Ye){$r(o,o.return,Ye)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function gb(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;gb(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Sl(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)cb(o,c.alternate,c),c=c.sibling}function Lu(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:jc(4,c,c.return),Lu(c);break;case 1:Jn(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&ab(c,c.return,f),Lu(c);break;case 26:case 27:case 5:Jn(c,c.return),Lu(c);break;case 22:Jn(c,c.return),c.memoizedState===null&&Lu(c);break;default:Lu(c)}o=o.sibling}}function kc(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,v=o,S=c,z=S.flags;switch(S.tag){case 0:case 11:case 15:kc(v,S,f),Yh(4,S);break;case 1:if(kc(v,S,f),m=S,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(_e){$r(m,m.return,_e)}if(m=S,v=m.updateQueue,v!==null){var ae=m.stateNode;try{var me=v.shared.hiddenCallbacks;if(me!==null)for(v.shared.hiddenCallbacks=null,v=0;v<me.length;v++)eb(me[v],ae)}catch(_e){$r(m,m.return,_e)}}f&&z&64&&rb(S),Nd(S,S.return);break;case 26:case 27:case 5:kc(v,S,f),f&&m===null&&z&4&&sb(S),Nd(S,S.return);break;case 12:kc(v,S,f);break;case 13:kc(v,S,f),f&&z&4&&hb(v,S);break;case 22:S.memoizedState===null&&kc(v,S,f),Nd(S,S.return);break;default:kc(v,S,f)}c=c.sibling}}function tp(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&b(f))}function rp(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&b(o))}function Sc(o,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mb(o,c,f,m),c=c.sibling}function mb(o,c,f,m){var v=c.flags;switch(c.tag){case 0:case 11:case 15:Sc(o,c,f,m),v&2048&&Yh(9,c);break;case 3:Sc(o,c,f,m),v&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&b(o)));break;case 12:if(v&2048){Sc(o,c,f,m),o=c.stateNode;try{var S=c.memoizedProps,z=S.id,ae=S.onPostCommit;typeof ae=="function"&&ae(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){$r(c,c.return,me)}}else Sc(o,c,f,m);break;case 23:break;case 22:S=c.stateNode,c.memoizedState!==null?S._visibility&4?Sc(o,c,f,m):Gh(o,c):S._visibility&4?Sc(o,c,f,m):(S._visibility|=4,Eu(o,c,f,m,(c.subtreeFlags&10256)!==0)),v&2048&&tp(c.alternate,c);break;case 24:Sc(o,c,f,m),v&2048&&rp(c.alternate,c);break;default:Sc(o,c,f,m)}}function Eu(o,c,f,m,v){for(v=v&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=o,z=c,ae=f,me=m,_e=z.flags;switch(z.tag){case 0:case 11:case 15:Eu(S,z,ae,me,v),Yh(8,z);break;case 23:break;case 22:var Ye=z.stateNode;z.memoizedState!==null?Ye._visibility&4?Eu(S,z,ae,me,v):Gh(S,z):(Ye._visibility|=4,Eu(S,z,ae,me,v)),v&&_e&2048&&tp(z.alternate,z);break;case 24:Eu(S,z,ae,me,v),v&&_e&2048&&rp(z.alternate,z);break;default:Eu(S,z,ae,me,v)}c=c.sibling}}function Gh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,m=c,v=m.flags;switch(m.tag){case 22:Gh(f,m),v&2048&&tp(m.alternate,m);break;case 24:Gh(f,m),v&2048&&rp(m.alternate,m);break;default:Gh(f,m)}c=c.sibling}}var Xh=8192;function Mu(o){if(o.subtreeFlags&Xh)for(o=o.child;o!==null;)pb(o),o=o.sibling}function pb(o){switch(o.tag){case 26:Mu(o),o.flags&Xh&&o.memoizedState!==null&&Vj(lo,o.memoizedState,o.memoizedProps);break;case 5:Mu(o);break;case 3:case 4:var c=lo;lo=Hf(o.stateNode.containerInfo),Mu(o),lo=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Xh,Xh=16777216,Mu(o),Xh=c):Mu(o));break;default:Mu(o)}}function xb(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Zh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];bs=m,yb(m,o)}xb(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)bb(o),o=o.sibling}function bb(o){switch(o.tag){case 0:case 11:case 15:Zh(o),o.flags&2048&&jc(9,o,o.return);break;case 3:Zh(o);break;case 12:Zh(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&4&&(o.return===null||o.return.tag!==13)?(c._visibility&=-5,Af(o)):Zh(o);break;default:Zh(o)}}function Af(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];bs=m,yb(m,o)}xb(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:jc(8,c,c.return),Af(c);break;case 22:f=c.stateNode,f._visibility&4&&(f._visibility&=-5,Af(c));break;default:Af(c)}o=o.sibling}}function yb(o,c){for(;bs!==null;){var f=bs;switch(f.tag){case 0:case 11:case 15:jc(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:b(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,bs=m;else e:for(f=o;bs!==null;){m=bs;var v=m.sibling,S=m.return;if(db(m),m===f){bs=null;break e}if(v!==null){v.return=S,bs=v;break e}bs=S}}}function aj(o,c,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(o,c,f,m){return new aj(o,c,f,m)}function ap(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Cc(o,c){var f=o.alternate;return f===null?(f=Si(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&31457280,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function vb(o,c){o.flags&=31457282;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Lf(o,c,f,m,v,S){var z=0;if(m=o,typeof o=="function")ap(o)&&(z=1);else if(typeof o=="string")z=Hj(o,f,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case u:return jd(f.children,v,S,c);case h:z=8,v|=24;break;case g:return o=Si(12,f,c,v|2),o.elementType=g,o.lanes=S,o;case j:return o=Si(13,f,c,v),o.elementType=j,o.lanes=S,o;case k:return o=Si(19,f,c,v),o.elementType=k,o.lanes=S,o;case E:return wb(f,v,S,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case x:case p:z=10;break e;case y:z=9;break e;case w:z=11;break e;case C:z=14;break e;case L:z=16,m=null;break e}z=29,f=Error(a(130,o===null?"null":typeof o,"")),m=null}return c=Si(z,f,c,v),c.elementType=o,c.type=m,c.lanes=S,c}function jd(o,c,f,m){return o=Si(7,o,m,c),o.lanes=f,o}function wb(o,c,f,m){o=Si(22,o,m,c),o.elementType=E,o.lanes=f;var v={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=v._current;if(S===null)throw Error(a(456));if((v._pendingVisibility&2)===0){var z=Qi(S,2);z!==null&&(v._pendingVisibility|=2,vn(z,S,2))}},attach:function(){var S=v._current;if(S===null)throw Error(a(456));if((v._pendingVisibility&2)!==0){var z=Qi(S,2);z!==null&&(v._pendingVisibility&=-3,vn(z,S,2))}}};return o.stateNode=v,o}function sp(o,c,f){return o=Si(6,o,null,c),o.lanes=f,o}function np(o,c,f){return c=Si(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function Cl(o){o.flags|=4}function Nb(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!iy(c)){if(c=_n.current,c!==null&&((Nr&4194176)===Nr?Zn!==null:(Nr&62914560)!==Nr&&(Nr&536870912)===0||c!==Zn))throw yn=Dh,df;o.flags|=8192}}function Ef(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?mn():536870912,o.lanes|=c,Tu|=c)}function Qh(o,c){if(!wr)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Na(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(c)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags&31457280,m|=v.flags&31457280,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=f,c}function sj(o,c,f){var m=c.pendingProps;switch(Th(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Na(c),null;case 1:return Na(c),null;case 3:return f=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Nl(za),Pe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(od(c)?Cl(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Gn!==null&&(fp(Gn),Gn=null))),Na(c),null;case 26:return f=c.memoizedState,o===null?(Cl(c),f!==null?(Na(c),Nb(c,f)):(Na(c),c.flags&=-16777217)):f?f!==o.memoizedState?(Cl(c),Na(c),Nb(c,f)):(Na(c),c.flags&=-16777217):(o.memoizedProps!==m&&Cl(c),Na(c),c.flags&=-16777217),null;case 27:rt(c),f=Ve.current;var v=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Cl(c);else{if(!m){if(c.stateNode===null)throw Error(a(166));return Na(c),null}o=be.current,od(c)?mu(c):(o=Kb(v,m,f),c.stateNode=o,Cl(c))}return Na(c),null;case 5:if(rt(c),f=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Cl(c);else{if(!m){if(c.stateNode===null)throw Error(a(166));return Na(c),null}if(o=be.current,od(c))mu(c);else{switch(v=Uf(Ve.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?v.createElement(f,{is:m.is}):v.createElement(f)}}o[Vr]=c,o[Tr]=m;e:for(v=c.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===c)break e;for(;v.sibling===null;){if(v.return===null||v.return===c)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}c.stateNode=o;e:switch(Us(o,f,m),f){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Cl(c)}}return Na(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&Cl(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(a(166));if(o=Ve.current,od(c)){if(o=c.stateNode,f=c.memoizedProps,m=null,v=ps,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}o[Vr]=c,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||Wb(o.nodeValue,f)),o||to(c)}else o=Uf(o).createTextNode(m),o[Vr]=c,c.stateNode=o}return Na(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=od(c),m!==null&&m.dehydrated!==null){if(o===null){if(!v)throw Error(a(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));v[Vr]=c}else ld(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Na(c),v=!1}else Gn!==null&&(fp(Gn),Gn=null),v=!0;if(!v)return c.flags&256?(ro(c),c):(ro(c),null)}if(ro(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=m!==null,o=o!==null&&o.memoizedState!==null,f){m=c.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==v&&(m.flags|=2048)}return f!==o&&f&&(c.child.flags|=8192),Ef(c,c.updateQueue),Na(c),null;case 4:return Pe(),o===null&&kp(c.stateNode.containerInfo),Na(c),null;case 10:return Nl(c.type),Na(c),null;case 19:if(Se(Ba),v=c.memoizedState,v===null)return Na(c),null;if(m=(c.flags&128)!==0,S=v.rendering,S===null)if(m)Qh(v,!1);else{if(Ma!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=xu(o),S!==null){for(c.flags|=128,Qh(v,!1),o=S.updateQueue,c.updateQueue=o,Ef(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)vb(f,o),f=f.sibling;return Le(Ba,Ba.current&1|2),c.child}o=o.sibling}v.tail!==null&&qt()>Mf&&(c.flags|=128,m=!0,Qh(v,!1),c.lanes=4194304)}else{if(!m)if(o=xu(S),o!==null){if(c.flags|=128,m=!0,o=o.updateQueue,c.updateQueue=o,Ef(c,o),Qh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!wr)return Na(c),null}else 2*qt()-v.renderingStartTime>Mf&&f!==536870912&&(c.flags|=128,m=!0,Qh(v,!1),c.lanes=4194304);v.isBackwards?(S.sibling=c.child,c.child=S):(o=v.last,o!==null?o.sibling=S:c.child=S,v.last=S)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=qt(),c.sibling=null,o=Ba.current,Le(Ba,m?o&1|2:o&1),c):(Na(c),null);case 22:case 23:return ro(c),hd(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(Na(c),c.subtreeFlags&6&&(c.flags|=8192)):Na(c),f=c.updateQueue,f!==null&&Ef(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),o!==null&&Se(ce),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Nl(za),Na(c),null;case 25:return null}throw Error(a(156,c.tag))}function nj(o,c){switch(Th(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Nl(za),Pe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return rt(c),null;case 13:if(ro(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(a(340));ld()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Se(Ba),null;case 4:return Pe(),null;case 10:return Nl(c.type),null;case 22:case 23:return ro(c),hd(),o!==null&&Se(ce),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Nl(za),null;case 25:return null;default:return null}}function jb(o,c){switch(Th(c),c.tag){case 3:Nl(za),Pe();break;case 26:case 27:case 5:rt(c);break;case 4:Pe();break;case 13:ro(c);break;case 19:Se(Ba);break;case 10:Nl(c.type);break;case 22:case 23:ro(c),hd(),o!==null&&Se(ce);break;case 24:Nl(za)}}var ij={getCacheForType:function(o){var c=en(za),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f}},oj=typeof WeakMap=="function"?WeakMap:Map,ja=0,Zr=null,fr=null,Nr=0,Qr=0,ti=null,_l=!1,Ru=!1,ip=!1,Al=0,Ma=0,_c=0,kd=0,op=0,Ci=0,Tu=0,Kh=null,Uo=null,lp=!1,cp=0,Mf=1/0,Rf=null,Ac=null,Tf=!1,Sd=null,Jh=0,dp=0,up=null,e0=0,hp=null;function ri(){if((ja&2)!==0&&Nr!==0)return Nr&-Nr;if(T.T!==null){var o=M;return o!==0?o:vp()}return ra()}function kb(){Ci===0&&(Ci=(Nr&536870912)===0||wr?gn():536870912);var o=_n.current;return o!==null&&(o.flags|=32),Ci}function vn(o,c,f){(o===Zr&&Qr===2||o.cancelPendingCommit!==null)&&(Pu(o,0),Ll(o,Nr,Ci,!1)),ks(o,f),((ja&2)===0||o!==Zr)&&(o===Zr&&((ja&2)===0&&(kd|=f),Ma===4&&Ll(o,Nr,Ci,!1)),Ho(o))}function Sb(o,c,f){if((ja&6)!==0)throw Error(a(327));var m=!f&&(c&60)===0&&(c&o.expiredLanes)===0||fn(o,c),v=m?dj(o,c):pp(o,c,!0),S=m;do{if(v===0){Ru&&!m&&Ll(o,c,0,!1);break}else if(v===6)Ll(o,c,0,!_l);else{if(f=o.current.alternate,S&&!lj(f)){v=pp(o,c,!1),S=!1;continue}if(v===2){if(S=c,o.errorRecoveryDisabledLanes&S)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var ae=o;v=Kh;var me=ae.current.memoizedState.isDehydrated;if(me&&(Pu(ae,z).flags|=256),z=pp(ae,z,!1),z!==2){if(ip&&!me){ae.errorRecoveryDisabledLanes|=S,kd|=S,v=4;break e}S=Uo,Uo=v,S!==null&&fp(S)}v=z}if(S=!1,v!==2)continue}}if(v===1){Pu(o,0),Ll(o,c,0,!0);break}e:{switch(m=o,v){case 0:case 1:throw Error(a(345));case 4:if((c&4194176)===c){Ll(m,c,Ci,!_l);break e}break;case 2:Uo=null;break;case 3:case 5:break;default:throw Error(a(329))}if(m.finishedWork=f,m.finishedLanes=c,(c&62914560)===c&&(S=cp+300-qt(),10<S)){if(Ll(m,c,Ci,!_l),ur(m,0)!==0)break e;m.timeoutHandle=Xb(Cb.bind(null,m,f,Uo,Rf,lp,c,Ci,kd,Tu,_l,2,-0,0),S);break e}Cb(m,f,Uo,Rf,lp,c,Ci,kd,Tu,_l,0,-0,0)}}break}while(!0);Ho(o)}function fp(o){Uo===null?Uo=o:Uo.push.apply(Uo,o)}function Cb(o,c,f,m,v,S,z,ae,me,_e,Ye,tt,Fe){var qe=c.subtreeFlags;if((qe&8192||(qe&16785408)===16785408)&&(i0={stylesheets:null,count:0,unsuspend:qj},pb(c),c=$j(),c!==null)){o.cancelPendingCommit=c(Tb.bind(null,o,f,m,v,z,ae,me,1,tt,Fe)),Ll(o,S,z,!_e);return}Tb(o,f,m,v,z,ae,me,Ye,tt,Fe)}function lj(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var v=f[m],S=v.getSnapshot;v=v.value;try{if(!ua(S(),v))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ll(o,c,f,m){c&=~op,c&=~kd,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var v=c;0<v;){var S=31-ht(v),z=1<<S;m[S]=-1,v&=~z}f!==0&&Ss(o,f,c)}function Pf(){return(ja&6)===0?(t0(0),!1):!0}function gp(){if(fr!==null){if(Qr===0)var o=fr.return;else o=fr,wl=vd=null,or(o),pl=null,Cn=0,o=fr;for(;o!==null;)jb(o.alternate,o),o=o.return;fr=null}}function Pu(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,_j(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),gp(),Zr=o,fr=f=Cc(o.current,null),Nr=c,Qr=0,ti=null,_l=!1,Ru=fn(o,c),ip=!1,Tu=Ci=op=kd=_c=Ma=0,Uo=Kh=null,lp=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var v=31-ht(m),S=1<<v;c|=o[v],m&=~S}return Al=c,sd(),f}function _b(o,c){we=null,T.H=Qn,c===cd?(c=hf(),Qr=3):c===df?(c=hf(),Qr=4):Qr=c===I2?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ti=c,fr===null&&(Ma=1,bc(o,ia(c,o.current)))}function Ab(){var o=T.H;return T.H=Qn,o===null?Qn:o}function Lb(){var o=T.A;return T.A=ij,o}function mp(){Ma=4,_l||(Nr&4194176)!==Nr&&_n.current!==null||(Ru=!0),(_c&134217727)===0&&(kd&134217727)===0||Zr===null||Ll(Zr,Nr,Ci,!1)}function pp(o,c,f){var m=ja;ja|=2;var v=Ab(),S=Lb();(Zr!==o||Nr!==c)&&(Rf=null,Pu(o,c)),c=!1;var z=Ma;e:do try{if(Qr!==0&&fr!==null){var ae=fr,me=ti;switch(Qr){case 8:gp(),z=6;break e;case 3:case 2:case 6:_n.current===null&&(c=!0);var _e=Qr;if(Qr=0,ti=null,Du(o,ae,me,_e),f&&Ru){z=0;break e}break;default:_e=Qr,Qr=0,ti=null,Du(o,ae,me,_e)}}cj(),z=Ma;break}catch(Ye){_b(o,Ye)}while(!0);return c&&o.shellSuspendCounter++,wl=vd=null,ja=m,T.H=v,T.A=S,fr===null&&(Zr=null,Nr=0,sd()),z}function cj(){for(;fr!==null;)Eb(fr)}function dj(o,c){var f=ja;ja|=2;var m=Ab(),v=Lb();Zr!==o||Nr!==c?(Rf=null,Mf=qt()+500,Pu(o,c)):Ru=fn(o,c);e:do try{if(Qr!==0&&fr!==null){c=fr;var S=ti;t:switch(Qr){case 1:Qr=0,ti=null,Du(o,c,S,1);break;case 2:if(uf(S)){Qr=0,ti=null,Mb(c);break}c=function(){Qr===2&&Zr===o&&(Qr=7),Ho(o)},S.then(c,c);break e;case 3:Qr=7;break e;case 4:Qr=5;break e;case 7:uf(S)?(Qr=0,ti=null,Mb(c)):(Qr=0,ti=null,Du(o,c,S,7));break;case 5:var z=null;switch(fr.tag){case 26:z=fr.memoizedState;case 5:case 27:var ae=fr;if(!z||iy(z)){Qr=0,ti=null;var me=ae.sibling;if(me!==null)fr=me;else{var _e=ae.return;_e!==null?(fr=_e,Df(_e)):fr=null}break t}}Qr=0,ti=null,Du(o,c,S,5);break;case 6:Qr=0,ti=null,Du(o,c,S,6);break;case 8:gp(),Ma=6;break e;default:throw Error(a(462))}}uj();break}catch(Ye){_b(o,Ye)}while(!0);return wl=vd=null,T.H=m,T.A=v,ja=f,fr!==null?0:(Zr=null,Nr=0,sd(),Ma)}function uj(){for(;fr!==null&&!jt();)Eb(fr)}function Eb(o){var c=K2(o.alternate,o,Al);o.memoizedProps=o.pendingProps,c===null?Df(o):fr=c}function Mb(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=W2(f,c,c.pendingProps,c.type,void 0,Nr);break;case 11:c=W2(f,c,c.pendingProps,c.type.render,c.ref,Nr);break;case 5:or(c);default:jb(f,c),c=fr=vb(c,Al),c=K2(f,c,Al)}o.memoizedProps=o.pendingProps,c===null?Df(o):fr=c}function Du(o,c,f,m){wl=vd=null,or(c),pl=null,Cn=0;var v=c.return;try{if(J6(o,v,c,f,Nr)){Ma=1,bc(o,ia(f,o.current)),fr=null;return}}catch(S){if(v!==null)throw fr=v,S;Ma=1,bc(o,ia(f,o.current)),fr=null;return}c.flags&32768?(wr||m===1?o=!0:Ru||(Nr&536870912)!==0?o=!1:(_l=o=!0,(m===2||m===3||m===6)&&(m=_n.current,m!==null&&m.tag===13&&(m.flags|=16384))),Rb(c,o)):Df(c)}function Df(o){var c=o;do{if((c.flags&32768)!==0){Rb(c,_l);return}o=c.return;var f=sj(c.alternate,c,Al);if(f!==null){fr=f;return}if(c=c.sibling,c!==null){fr=c;return}fr=c=o}while(c!==null);Ma===0&&(Ma=5)}function Rb(o,c){do{var f=nj(o.alternate,o);if(f!==null){f.flags&=32767,fr=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){fr=o;return}fr=o=f}while(o!==null);Ma=6,fr=null}function Tb(o,c,f,m,v,S,z,ae,me,_e){var Ye=T.T,tt=G.p;try{G.p=2,T.T=null,hj(o,c,f,m,tt,v,S,z,ae,me,_e)}finally{T.T=Ye,G.p=tt}}function hj(o,c,f,m,v,S,z,ae){do Ou();while(Sd!==null);if((ja&6)!==0)throw Error(a(327));var me=o.finishedWork;if(m=o.finishedLanes,me===null)return null;if(o.finishedWork=null,o.finishedLanes=0,me===o.current)throw Error(a(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var _e=me.lanes|me.childLanes;if(_e|=hu,Hs(o,m,_e,S,z,ae),o===Zr&&(fr=Zr=null,Nr=0),(me.subtreeFlags&10256)===0&&(me.flags&10256)===0||Tf||(Tf=!0,dp=_e,up=f,pj(Wt,function(){return Ou(),null})),f=(me.flags&15990)!==0,(me.subtreeFlags&15990)!==0||f?(f=T.T,T.T=null,S=G.p,G.p=2,z=ja,ja|=4,tj(o,me),fb(me,o),Mo(Ap,o.containerInfo),Yf=!!_p,Ap=_p=null,o.current=me,cb(o,me.alternate,me),pt(),ja=z,G.p=S,T.T=f):o.current=me,Tf?(Tf=!1,Sd=o,Jh=m):Pb(o,_e),_e=o.pendingLanes,_e===0&&(Ac=null),Qt(me.stateNode),Ho(o),c!==null)for(v=o.onRecoverableError,me=0;me<c.length;me++)_e=c[me],v(_e.value,{componentStack:_e.stack});return(Jh&3)!==0&&Ou(),_e=o.pendingLanes,(m&4194218)!==0&&(_e&42)!==0?o===hp?e0++:(e0=0,hp=o):e0=0,t0(0),null}function Pb(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,b(c)))}function Ou(){if(Sd!==null){var o=Sd,c=dp;dp=0;var f=zr(Jh),m=T.T,v=G.p;try{if(G.p=32>f?32:f,T.T=null,Sd===null)var S=!1;else{f=up,up=null;var z=Sd,ae=Jh;if(Sd=null,Jh=0,(ja&6)!==0)throw Error(a(331));var me=ja;if(ja|=4,bb(z.current),mb(z,z.current,ae,f),ja=me,t0(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(tr,z)}catch{}S=!0}return S}finally{G.p=v,T.T=m,Pb(o,c)}}return!1}function Db(o,c,f){c=ia(f,c),c=Pm(o.stateNode,c,2),o=Nc(o,c,2),o!==null&&(ks(o,2),Ho(o))}function $r(o,c,f){if(o.tag===3)Db(o,o,f);else for(;c!==null;){if(c.tag===3){Db(c,o,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ac===null||!Ac.has(m))){o=ia(f,o),f=B2(2),m=Nc(c,f,2),m!==null&&(z2(f,m,c,o),ks(m,2),Ho(m));break}}c=c.return}}function xp(o,c,f){var m=o.pingCache;if(m===null){m=o.pingCache=new oj;var v=new Set;m.set(c,v)}else v=m.get(c),v===void 0&&(v=new Set,m.set(c,v));v.has(f)||(ip=!0,v.add(f),o=fj.bind(null,o,c,f),c.then(o,o))}function fj(o,c,f){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Zr===o&&(Nr&f)===f&&(Ma===4||Ma===3&&(Nr&62914560)===Nr&&300>qt()-cp?(ja&2)===0&&Pu(o,0):op|=f,Tu===Nr&&(Tu=0)),Ho(o)}function Ob(o,c){c===0&&(c=mn()),o=Qi(o,c),o!==null&&(ks(o,c),Ho(o))}function gj(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),Ob(o,f)}function mj(o,c){var f=0;switch(o.tag){case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(c),Ob(o,f)}function pj(o,c){return ut(o,c)}var Of=null,Fu=null,bp=!1,Ff=!1,yp=!1,Cd=0;function Ho(o){o!==Fu&&o.next===null&&(Fu===null?Of=Fu=o:Fu=Fu.next=o),Ff=!0,bp||(bp=!0,bj(xj))}function t0(o,c){if(!yp&&Ff){yp=!0;do for(var f=!1,m=Of;m!==null;){if(o!==0){var v=m.pendingLanes;if(v===0)var S=0;else{var z=m.suspendedLanes,ae=m.pingedLanes;S=(1<<31-ht(42|o)+1)-1,S&=v&~(z&~ae),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(f=!0,zb(m,S))}else S=Nr,S=ur(m,m===Zr?S:0),(S&3)===0||fn(m,S)||(f=!0,zb(m,S));m=m.next}while(f);yp=!1}}function xj(){Ff=bp=!1;var o=0;Cd!==0&&(Cj()&&(o=Cd),Cd=0);for(var c=qt(),f=null,m=Of;m!==null;){var v=m.next,S=Fb(m,c);S===0?(m.next=null,f===null?Of=v:f.next=v,v===null&&(Fu=f)):(f=m,(o!==0||(S&3)!==0)&&(Ff=!0)),m=v}t0(o)}function Fb(o,c){for(var f=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var z=31-ht(S),ae=1<<z,me=v[z];me===-1?((ae&f)===0||(ae&m)!==0)&&(v[z]=$a(ae,c)):me<=c&&(o.expiredLanes|=ae),S&=~ae}if(c=Zr,f=Nr,f=ur(o,o===c?f:0),m=o.callbackNode,f===0||o===c&&Qr===2||o.cancelPendingCommit!==null)return m!==null&&m!==null&&at(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||fn(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(m!==null&&at(m),zr(f)){case 2:case 8:f=er;break;case 32:f=Wt;break;case 268435456:f=Dt;break;default:f=Wt}return m=Bb.bind(null,o),f=ut(f,m),o.callbackPriority=c,o.callbackNode=f,c}return m!==null&&m!==null&&at(m),o.callbackPriority=2,o.callbackNode=null,2}function Bb(o,c){var f=o.callbackNode;if(Ou()&&o.callbackNode!==f)return null;var m=Nr;return m=ur(o,o===Zr?m:0),m===0?null:(Sb(o,m,c),Fb(o,qt()),o.callbackNode!=null&&o.callbackNode===f?Bb.bind(null,o):null)}function zb(o,c){if(Ou())return null;Sb(o,c,!0)}function bj(o){Aj(function(){(ja&6)!==0?ut(Pt,o):o()})}function vp(){return Cd===0&&(Cd=gn()),Cd}function Ib(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:_r(""+o)}function Ub(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function yj(o,c,f,m,v){if(c==="submit"&&f&&f.stateNode===v){var S=Ib((v[Tr]||null).action),z=m.submitter;z&&(c=(c=z[Tr]||null)?Ib(c.formAction):z.getAttribute("formAction"),c!==null&&(S=c,z=null));var ae=new wo("action","action",null,m,v);o.push({event:ae,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Cd!==0){var me=z?Ub(v,z):new FormData(v);ku(f,{pending:!0,data:me,method:v.method,action:S},null,me)}}else typeof S=="function"&&(ae.preventDefault(),me=z?Ub(v,z):new FormData(v),ku(f,{pending:!0,data:me,method:v.method,action:S},S,me))},currentTarget:v}]})}}for(var wp=0;wp<Eh.length;wp++){var Np=Eh[wp],vj=Np.toLowerCase(),wj=Np[0].toUpperCase()+Np.slice(1);Ts(vj,"on"+wj)}Ts(dc,"onAnimationEnd"),Ts(fl,"onAnimationIteration"),Ts(ad,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(of,"onTransitionRun"),Ts(lf,"onTransitionStart"),Ts(cf,"onTransitionCancel"),Ts(Ah,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var r0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(r0));function Hb(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],v=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var z=m.length-1;0<=z;z--){var ae=m[z],me=ae.instance,_e=ae.currentTarget;if(ae=ae.listener,me!==S&&v.isPropagationStopped())break e;S=ae,v.currentTarget=_e;try{S(v)}catch(Ye){xc(Ye)}v.currentTarget=null,S=me}else for(z=0;z<m.length;z++){if(ae=m[z],me=ae.instance,_e=ae.currentTarget,ae=ae.listener,me!==S&&v.isPropagationStopped())break e;S=ae,v.currentTarget=_e;try{S(v)}catch(Ye){xc(Ye)}v.currentTarget=null,S=me}}}}function yr(o,c){var f=c[ls];f===void 0&&(f=c[ls]=new Set);var m=o+"__bubble";f.has(m)||(qb(c,o,2,!1),f.add(m))}function jp(o,c,f){var m=0;c&&(m|=4),qb(f,o,m,c)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function kp(o){if(!o[Bf]){o[Bf]=!0,Ya.forEach(function(f){f!=="selectionchange"&&(Nj.has(f)||jp(f,!1,o),jp(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Bf]||(c[Bf]=!0,jp("selectionchange",!1,c))}}function qb(o,c,f,m){switch(hy(c)){case 2:var v=Gj;break;case 8:v=Xj;break;default:v=Fp}f=v.bind(null,c,f,o),v=void 0,!In||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(c,f,{capture:!0,passive:v}):o.addEventListener(c,f,!0):v!==void 0?o.addEventListener(c,f,{passive:v}):o.addEventListener(c,f,!1)}function Sp(o,c,f,m,v){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var z=m.tag;if(z===3||z===4){var ae=m.stateNode.containerInfo;if(ae===v||ae.nodeType===8&&ae.parentNode===v)break;if(z===4)for(z=m.return;z!==null;){var me=z.tag;if((me===3||me===4)&&(me=z.stateNode.containerInfo,me===v||me.nodeType===8&&me.parentNode===v))return;z=z.return}for(;ae!==null;){if(z=ts(ae),z===null)return;if(me=z.tag,me===5||me===6||me===26||me===27){m=S=z;continue e}ae=ae.parentNode}}m=m.return}iu(function(){var _e=S,Ye=Ii(f),tt=[];e:{var Fe=Lh.get(o);if(Fe!==void 0){var qe=wo,Ct=o;switch(o){case"keypress":if(ui(f)===0)break e;case"keydown":case"keyup":qe=Ft;break;case"focusin":Ct="focus",qe=Hn;break;case"focusout":Ct="blur",qe=Hn;break;case"beforeblur":case"afterblur":qe=Hn;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=_a;break;case dc:case fl:case ad:qe=cl;break;case Ah:qe=Fa;break;case"scroll":case"scrollend":qe=Hi;break;case"wheel":qe=as;break;case"copy":case"cut":case"paste":qe=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=mr;break;case"toggle":case"beforetoggle":qe=qn}var Xt=(c&4)!==0,Ra=!Xt&&(o==="scroll"||o==="scrollend"),Me=Xt?Fe!==null?Fe+"Capture":null:Fe;Xt=[];for(var Ce=_e,Te;Ce!==null;){var Xe=Ce;if(Te=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Te===null||Me===null||(Xe=ol(Ce,Me),Xe!=null&&Xt.push(a0(Ce,Xe,Te))),Ra)break;Ce=Ce.return}0<Xt.length&&(Fe=new qe(Fe,Ct,null,f,Ye),tt.push({event:Fe,listeners:Xt}))}}if((c&7)===0){e:{if(Fe=o==="mouseover"||o==="pointerover",qe=o==="mouseout"||o==="pointerout",Fe&&f!==fs&&(Ct=f.relatedTarget||f.fromElement)&&(ts(Ct)||Ct[Wa]))break e;if((qe||Fe)&&(Fe=Ye.window===Ye?Ye:(Fe=Ye.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,qe?(Ct=f.relatedTarget||f.toElement,qe=_e,Ct=Ct?ts(Ct):null,Ct!==null&&(Ra=ie(Ct),Xt=Ct.tag,Ct!==Ra||Xt!==5&&Xt!==27&&Xt!==6)&&(Ct=null)):(qe=null,Ct=_e),qe!==Ct)){if(Xt=ac,Xe="onMouseLeave",Me="onMouseEnter",Ce="mouse",(o==="pointerout"||o==="pointerover")&&(Xt=mr,Xe="onPointerLeave",Me="onPointerEnter",Ce="pointer"),Ra=qe==null?Fe:wn(qe),Te=Ct==null?Fe:wn(Ct),Fe=new Xt(Xe,Ce+"leave",qe,f,Ye),Fe.target=Ra,Fe.relatedTarget=Te,Xe=null,ts(Ye)===_e&&(Xt=new Xt(Me,Ce+"enter",Ct,f,Ye),Xt.target=Te,Xt.relatedTarget=Ra,Xe=Xt),Ra=Xe,qe&&Ct)t:{for(Xt=qe,Me=Ct,Ce=0,Te=Xt;Te;Te=Bu(Te))Ce++;for(Te=0,Xe=Me;Xe;Xe=Bu(Xe))Te++;for(;0<Ce-Te;)Xt=Bu(Xt),Ce--;for(;0<Te-Ce;)Me=Bu(Me),Te--;for(;Ce--;){if(Xt===Me||Me!==null&&Xt===Me.alternate)break t;Xt=Bu(Xt),Me=Bu(Me)}Xt=null}else Xt=null;qe!==null&&Vb(tt,Fe,qe,Xt,!1),Ct!==null&&Ra!==null&&Vb(tt,Ra,Ct,Xt,!0)}}e:{if(Fe=_e?wn(_e):window,qe=Fe.nodeName&&Fe.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Fe.type==="file")var wt=sc;else if(mi(Fe))if(Gi)wt=ya;else{wt=rd;var dr=Eo}else qe=Fe.nodeName,!qe||qe.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?_e&&Vt(_e.elementType)&&(wt=sc):wt=nc;if(wt&&(wt=wt(o,_e))){ul(tt,wt,f,Ye);break e}dr&&dr(o,Fe,_e),o==="focusout"&&_e&&Fe.type==="number"&&_e.memoizedProps.value!=null&&il(Fe,"number",Fe.value)}switch(dr=_e?wn(_e):window,o){case"focusin":(mi(dr)||dr.contentEditable==="true")&&(kn=dr,bi=_e,Vn=null);break;case"focusout":Vn=bi=kn=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,$n(tt,f,Ye);break;case"selectionchange":if(Ro)break;case"keydown":case"keyup":$n(tt,f,Ye)}var Lt;if(dl)e:{switch(o){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else jn?Za(o,f)&&(Tt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Tt="onCompositionStart");Tt&&(So&&f.locale!=="ko"&&(jn||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&jn&&(Lt=tc()):(di=Ye,Jc="value"in di?di.value:di.textContent,jn=!0)),dr=zf(_e,Tt),0<dr.length&&(Tt=new fe(Tt,o,null,f,Ye),tt.push({event:Tt,listeners:dr}),Lt?Tt.data=Lt:(Lt=_o(f),Lt!==null&&(Tt.data=Lt)))),(Lt=ko?ed(o,f):td(o,f))&&(Tt=zf(_e,"onBeforeInput"),0<Tt.length&&(dr=new fe("onBeforeInput","beforeinput",null,f,Ye),tt.push({event:dr,listeners:Tt}),dr.data=Lt)),yj(tt,o,_e,f,Ye)}Hb(tt,c)})}function a0(o,c,f){return{instance:o,listener:c,currentTarget:f}}function zf(o,c){for(var f=c+"Capture",m=[];o!==null;){var v=o,S=v.stateNode;v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=ol(o,f),v!=null&&m.unshift(a0(o,v,S)),v=ol(o,c),v!=null&&m.push(a0(o,v,S))),o=o.return}return m}function Bu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Vb(o,c,f,m,v){for(var S=c._reactName,z=[];f!==null&&f!==m;){var ae=f,me=ae.alternate,_e=ae.stateNode;if(ae=ae.tag,me!==null&&me===m)break;ae!==5&&ae!==26&&ae!==27||_e===null||(me=_e,v?(_e=ol(f,S),_e!=null&&z.unshift(a0(f,_e,me))):v||(_e=ol(f,S),_e!=null&&z.push(a0(f,_e,me)))),f=f.return}z.length!==0&&o.push({event:c,listeners:z})}var jj=/\r\n?/g,kj=/\u0000|\uFFFD/g;function $b(o){return(typeof o=="string"?o:""+o).replace(jj,`
`).replace(kj,"")}function Wb(o,c){return c=$b(c),$b(o)===c}function If(){}function Hr(o,c,f,m,v,S){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||pe(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&pe(o,""+m);break;case"className":xa(o,"class",m);break;case"tabIndex":xa(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(o,f,m);break;case"style":ct(o,m,S);break;case"data":if(c!=="object"){xa(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=_r(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(c!=="input"&&Hr(o,c,"name",v.name,v,null),Hr(o,c,"formEncType",v.formEncType,v,null),Hr(o,c,"formMethod",v.formMethod,v,null),Hr(o,c,"formTarget",v.formTarget,v,null)):(Hr(o,c,"encType",v.encType,v,null),Hr(o,c,"method",v.method,v,null),Hr(o,c,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=_r(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=If);break;case"onScroll":m!=null&&yr("scroll",o);break;case"onScrollEnd":m!=null&&yr("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(f=m.__html,f!=null){if(v.children!=null)throw Error(a(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=_r(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":yr("beforetoggle",o),yr("toggle",o),Xa(o,"popover",m);break;case"xlinkActuate":hs(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":hs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":hs(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":hs(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":hs(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":hs(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":hs(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":hs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":hs(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Xa(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Gr.get(f)||f,Xa(o,f,m))}}function Cp(o,c,f,m,v,S){switch(f){case"style":ct(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(f=m.__html,f!=null){if(v.children!=null)throw Error(a(60));o.innerHTML=f}}break;case"children":typeof m=="string"?pe(o,m):(typeof m=="number"||typeof m=="bigint")&&pe(o,""+m);break;case"onScroll":m!=null&&yr("scroll",o);break;case"onScrollEnd":m!=null&&yr("scrollend",o);break;case"onClick":m!=null&&(o.onclick=If);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nn.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),c=f.slice(2,v?f.length-7:void 0),S=o[Tr]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(c,S,v),typeof m=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,m,v);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Xa(o,f,m)}}}function Us(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yr("error",o),yr("load",o);var m=!1,v=!1,S;for(S in f)if(f.hasOwnProperty(S)){var z=f[S];if(z!=null)switch(S){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:Hr(o,c,S,z,f,null)}}v&&Hr(o,c,"srcSet",f.srcSet,f,null),m&&Hr(o,c,"src",f.src,f,null);return;case"input":yr("invalid",o);var ae=S=z=v=null,me=null,_e=null;for(m in f)if(f.hasOwnProperty(m)){var Ye=f[m];if(Ye!=null)switch(m){case"name":v=Ye;break;case"type":z=Ye;break;case"checked":me=Ye;break;case"defaultChecked":_e=Ye;break;case"value":S=Ye;break;case"defaultValue":ae=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(a(137,c));break;default:Hr(o,c,m,Ye,f,null)}}nl(o,S,ae,me,_e,z,v,!1),pn(o);return;case"select":yr("invalid",o),m=z=S=null;for(v in f)if(f.hasOwnProperty(v)&&(ae=f[v],ae!=null))switch(v){case"value":S=ae;break;case"defaultValue":z=ae;break;case"multiple":m=ae;default:Hr(o,c,v,ae,f,null)}c=S,f=z,o.multiple=!!m,c!=null?rs(o,!!m,c,!1):f!=null&&rs(o,!!m,f,!0);return;case"textarea":yr("invalid",o),S=v=m=null;for(z in f)if(f.hasOwnProperty(z)&&(ae=f[z],ae!=null))switch(z){case"value":m=ae;break;case"defaultValue":v=ae;break;case"children":S=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(91));break;default:Hr(o,c,z,ae,f,null)}le(o,m,v,S),pn(o);return;case"option":for(me in f)if(f.hasOwnProperty(me)&&(m=f[me],m!=null))switch(me){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Hr(o,c,me,m,f,null)}return;case"dialog":yr("cancel",o),yr("close",o);break;case"iframe":case"object":yr("load",o);break;case"video":case"audio":for(m=0;m<r0.length;m++)yr(r0[m],o);break;case"image":yr("error",o),yr("load",o);break;case"details":yr("toggle",o);break;case"embed":case"source":case"link":yr("error",o),yr("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in f)if(f.hasOwnProperty(_e)&&(m=f[_e],m!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:Hr(o,c,_e,m,f,null)}return;default:if(Vt(c)){for(Ye in f)f.hasOwnProperty(Ye)&&(m=f[Ye],m!==void 0&&Cp(o,c,Ye,m,f,void 0));return}}for(ae in f)f.hasOwnProperty(ae)&&(m=f[ae],m!=null&&Hr(o,c,ae,m,f,null))}function Sj(o,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,z=null,ae=null,me=null,_e=null,Ye=null;for(qe in f){var tt=f[qe];if(f.hasOwnProperty(qe)&&tt!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":me=tt;default:m.hasOwnProperty(qe)||Hr(o,c,qe,null,m,tt)}}for(var Fe in m){var qe=m[Fe];if(tt=f[Fe],m.hasOwnProperty(Fe)&&(qe!=null||tt!=null))switch(Fe){case"type":S=qe;break;case"name":v=qe;break;case"checked":_e=qe;break;case"defaultChecked":Ye=qe;break;case"value":z=qe;break;case"defaultValue":ae=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(a(137,c));break;default:qe!==tt&&Hr(o,c,Fe,qe,m,tt)}}li(o,z,ae,me,_e,Ye,S,v);return;case"select":qe=z=ae=Fe=null;for(S in f)if(me=f[S],f.hasOwnProperty(S)&&me!=null)switch(S){case"value":break;case"multiple":qe=me;default:m.hasOwnProperty(S)||Hr(o,c,S,null,m,me)}for(v in m)if(S=m[v],me=f[v],m.hasOwnProperty(v)&&(S!=null||me!=null))switch(v){case"value":Fe=S;break;case"defaultValue":ae=S;break;case"multiple":z=S;default:S!==me&&Hr(o,c,v,S,m,me)}c=ae,f=z,m=qe,Fe!=null?rs(o,!!f,Fe,!1):!!m!=!!f&&(c!=null?rs(o,!!f,c,!0):rs(o,!!f,f?[]:"",!1));return;case"textarea":qe=Fe=null;for(ae in f)if(v=f[ae],f.hasOwnProperty(ae)&&v!=null&&!m.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:Hr(o,c,ae,null,m,v)}for(z in m)if(v=m[z],S=f[z],m.hasOwnProperty(z)&&(v!=null||S!=null))switch(z){case"value":Fe=v;break;case"defaultValue":qe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:v!==S&&Hr(o,c,z,v,m,S)}K(o,Fe,qe);return;case"option":for(var Ct in f)if(Fe=f[Ct],f.hasOwnProperty(Ct)&&Fe!=null&&!m.hasOwnProperty(Ct))switch(Ct){case"selected":o.selected=!1;break;default:Hr(o,c,Ct,null,m,Fe)}for(me in m)if(Fe=m[me],qe=f[me],m.hasOwnProperty(me)&&Fe!==qe&&(Fe!=null||qe!=null))switch(me){case"selected":o.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:Hr(o,c,me,Fe,m,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in f)Fe=f[Xt],f.hasOwnProperty(Xt)&&Fe!=null&&!m.hasOwnProperty(Xt)&&Hr(o,c,Xt,null,m,Fe);for(_e in m)if(Fe=m[_e],qe=f[_e],m.hasOwnProperty(_e)&&Fe!==qe&&(Fe!=null||qe!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(a(137,c));break;default:Hr(o,c,_e,Fe,m,qe)}return;default:if(Vt(c)){for(var Ra in f)Fe=f[Ra],f.hasOwnProperty(Ra)&&Fe!==void 0&&!m.hasOwnProperty(Ra)&&Cp(o,c,Ra,void 0,m,Fe);for(Ye in m)Fe=m[Ye],qe=f[Ye],!m.hasOwnProperty(Ye)||Fe===qe||Fe===void 0&&qe===void 0||Cp(o,c,Ye,Fe,m,qe);return}}for(var Me in f)Fe=f[Me],f.hasOwnProperty(Me)&&Fe!=null&&!m.hasOwnProperty(Me)&&Hr(o,c,Me,null,m,Fe);for(tt in m)Fe=m[tt],qe=f[tt],!m.hasOwnProperty(tt)||Fe===qe||Fe==null&&qe==null||Hr(o,c,tt,Fe,m,qe)}var _p=null,Ap=null;function Uf(o){return o.nodeType===9?o:o.ownerDocument}function Yb(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Lp(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ep=null;function Cj(){var o=window.event;return o&&o.type==="popstate"?o===Ep?!1:(Ep=o,!0):(Ep=null,!1)}var Xb=typeof setTimeout=="function"?setTimeout:void 0,_j=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,Aj=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(o){return Zb.resolve(null).then(o).catch(Lj)}:Xb;function Lj(o){setTimeout(function(){throw o})}function Mp(o,c){var f=c,m=0;do{var v=f.nextSibling;if(o.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(m===0){o.removeChild(v),u0(c);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=v}while(f);u0(c)}function Rp(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Rp(f),_s(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function Ej(o,c,f,m){for(;o.nodeType===1;){var v=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Sa])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==v.rel||o.getAttribute("href")!==(v.href==null?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=co(o.nextSibling),o===null)break}return null}function Mj(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=co(o.nextSibling),o===null))return null;return o}function co(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}function Qb(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}function Kb(o,c,f){switch(c=Uf(f),o){case"html":if(o=c.documentElement,!o)throw Error(a(452));return o;case"head":if(o=c.head,!o)throw Error(a(453));return o;case"body":if(o=c.body,!o)throw Error(a(454));return o;default:throw Error(a(451))}}var _i=new Map,Jb=new Set;function Hf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var El=G.d;G.d={f:Rj,r:Tj,D:Pj,C:Dj,L:Oj,m:Fj,X:zj,S:Bj,M:Ij};function Rj(){var o=El.f(),c=Pf();return o||c}function Tj(o){var c=As(o);c!==null&&c.tag===5&&c.type==="form"?yd(c):El.r(o)}var zu=typeof document>"u"?null:document;function ey(o,c,f){var m=zu;if(m&&typeof c=="string"&&c){var v=aa(c);v='link[rel="'+o+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),Jb.has(v)||(Jb.add(v),o={rel:o,crossOrigin:f,href:c},m.querySelector(v)===null&&(c=m.createElement("link"),Us(c,"link",o),Pr(c),m.head.appendChild(c)))}}function Pj(o){El.D(o),ey("dns-prefetch",o,null)}function Dj(o,c){El.C(o,c),ey("preconnect",o,c)}function Oj(o,c,f){El.L(o,c,f);var m=zu;if(m&&o&&c){var v='link[rel="preload"][as="'+aa(c)+'"]';c==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+aa(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+aa(f.imageSizes)+'"]')):v+='[href="'+aa(o)+'"]';var S=v;switch(c){case"style":S=Iu(o);break;case"script":S=Uu(o)}_i.has(S)||(o=W({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),_i.set(S,o),m.querySelector(v)!==null||c==="style"&&m.querySelector(s0(S))||c==="script"&&m.querySelector(n0(S))||(c=m.createElement("link"),Us(c,"link",o),Pr(c),m.head.appendChild(c)))}}function Fj(o,c){El.m(o,c);var f=zu;if(f&&o){var m=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+aa(m)+'"][href="'+aa(o)+'"]',S=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Uu(o)}if(!_i.has(S)&&(o=W({rel:"modulepreload",href:o},c),_i.set(S,o),f.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(n0(S)))return}m=f.createElement("link"),Us(m,"link",o),Pr(m),f.head.appendChild(m)}}}function Bj(o,c,f){El.S(o,c,f);var m=zu;if(m&&o){var v=ii(m).hoistableStyles,S=Iu(o);c=c||"default";var z=v.get(S);if(!z){var ae={loading:0,preload:null};if(z=m.querySelector(s0(S)))ae.loading=5;else{o=W({rel:"stylesheet",href:o,"data-precedence":c},f),(f=_i.get(S))&&Tp(o,f);var me=z=m.createElement("link");Pr(me),Us(me,"link",o),me._p=new Promise(function(_e,Ye){me.onload=_e,me.onerror=Ye}),me.addEventListener("load",function(){ae.loading|=1}),me.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,qf(z,c,m)}z={type:"stylesheet",instance:z,count:1,state:ae},v.set(S,z)}}}function zj(o,c){El.X(o,c);var f=zu;if(f&&o){var m=ii(f).hoistableScripts,v=Uu(o),S=m.get(v);S||(S=f.querySelector(n0(v)),S||(o=W({src:o,async:!0},c),(c=_i.get(v))&&Pp(o,c),S=f.createElement("script"),Pr(S),Us(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(v,S))}}function Ij(o,c){El.M(o,c);var f=zu;if(f&&o){var m=ii(f).hoistableScripts,v=Uu(o),S=m.get(v);S||(S=f.querySelector(n0(v)),S||(o=W({src:o,async:!0,type:"module"},c),(c=_i.get(v))&&Pp(o,c),S=f.createElement("script"),Pr(S),Us(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(v,S))}}function ty(o,c,f,m){var v=(v=Ve.current)?Hf(v):null;if(!v)throw Error(a(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Iu(f.href),f=ii(v).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Iu(f.href);var S=ii(v).hoistableStyles,z=S.get(o);if(z||(v=v.ownerDocument||v,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,z),(S=v.querySelector(s0(o)))&&!S._p&&(z.instance=S,z.state.loading=5),_i.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},_i.set(o,f),S||Uj(v,o,f,z.state))),c&&m===null)throw Error(a(528,""));return z}if(c&&m!==null)throw Error(a(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Uu(f),f=ii(v).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,o))}}function Iu(o){return'href="'+aa(o)+'"'}function s0(o){return'link[rel="stylesheet"]['+o+"]"}function ry(o){return W({},o,{"data-precedence":o.precedence,precedence:null})}function Uj(o,c,f,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Us(c,"link",f),Pr(c),o.head.appendChild(c))}function Uu(o){return'[src="'+aa(o)+'"]'}function n0(o){return"script[async]"+o}function ay(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+aa(f.href)+'"]');if(m)return c.instance=m,Pr(m),m;var v=W({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Pr(m),Us(m,"style",v),qf(m,f.precedence,o),c.instance=m;case"stylesheet":v=Iu(f.href);var S=o.querySelector(s0(v));if(S)return c.state.loading|=4,c.instance=S,Pr(S),S;m=ry(f),(v=_i.get(v))&&Tp(m,v),S=(o.ownerDocument||o).createElement("link"),Pr(S);var z=S;return z._p=new Promise(function(ae,me){z.onload=ae,z.onerror=me}),Us(S,"link",m),c.state.loading|=4,qf(S,f.precedence,o),c.instance=S;case"script":return S=Uu(f.src),(v=o.querySelector(n0(S)))?(c.instance=v,Pr(v),v):(m=f,(v=_i.get(S))&&(m=W({},f),Pp(m,v)),o=o.ownerDocument||o,v=o.createElement("script"),Pr(v),Us(v,"link",m),o.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(a(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,qf(m,f.precedence,o));return c.instance}function qf(o,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,S=v,z=0;z<m.length;z++){var ae=m[z];if(ae.dataset.precedence===c)S=ae;else if(S!==v)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function Tp(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Pp(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Vf=null;function sy(o,c,f){if(Vf===null){var m=new Map,v=Vf=new Map;v.set(f,m)}else v=Vf,m=v.get(f),m||(m=new Map,v.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),v=0;v<f.length;v++){var S=f[v];if(!(S[Sa]||S[Vr]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var z=S.getAttribute(c)||"";z=o+z;var ae=m.get(z);ae?ae.push(S):m.set(z,[S])}}return m}function ny(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function Hj(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function iy(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var i0=null;function qj(){}function Vj(o,c,f){if(i0===null)throw Error(a(475));var m=i0;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Iu(f.href),S=o.querySelector(s0(v));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=$f.bind(m),o.then(m,m)),c.state.loading|=4,c.instance=S,Pr(S);return}S=o.ownerDocument||o,f=ry(f),(v=_i.get(v))&&Tp(f,v),S=S.createElement("link"),Pr(S);var z=S;z._p=new Promise(function(ae,me){z.onload=ae,z.onerror=me}),Us(S,"link",f),c.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=$f.bind(m),o.addEventListener("load",c),o.addEventListener("error",c))}}function $j(){if(i0===null)throw Error(a(475));var o=i0;return o.stylesheets&&o.count===0&&Dp(o,o.stylesheets),0<o.count?function(c){var f=setTimeout(function(){if(o.stylesheets&&Dp(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(f)}}:null}function $f(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Wf=null;function Dp(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Wf=new Map,c.forEach(Wj,o),Wf=null,$f.call(o))}function Wj(o,c){if(!(c.state.loading&4)){var f=Wf.get(o);if(f)var m=f.get(null);else{f=new Map,Wf.set(o,f);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var z=v[S];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(f.set(z.dataset.precedence,z),m=z)}m&&f.set(null,m)}v=c.instance,z=v.getAttribute("data-precedence"),S=f.get(z)||m,S===m&&f.set(null,v),f.set(z,v),this.count++,m=$f.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),S?S.parentNode.insertBefore(v,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),c.state.loading|=4}}var o0={$$typeof:p,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Yj(o,c,f,m,v,S,z,ae){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function oy(o,c,f,m,v,S,z,ae,me,_e,Ye,tt){return o=new Yj(o,c,f,z,ae,me,_e,tt),c=1,S===!0&&(c|=24),S=Si(3,null,null,c),o.current=S,S.stateNode=o,c=yu(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:c},Ym(S),o}function ly(o){return o?(o=Ki,o):Ki}function cy(o,c,f,m,v,S){v=ly(v),m.context===null?m.context=v:m.pendingContext=v,m=wc(c),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=Nc(o,m,c),f!==null&&(vn(f,o,c),Vh(f,o,c))}function dy(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Op(o,c){dy(o,c),(o=o.alternate)&&dy(o,c)}function uy(o){if(o.tag===13){var c=Qi(o,67108864);c!==null&&vn(c,o,67108864),Op(o,67108864)}}var Yf=!0;function Gj(o,c,f,m){var v=T.T;T.T=null;var S=G.p;try{G.p=2,Fp(o,c,f,m)}finally{G.p=S,T.T=v}}function Xj(o,c,f,m){var v=T.T;T.T=null;var S=G.p;try{G.p=8,Fp(o,c,f,m)}finally{G.p=S,T.T=v}}function Fp(o,c,f,m){if(Yf){var v=Bp(m);if(v===null)Sp(o,c,m,Gf,f),fy(o,m);else if(Qj(v,o,c,f,m))m.stopPropagation();else if(fy(o,m),c&4&&-1<Zj.indexOf(o)){for(;v!==null;){var S=As(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var z=kt(S.pendingLanes);if(z!==0){var ae=S;for(ae.pendingLanes|=2,ae.entangledLanes|=2;z;){var me=1<<31-ht(z);ae.entanglements[1]|=me,z&=~me}Ho(S),(ja&6)===0&&(Mf=qt()+500,t0(0))}}break;case 13:ae=Qi(S,2),ae!==null&&vn(ae,S,2),Pf(),Op(S,2)}if(S=Bp(m),S===null&&Sp(o,c,m,Gf,f),S===v)break;v=S}v!==null&&m.stopPropagation()}else Sp(o,c,m,null,f)}}function Bp(o){return o=Ii(o),zp(o)}var Gf=null;function zp(o){if(Gf=null,o=ts(o),o!==null){var c=ie(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=ye(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Gf=o,null}function hy(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case Pt:return 2;case er:return 8;case Wt:case xt:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var Ip=!1,Lc=null,Ec=null,Mc=null,l0=new Map,c0=new Map,Rc=[],Zj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(o,c){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Mc=null;break;case"pointerover":case"pointerout":l0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":c0.delete(c.pointerId)}}function d0(o,c,f,m,v,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[v]},c!==null&&(c=As(c),c!==null&&uy(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),o)}function Qj(o,c,f,m,v){switch(c){case"focusin":return Lc=d0(Lc,o,c,f,m,v),!0;case"dragenter":return Ec=d0(Ec,o,c,f,m,v),!0;case"mouseover":return Mc=d0(Mc,o,c,f,m,v),!0;case"pointerover":var S=v.pointerId;return l0.set(S,d0(l0.get(S)||null,o,c,f,m,v)),!0;case"gotpointercapture":return S=v.pointerId,c0.set(S,d0(c0.get(S)||null,o,c,f,m,v)),!0}return!1}function gy(o){var c=ts(o.target);if(c!==null){var f=ie(c);if(f!==null){if(c=f.tag,c===13){if(c=ye(f),c!==null){o.blockedOn=c,Oa(o.priority,function(){if(f.tag===13){var m=ri(),v=Qi(f,m);v!==null&&vn(v,f,m),Op(f,m)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xf(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=Bp(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);fs=m,f.target.dispatchEvent(m),fs=null}else return c=As(f),c!==null&&uy(c),o.blockedOn=f,!1;c.shift()}return!0}function my(o,c,f){Xf(o)&&f.delete(c)}function Kj(){Ip=!1,Lc!==null&&Xf(Lc)&&(Lc=null),Ec!==null&&Xf(Ec)&&(Ec=null),Mc!==null&&Xf(Mc)&&(Mc=null),l0.forEach(my),c0.forEach(my)}function Zf(o,c){o.blockedOn===c&&(o.blockedOn=null,Ip||(Ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Kj)))}var Qf=null;function py(o){Qf!==o&&(Qf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qf===o&&(Qf=null);for(var c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],v=o[c+2];if(typeof m!="function"){if(zp(m||f)===null)continue;break}var S=As(f);S!==null&&(o.splice(c,3),c-=3,ku(S,{pending:!0,data:v,method:f.method,action:m},m,v))}}))}function u0(o){function c(me){return Zf(me,o)}Lc!==null&&Zf(Lc,o),Ec!==null&&Zf(Ec,o),Mc!==null&&Zf(Mc,o),l0.forEach(c),c0.forEach(c);for(var f=0;f<Rc.length;f++){var m=Rc[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Rc.length&&(f=Rc[0],f.blockedOn===null);)gy(f),f.blockedOn===null&&Rc.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var v=f[m],S=f[m+1],z=v[Tr]||null;if(typeof S=="function")z||py(f);else if(z){var ae=null;if(S&&S.hasAttribute("formAction")){if(v=S,z=S[Tr]||null)ae=z.formAction;else if(zp(v)!==null)continue}else ae=z.action;typeof ae=="function"?f[m+1]=ae:(f.splice(m,3),m-=3),py(f)}}}function Up(o){this._internalRoot=o}Kf.prototype.render=Up.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(a(409));var f=c.current,m=ri();cy(f,m,o,c,null,null)},Kf.prototype.unmount=Up.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;o.tag===0&&Ou(),cy(o.current,2,null,o,null,null),Pf(),c[Wa]=null}};function Kf(o){this._internalRoot=o}Kf.prototype.unstable_scheduleHydration=function(o){if(o){var c=ra();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Rc.length&&c!==0&&c<Rc[f].priority;f++);Rc.splice(f,0,o),f===0&&gy(o)}};var xy=e.version;if(xy!=="19.0.0")throw Error(a(527,xy,"19.0.0"));G.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(a(188)):(o=Object.keys(o).join(","),Error(a(268,o)));return o=te(c),o=o!==null?P(o):null,o=o===null?null:o.stateNode,o};var Jj={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:ts,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{tr=Jf.inject(Jj),Et=Jf}catch{}}return f0.createRoot=function(o,c){if(!n(o))throw Error(a(299));var f=!1,m="",v=Uh,S=kf,z=Au,ae=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ae=c.unstable_transitionCallbacks)),c=oy(o,1,!1,null,null,f,m,v,S,z,ae,null),o[Wa]=c.current,kp(o.nodeType===8?o.parentNode:o),new Up(c)},f0.hydrateRoot=function(o,c,f){if(!n(o))throw Error(a(299));var m=!1,v="",S=Uh,z=kf,ae=Au,me=null,_e=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(z=f.onCaughtError),f.onRecoverableError!==void 0&&(ae=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(me=f.unstable_transitionCallbacks),f.formState!==void 0&&(_e=f.formState)),c=oy(o,1,!0,c,f??null,m,v,S,z,ae,me,_e),c.context=ly(null),f=c.current,m=ri(),v=wc(m),v.callback=null,Nc(f,v,m),c.current.lanes=m,ks(c,m),Ho(c),o[Wa]=c.current,kp(o),new Kf(c)},f0.version="19.0.0",f0}var _y;function uk(){if(_y)return Vp.exports;_y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vp.exports=dk(),Vp.exports}var hk=uk();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ay="popstate";function fk(t={}){function e(a,n){let{pathname:i,search:l,hash:d}=a.location;return r1("",{pathname:i,search:l,hash:d},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:z0(n)}return mk(e,r,null,t)}function pa(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gk(){return Math.random().toString(36).substring(2,10)}function Ly(t,e){return{usr:t.state,key:t.key,idx:e}}function r1(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ph(e):e,state:r,key:e&&e.key||a||gk()}}function z0({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ph(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function mk(t,e,r,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,d="POP",u=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function x(){d="POP";let k=g(),C=k==null?null:k-h;h=k,u&&u({action:d,location:j.location,delta:C})}function y(k,C){d="PUSH";let L=r1(j.location,k,C);h=g()+1;let E=Ly(L,h),D=j.createHref(L);try{l.pushState(E,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;n.location.assign(D)}i&&u&&u({action:d,location:j.location,delta:1})}function p(k,C){d="REPLACE";let L=r1(j.location,k,C);h=g();let E=Ly(L,h),D=j.createHref(L);l.replaceState(E,"",D),i&&u&&u({action:d,location:j.location,delta:0})}function w(k){return pk(k)}let j={get action(){return d},get location(){return t(n,l)},listen(k){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(Ay,x),u=k,()=>{n.removeEventListener(Ay,x),u=null}},createHref(k){return e(n,k)},createURL:w,encodeLocation(k){let C=w(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:p,go(k){return l.go(k)}};return j}function pk(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pa(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:z0(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Sw(t,e,r="/"){return xk(t,e,r,!1)}function xk(t,e,r,a){let n=typeof e=="string"?ph(e):e,i=Yl(n.pathname||"/",r);if(i==null)return null;let l=Cw(t);bk(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=Lk(i);d=_k(l[u],h,a)}return d}function Cw(t,e=[],r=[],a="",n=!1){let i=(l,d,u=n,h)=>{let g={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&u)return;pa(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let x=ql([a,g.relativePath]),y=r.concat(g);l.children&&l.children.length>0&&(pa(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Cw(l.children,e,y,x,u)),!(l.path==null&&!l.index)&&e.push({path:x,score:Sk(x,l.index),routesMeta:y})};return t.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,d);else for(let h of _w(l.path))i(l,d,!0,h)}),e}function _w(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=_w(a.join("/")),d=[];return d.push(...l.map(u=>u===""?i:[i,u].join("/"))),n&&d.push(...l),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function bk(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Ck(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var yk=/^:[\w-]+$/,vk=3,wk=2,Nk=1,jk=10,kk=-2,Ey=t=>t==="*";function Sk(t,e){let r=t.split("/"),a=r.length;return r.some(Ey)&&(a+=kk),e&&(a+=wk),r.filter(n=>!Ey(n)).reduce((n,i)=>n+(yk.test(i)?vk:i===""?Nk:jk),a)}function Ck(t,e){return t.length===e.length&&t.slice(0,-1).every((a,n)=>a===e[n])?t[t.length-1]-e[e.length-1]:0}function _k(t,e,r=!1){let{routesMeta:a}=t,n={},i="/",l=[];for(let d=0;d<a.length;++d){let u=a[d],h=d===a.length-1,g=i==="/"?e:e.slice(i.length)||"/",x=Qg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},g),y=u.route;if(!x&&h&&r&&!a[a.length-1].route.index&&(x=Qg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!x)return null;Object.assign(n,x.params),l.push({params:n,pathname:ql([i,x.pathname]),pathnameBase:Pk(ql([i,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(i=ql([i,x.pathnameBase]))}return l}function Qg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Ak(t.path,t.caseSensitive,t.end),n=e.match(r);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),d=n.slice(1);return{params:a.reduce((h,{paramName:g,isOptional:x},y)=>{if(g==="*"){let w=d[y]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const p=d[y];return x&&!p?h[g]=void 0:h[g]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function Ak(t,e=!1,r=!0){Di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),a]}function Lk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var Ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mk=t=>Ek.test(t);function Rk(t,e="/"){let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?ph(t):t,i;if(r)if(Mk(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Di(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?i=My(r.substring(1),"/"):i=My(r,e)}else i=e;return{pathname:i,search:Dk(a),hash:Ok(n)}}function My(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Gp(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Y1(t){let e=Tk(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function G1(t,e,r,a=!1){let n;typeof t=="string"?n=ph(t):(n={...t},pa(!n.pathname||!n.pathname.includes("?"),Gp("?","pathname","search",n)),pa(!n.pathname||!n.pathname.includes("#"),Gp("#","pathname","hash",n)),pa(!n.search||!n.search.includes("#"),Gp("#","search","hash",n)));let i=t===""||n.pathname==="",l=i?"/":n.pathname,d;if(l==null)d=r;else{let x=e.length-1;if(!a&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),x-=1;n.pathname=y.join("/")}d=x>=0?e[x]:"/"}let u=Rk(n,d),h=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||g)&&(u.pathname+="/"),u}var ql=t=>t.join("/").replace(/\/\/+/g,"/"),Pk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ok=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Fk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Aw=["POST","PUT","PATCH","DELETE"];new Set(Aw);var Bk=["GET",...Aw];new Set(Bk);var xh=R.createContext(null);xh.displayName="DataRouter";var mm=R.createContext(null);mm.displayName="DataRouterState";R.createContext(!1);var Lw=R.createContext({isTransitioning:!1});Lw.displayName="ViewTransition";var zk=R.createContext(new Map);zk.displayName="Fetchers";var Ik=R.createContext(null);Ik.displayName="Await";var mo=R.createContext(null);mo.displayName="Navigation";var Z0=R.createContext(null);Z0.displayName="Location";var Fi=R.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var X1=R.createContext(null);X1.displayName="RouteError";function Uk(t,{relative:e}={}){pa(bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=R.useContext(mo),{hash:n,pathname:i,search:l}=Q0(t,{relative:e}),d=i;return r!=="/"&&(d=i==="/"?r:ql([r,i])),a.createHref({pathname:d,search:l,hash:n})}function bh(){return R.useContext(Z0)!=null}function js(){return pa(bh(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Z0).location}var Ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mw(t){R.useContext(mo).static||R.useLayoutEffect(t)}function Bi(){let{isDataRoute:t}=R.useContext(Fi);return t?r8():Hk()}function Hk(){pa(bh(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(xh),{basename:e,navigator:r}=R.useContext(mo),{matches:a}=R.useContext(Fi),{pathname:n}=js(),i=JSON.stringify(Y1(a)),l=R.useRef(!1);return Mw(()=>{l.current=!0}),R.useCallback((u,h={})=>{if(Di(l.current,Ew),!l.current)return;if(typeof u=="number"){r.go(u);return}let g=G1(u,JSON.parse(i),n,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ql([e,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[e,r,i,n,t])}var qk=R.createContext(null);function Vk(t){let e=R.useContext(Fi).outlet;return R.useMemo(()=>e&&R.createElement(qk.Provider,{value:t},e),[e,t])}function Rw(){let{matches:t}=R.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function Q0(t,{relative:e}={}){let{matches:r}=R.useContext(Fi),{pathname:a}=js(),n=JSON.stringify(Y1(r));return R.useMemo(()=>G1(t,JSON.parse(n),a,e==="path"),[t,n,a,e])}function $k(t,e){return Tw(t,e)}function Tw(t,e,r,a,n){var L;pa(bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(mo),{matches:l}=R.useContext(Fi),d=l[l.length-1],u=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let E=x&&x.path||"";Pw(h,!x||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=js(),p;if(e){let E=typeof e=="string"?ph(e):e;pa(g==="/"||((L=E.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=y;let w=p.pathname||"/",j=w;if(g!=="/"){let E=g.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=Sw(t,{pathname:j});Di(x||k!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Di(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Zk(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ql([g,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:ql([g,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,a,n);return e&&C?R.createElement(Z0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},C):C}function Wk(){let t=t8(),e=Fk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),r?R.createElement("pre",{style:n},r):null,l)}var Yk=R.createElement(Wk,null),Gk=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Fi.Provider,{value:this.props.routeContext},R.createElement(X1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xk({routeContext:t,match:e,children:r}){let a=R.useContext(xh);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Fi.Provider,{value:t},r)}function Zk(t,e=[],r=null,a=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=r==null?void 0:r.errors;if(l!=null){let g=i.findIndex(x=>x.route.id&&(l==null?void 0:l[x.route.id])!==void 0);pa(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,g+1))}let d=!1,u=-1;if(r)for(let g=0;g<i.length;g++){let x=i[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(u=g),x.route.id){let{loaderData:y,errors:p}=r,w=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!p||p[x.route.id]===void 0);if(x.route.lazy||w){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let h=r&&a?(g,x)=>{var y,p;a(g,{location:r.location,params:((p=(y=r.matches)==null?void 0:y[0])==null?void 0:p.params)??{},errorInfo:x})}:void 0;return i.reduceRight((g,x,y)=>{let p,w=!1,j=null,k=null;r&&(p=l&&x.route.id?l[x.route.id]:void 0,j=x.route.errorElement||Yk,d&&(u<0&&y===0?(Pw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):u===y&&(w=!0,k=x.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,y+1)),L=()=>{let E;return p?E=j:w?E=k:x.route.Component?E=R.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=g,R.createElement(Xk,{match:x,routeContext:{outlet:g,matches:C,isDataRoute:r!=null},children:E})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?R.createElement(Gk,{location:r.location,revalidation:r.revalidation,component:j,error:p,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):L()},null)}function Z1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qk(t){let e=R.useContext(xh);return pa(e,Z1(t)),e}function Kk(t){let e=R.useContext(mm);return pa(e,Z1(t)),e}function Jk(t){let e=R.useContext(Fi);return pa(e,Z1(t)),e}function Q1(t){let e=Jk(t),r=e.matches[e.matches.length-1];return pa(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function e8(){return Q1("useRouteId")}function t8(){var a;let t=R.useContext(X1),e=Kk("useRouteError"),r=Q1("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[r]}function r8(){let{router:t}=Qk("useNavigate"),e=Q1("useNavigate"),r=R.useRef(!1);return Mw(()=>{r.current=!0}),R.useCallback(async(n,i={})=>{Di(r.current,Ew),r.current&&(typeof n=="number"?t.navigate(n):await t.navigate(n,{fromRouteId:e,...i}))},[t,e])}var Ry={};function Pw(t,e,r){!e&&!Ry[t]&&(Ry[t]=!0,Di(!1,r))}R.memo(a8);function a8({routes:t,future:e,state:r,unstable_onError:a}){return Tw(t,void 0,r,a,e)}function Ku({to:t,replace:e,state:r,relative:a}){pa(bh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=R.useContext(mo);Di(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=R.useContext(Fi),{pathname:l}=js(),d=Bi(),u=G1(t,Y1(i),l,a==="path"),h=JSON.stringify(u);return R.useEffect(()=>{d(JSON.parse(h),{replace:e,state:r,relative:a})},[d,h,a,e,r]),null}function pm(t){return Vk(t.context)}function Mt(t){pa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s8({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:n,static:i=!1}){pa(!bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:l,navigator:n,static:i,future:{}}),[l,n,i]);typeof r=="string"&&(r=ph(r));let{pathname:u="/",search:h="",hash:g="",state:x=null,key:y="default"}=r,p=R.useMemo(()=>{let w=Yl(u,l);return w==null?null:{location:{pathname:w,search:h,hash:g,state:x,key:y},navigationType:a}},[l,u,h,g,x,y,a]);return Di(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:R.createElement(mo.Provider,{value:d},R.createElement(Z0.Provider,{children:e,value:p}))}function n8({children:t,location:e}){return $k(a1(t),e)}function a1(t,e=[]){let r=[];return R.Children.forEach(t,(a,n)=>{if(!R.isValidElement(a))return;let i=[...e,n];if(a.type===R.Fragment){r.push.apply(r,a1(a.props.children,i));return}pa(a.type===Mt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pa(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=a1(a.props.children,i)),r.push(l)}),r}var Rg="get",Tg="application/x-www-form-urlencoded";function xm(t){return t!=null&&typeof t.tagName=="string"}function i8(t){return xm(t)&&t.tagName.toLowerCase()==="button"}function o8(t){return xm(t)&&t.tagName.toLowerCase()==="form"}function l8(t){return xm(t)&&t.tagName.toLowerCase()==="input"}function c8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d8(t,e){return t.button===0&&(!e||e==="_self")&&!c8(t)}var eg=null;function u8(){if(eg===null)try{new FormData(document.createElement("form"),0),eg=!1}catch{eg=!0}return eg}var h8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(t){return t!=null&&!h8.has(t)?(Di(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tg}"`),null):t}function f8(t,e){let r,a,n,i,l;if(o8(t)){let d=t.getAttribute("action");a=d?Yl(d,e):null,r=t.getAttribute("method")||Rg,n=Xp(t.getAttribute("enctype"))||Tg,i=new FormData(t)}else if(i8(t)||l8(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(a=u?Yl(u,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||Rg,n=Xp(t.getAttribute("formenctype"))||Xp(d.getAttribute("enctype"))||Tg,i=new FormData(d,t),!u8()){let{name:h,type:g,value:x}=t;if(g==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,x)}}else{if(xm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Rg,a=null,n=Tg,l=t}return i&&n==="text/plain"&&(l=i,i=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g8(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Yl(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function m8(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function x8(t,e,r){let a=await Promise.all(t.map(async n=>{let i=e.routes[n.route.id];if(i){let l=await m8(i,r);return l.links?l.links():[]}return[]}));return w8(a.flat(1).filter(p8).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function Ty(t,e,r,a,n,i){let l=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,d=(u,h)=>{var g;return r[h].pathname!==u.pathname||((g=r[h].route.path)==null?void 0:g.endsWith("*"))&&r[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>l(u,h)||d(u,h)):i==="data"?e.filter((u,h)=>{var x;let g=a.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(l(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function b8(t,e,{includeHydrateFallback:r}={}){return y8(t.map(a=>{let n=e.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function y8(t){return[...new Set(t)]}function v8(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function w8(t,e){let r=new Set;return new Set(e),t.reduce((a,n)=>{let i=JSON.stringify(v8(n));return r.has(i)||(r.add(i),a.push({key:i,link:n})),a},[])}function Dw(){let t=R.useContext(xh);return K1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function N8(){let t=R.useContext(mm);return K1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var J1=R.createContext(void 0);J1.displayName="FrameworkContext";function Ow(){let t=R.useContext(J1);return K1(t,"You must render this element inside a <HydratedRouter> element"),t}function j8(t,e){let r=R.useContext(J1),[a,n]=R.useState(!1),[i,l]=R.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:g,onTouchStart:x}=e,y=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let j=C=>{C.forEach(L=>{l(L.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[t]),R.useEffect(()=>{if(a){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[a]);let p=()=>{n(!0)},w=()=>{n(!1),l(!1)};return r?t!=="intent"?[i,y,{}]:[i,y,{onFocus:g0(d,p),onBlur:g0(u,w),onMouseEnter:g0(h,p),onMouseLeave:g0(g,w),onTouchStart:g0(x,p)}]:[!1,y,{}]}function g0(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function k8({page:t,...e}){let{router:r}=Dw(),a=R.useMemo(()=>Sw(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?R.createElement(C8,{page:t,matches:a,...e}):null}function S8(t){let{manifest:e,routeModules:r}=Ow(),[a,n]=R.useState([]);return R.useEffect(()=>{let i=!1;return x8(t,e,r).then(l=>{i||n(l)}),()=>{i=!0}},[t,e,r]),a}function C8({page:t,matches:e,...r}){let a=js(),{manifest:n,routeModules:i}=Ow(),{basename:l}=Dw(),{loaderData:d,matches:u}=N8(),h=R.useMemo(()=>Ty(t,e,u,n,a,"data"),[t,e,u,n,a]),g=R.useMemo(()=>Ty(t,e,u,n,a,"assets"),[t,e,u,n,a]),x=R.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let w=new Set,j=!1;if(e.forEach(C=>{var E;let L=n.routes[C.route.id];!L||!L.hasLoader||(!h.some(D=>D.route.id===C.route.id)&&C.route.id in d&&((E=i[C.route.id])!=null&&E.shouldRevalidate)||L.hasClientLoader?j=!0:w.add(C.route.id))}),w.size===0)return[];let k=g8(t,l,"data");return j&&w.size>0&&k.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[l,d,a,n,h,e,t,i]),y=R.useMemo(()=>b8(g,n),[g,n]),p=S8(g);return R.createElement(R.Fragment,null,x.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),y.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),p.map(({key:w,link:j})=>R.createElement("link",{key:w,nonce:r.nonce,...j})))}function _8(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fw&&(window.__reactRouterVersion="7.9.6")}catch{}function A8({basename:t,children:e,window:r}){let a=R.useRef();a.current==null&&(a.current=fk({window:r,v5Compat:!0}));let n=a.current,[i,l]=R.useState({action:n.action,location:n.location}),d=R.useCallback(u=>{R.startTransition(()=>l(u))},[l]);return R.useLayoutEffect(()=>n.listen(d),[n,d]),R.createElement(s8,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:n})}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=R.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:n,reloadDocument:i,replace:l,state:d,target:u,to:h,preventScrollReset:g,viewTransition:x,...y},p){let{basename:w}=R.useContext(mo),j=typeof h=="string"&&Bw.test(h),k,C=!1;if(typeof h=="string"&&j&&(k=h,Fw))try{let T=new URL(window.location.href),W=h.startsWith("//")?new URL(T.protocol+h):new URL(h),I=Yl(W.pathname,w);W.origin===T.origin&&I!=null?h=I+W.search+W.hash:C=!0}catch{Di(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Uk(h,{relative:n}),[E,D,F]=j8(a,y),se=R8(h,{replace:l,state:d,target:u,preventScrollReset:g,relative:n,viewTransition:x});function O(T){e&&e(T),T.defaultPrevented||se(T)}let U=R.createElement("a",{...y,...F,href:k||L,onClick:C||i?e:O,ref:_8(p,D),target:u,"data-discover":!j&&r==="render"?"true":void 0});return E&&!j?R.createElement(R.Fragment,null,U,R.createElement(k8,{page:L})):U});lt.displayName="Link";var L8=R.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:n=!1,style:i,to:l,viewTransition:d,children:u,...h},g){let x=Q0(l,{relative:h.relative}),y=js(),p=R.useContext(mm),{navigator:w,basename:j}=R.useContext(mo),k=p!=null&&F8(x)&&d===!0,C=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,L=y.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(L=L.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&j&&(E=Yl(E,j)||E);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=L===C||!n&&L.startsWith(C)&&L.charAt(D)==="/",se=E!=null&&(E===C||!n&&E.startsWith(C)&&E.charAt(C.length)==="/"),O={isActive:F,isPending:se,isTransitioning:k},U=F?e:void 0,T;typeof a=="function"?T=a(O):T=[a,F?"active":null,se?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let W=typeof i=="function"?i(O):i;return R.createElement(lt,{...h,"aria-current":U,className:T,ref:g,style:W,to:l,viewTransition:d},typeof u=="function"?u(O):u)});L8.displayName="NavLink";var E8=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:n,state:i,method:l=Rg,action:d,onSubmit:u,relative:h,preventScrollReset:g,viewTransition:x,...y},p)=>{let w=D8(),j=O8(d,{relative:h}),k=l.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&Bw.test(d),L=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||l;w(D||E.currentTarget,{fetcherKey:e,method:F,navigate:r,replace:n,state:i,relative:h,preventScrollReset:g,viewTransition:x})};return R.createElement("form",{ref:p,method:k,action:j,onSubmit:a?u:L,...y,"data-discover":!C&&t==="render"?"true":void 0})});E8.displayName="Form";function M8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(t){let e=R.useContext(xh);return pa(e,M8(t)),e}function R8(t,{target:e,replace:r,state:a,preventScrollReset:n,relative:i,viewTransition:l}={}){let d=Bi(),u=js(),h=Q0(t,{relative:i});return R.useCallback(g=>{if(d8(g,e)){g.preventDefault();let x=r!==void 0?r:z0(u)===z0(h);d(t,{replace:x,state:a,preventScrollReset:n,relative:i,viewTransition:l})}},[u,d,h,r,a,e,t,n,i,l])}var T8=0,P8=()=>`__${String(++T8)}__`;function D8(){let{router:t}=zw("useSubmit"),{basename:e}=R.useContext(mo),r=e8();return R.useCallback(async(a,n={})=>{let{action:i,method:l,encType:d,formData:u,body:h}=f8(a,e);if(n.navigate===!1){let g=n.fetcherKey||P8();await t.fetch(g,r,n.action||i,{preventScrollReset:n.preventScrollReset,formData:u,body:h,formMethod:n.method||l,formEncType:n.encType||d,flushSync:n.flushSync})}else await t.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:u,body:h,formMethod:n.method||l,formEncType:n.encType||d,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[t,e,r])}function O8(t,{relative:e}={}){let{basename:r}=R.useContext(mo),a=R.useContext(Fi);pa(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...Q0(t||".",{relative:e})},l=js();if(t==null){i.search=l.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(g=>g==="")){d.delete("index"),u.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();i.search=g?`?${g}`:""}}return(!t||t===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ql([r,i.pathname])),z0(i)}function F8(t,{relative:e}={}){let r=R.useContext(Lw);pa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=zw("useViewTransitionState"),n=Q0(t,{relative:e});if(!r.isTransitioning)return!1;let i=Yl(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=Yl(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Qg(n.pathname,l)!=null||Qg(n.pathname,i)!=null}function Iw(t,e){return function(){return t.apply(e,arguments)}}const{toString:B8}=Object.prototype,{getPrototypeOf:e2}=Object,{iterator:bm,toStringTag:Uw}=Symbol,ym=(t=>e=>{const r=B8.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),po=t=>(t=t.toLowerCase(),e=>ym(e)===t),vm=t=>e=>typeof e===t,{isArray:yh}=Array,hh=vm("undefined");function K0(t){return t!==null&&!hh(t)&&t.constructor!==null&&!hh(t.constructor)&&Fn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hw=po("ArrayBuffer");function z8(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Hw(t.buffer),e}const I8=vm("string"),Fn=vm("function"),qw=vm("number"),J0=t=>t!==null&&typeof t=="object",U8=t=>t===!0||t===!1,Pg=t=>{if(ym(t)!=="object")return!1;const e=e2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Uw in t)&&!(bm in t)},H8=t=>{if(!J0(t)||K0(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},q8=po("Date"),V8=po("File"),$8=po("Blob"),W8=po("FileList"),Y8=t=>J0(t)&&Fn(t.pipe),G8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Fn(t.append)&&((e=ym(t))==="formdata"||e==="object"&&Fn(t.toString)&&t.toString()==="[object FormData]"))},X8=po("URLSearchParams"),[Z8,Q8,K8,J8]=["ReadableStream","Request","Response","Headers"].map(po),e7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ef(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),yh(t))for(a=0,n=t.length;a<n;a++)e.call(null,t[a],a,t);else{if(K0(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let d;for(a=0;a<l;a++)d=i[a],e.call(null,t[d],d,t)}}function Vw(t,e){if(K0(t))return null;e=e.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],e===n.toLowerCase())return n;return null}const zd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$w=t=>!hh(t)&&t!==zd;function s1(){const{caseless:t,skipUndefined:e}=$w(this)&&this||{},r={},a=(n,i)=>{const l=t&&Vw(r,i)||i;Pg(r[l])&&Pg(n)?r[l]=s1(r[l],n):Pg(n)?r[l]=s1({},n):yh(n)?r[l]=n.slice():(!e||!hh(n))&&(r[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ef(arguments[n],a);return r}const t7=(t,e,r,{allOwnKeys:a}={})=>(ef(e,(n,i)=>{r&&Fn(n)?t[i]=Iw(n,r):t[i]=n},{allOwnKeys:a}),t),r7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),a7=(t,e,r,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},s7=(t,e,r,a)=>{let n,i,l;const d={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,e))&&!d[l]&&(e[l]=t[l],d[l]=!0);t=r!==!1&&e2(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},n7=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const a=t.indexOf(e,r);return a!==-1&&a===r},i7=t=>{if(!t)return null;if(yh(t))return t;let e=t.length;if(!qw(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},o7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&e2(Uint8Array)),l7=(t,e)=>{const a=(t&&t[bm]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},c7=(t,e)=>{let r;const a=[];for(;(r=t.exec(e))!==null;)a.push(r);return a},d7=po("HTMLFormElement"),u7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Py=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),h7=po("RegExp"),Ww=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),a={};ef(r,(n,i)=>{let l;(l=e(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},f7=t=>{Ww(t,(e,r)=>{if(Fn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Fn(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},g7=(t,e)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return yh(t)?a(t):a(String(t).split(e)),r},m7=()=>{},p7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function x7(t){return!!(t&&Fn(t.append)&&t[Uw]==="FormData"&&t[bm])}const b7=t=>{const e=new Array(10),r=(a,n)=>{if(J0(a)){if(e.indexOf(a)>=0)return;if(K0(a))return a;if(!("toJSON"in a)){e[n]=a;const i=yh(a)?[]:{};return ef(a,(l,d)=>{const u=r(l,n+1);!hh(u)&&(i[d]=u)}),e[n]=void 0,i}}return a};return r(t,0)},y7=po("AsyncFunction"),v7=t=>t&&(J0(t)||Fn(t))&&Fn(t.then)&&Fn(t.catch),Yw=((t,e)=>t?setImmediate:e?((r,a)=>(zd.addEventListener("message",({source:n,data:i})=>{n===zd&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),zd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fn(zd.postMessage)),w7=typeof queueMicrotask<"u"?queueMicrotask.bind(zd):typeof process<"u"&&process.nextTick||Yw,N7=t=>t!=null&&Fn(t[bm]),Be={isArray:yh,isArrayBuffer:Hw,isBuffer:K0,isFormData:G8,isArrayBufferView:z8,isString:I8,isNumber:qw,isBoolean:U8,isObject:J0,isPlainObject:Pg,isEmptyObject:H8,isReadableStream:Z8,isRequest:Q8,isResponse:K8,isHeaders:J8,isUndefined:hh,isDate:q8,isFile:V8,isBlob:$8,isRegExp:h7,isFunction:Fn,isStream:Y8,isURLSearchParams:X8,isTypedArray:o7,isFileList:W8,forEach:ef,merge:s1,extend:t7,trim:e7,stripBOM:r7,inherits:a7,toFlatObject:s7,kindOf:ym,kindOfTest:po,endsWith:n7,toArray:i7,forEachEntry:l7,matchAll:c7,isHTMLForm:d7,hasOwnProperty:Py,hasOwnProp:Py,reduceDescriptors:Ww,freezeMethods:f7,toObjectSet:g7,toCamelCase:u7,noop:m7,toFiniteNumber:p7,findKey:Vw,global:zd,isContextDefined:$w,isSpecCompliantForm:x7,toJSONObject:b7,isAsyncFn:y7,isThenable:v7,setImmediate:Yw,asap:w7,isIterable:N7};function Jt(t,e,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}Be.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}});const Gw=Jt.prototype,Xw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Xw[t]={value:t}});Object.defineProperties(Jt,Xw);Object.defineProperty(Gw,"isAxiosError",{value:!0});Jt.from=(t,e,r,a,n,i)=>{const l=Object.create(Gw);Be.toFlatObject(t,l,function(g){return g!==Error.prototype},h=>h!=="isAxiosError");const d=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Jt.call(l,d,u,r,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const j7=null;function n1(t){return Be.isPlainObject(t)||Be.isArray(t)}function Zw(t){return Be.endsWith(t,"[]")?t.slice(0,-2):t}function Dy(t,e,r){return t?t.concat(e).map(function(n,i){return n=Zw(n),!r&&i?"["+n+"]":n}).join(r?".":""):e}function k7(t){return Be.isArray(t)&&!t.some(n1)}const S7=Be.toFlatObject(Be,{},null,function(e){return/^is[A-Z]/.test(e)});function wm(t,e,r){if(!Be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,k){return!Be.isUndefined(k[j])});const a=r.metaTokens,n=r.visitor||g,i=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(e);if(!Be.isFunction(n))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(Be.isDate(w))return w.toISOString();if(Be.isBoolean(w))return w.toString();if(!u&&Be.isBlob(w))throw new Jt("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(w)||Be.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,j,k){let C=w;if(w&&!k&&typeof w=="object"){if(Be.endsWith(j,"{}"))j=a?j:j.slice(0,-2),w=JSON.stringify(w);else if(Be.isArray(w)&&k7(w)||(Be.isFileList(w)||Be.endsWith(j,"[]"))&&(C=Be.toArray(w)))return j=Zw(j),C.forEach(function(E,D){!(Be.isUndefined(E)||E===null)&&e.append(l===!0?Dy([j],D,i):l===null?j:j+"[]",h(E))}),!1}return n1(w)?!0:(e.append(Dy(k,j,i),h(w)),!1)}const x=[],y=Object.assign(S7,{defaultVisitor:g,convertValue:h,isVisitable:n1});function p(w,j){if(!Be.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(w),Be.forEach(w,function(C,L){(!(Be.isUndefined(C)||C===null)&&n.call(e,C,Be.isString(L)?L.trim():L,j,y))===!0&&p(C,j?j.concat(L):[L])}),x.pop()}}if(!Be.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Oy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function t2(t,e){this._pairs=[],t&&wm(t,this,e)}const Qw=t2.prototype;Qw.append=function(e,r){this._pairs.push([e,r])};Qw.toString=function(e){const r=e?function(a){return e.call(this,a,Oy)}:Oy;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function C7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Kw(t,e,r){if(!e)return t;const a=r&&r.encode||C7;Be.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(e,r):i=Be.isURLSearchParams(e)?e.toString():new t2(e,r).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Fy{constructor(){this.handlers=[]}use(e,r,a){return this.handlers.push({fulfilled:e,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Be.forEach(this.handlers,function(a){a!==null&&e(a)})}}const Jw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_7=typeof URLSearchParams<"u"?URLSearchParams:t2,A7=typeof FormData<"u"?FormData:null,L7=typeof Blob<"u"?Blob:null,E7={isBrowser:!0,classes:{URLSearchParams:_7,FormData:A7,Blob:L7},protocols:["http","https","file","blob","url","data"]},r2=typeof window<"u"&&typeof document<"u",i1=typeof navigator=="object"&&navigator||void 0,M7=r2&&(!i1||["ReactNative","NativeScript","NS"].indexOf(i1.product)<0),R7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",T7=r2&&window.location.href||"http://localhost",P7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:r2,hasStandardBrowserEnv:M7,hasStandardBrowserWebWorkerEnv:R7,navigator:i1,origin:T7},Symbol.toStringTag,{value:"Module"})),cn={...P7,...E7};function D7(t,e){return wm(t,new cn.classes.URLSearchParams,{visitor:function(r,a,n,i){return cn.isNode&&Be.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function O7(t){return Be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function F7(t){const e={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],e[i]=t[i];return e}function e3(t){function e(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=r.length;return l=!l&&Be.isArray(n)?n.length:l,u?(Be.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!d):((!n[l]||!Be.isObject(n[l]))&&(n[l]=[]),e(r,a,n[l],i)&&Be.isArray(n[l])&&(n[l]=F7(n[l])),!d)}if(Be.isFormData(t)&&Be.isFunction(t.entries)){const r={};return Be.forEachEntry(t,(a,n)=>{e(O7(a),n,r,0)}),r}return null}function B7(t,e,r){if(Be.isString(t))try{return(e||JSON.parse)(t),Be.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const tf={transitional:Jw,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=Be.isObject(e);if(i&&Be.isHTMLForm(e)&&(e=new FormData(e)),Be.isFormData(e))return n?JSON.stringify(e3(e)):e;if(Be.isArrayBuffer(e)||Be.isBuffer(e)||Be.isStream(e)||Be.isFile(e)||Be.isBlob(e)||Be.isReadableStream(e))return e;if(Be.isArrayBufferView(e))return e.buffer;if(Be.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return D7(e,this.formSerializer).toString();if((d=Be.isFileList(e))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return wm(d?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),B7(e)):e}],transformResponse:[function(e){const r=this.transitional||tf.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(Be.isResponse(e)||Be.isReadableStream(e))return e;if(e&&Be.isString(e)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Jt.from(d,Jt.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],t=>{tf.headers[t]={}});const z7=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I7=t=>{const e={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||e[r]&&z7[r])&&(r==="set-cookie"?e[r]?e[r].push(a):e[r]=[a]:e[r]=e[r]?e[r]+", "+a:a)}),e},By=Symbol("internals");function m0(t){return t&&String(t).trim().toLowerCase()}function Dg(t){return t===!1||t==null?t:Be.isArray(t)?t.map(Dg):String(t)}function U7(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)e[a[1]]=a[2];return e}const H7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zp(t,e,r,a,n){if(Be.isFunction(a))return a.call(this,e,r);if(n&&(e=r),!!Be.isString(e)){if(Be.isString(a))return e.indexOf(a)!==-1;if(Be.isRegExp(a))return a.test(e)}}function q7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,a)=>r.toUpperCase()+a)}function V7(t,e){const r=Be.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,l){return this[a].call(this,e,n,i,l)},configurable:!0})})}let Bn=class{constructor(e){e&&this.set(e)}set(e,r,a){const n=this;function i(d,u,h){const g=m0(u);if(!g)throw new Error("header name must be a non-empty string");const x=Be.findKey(n,g);(!x||n[x]===void 0||h===!0||h===void 0&&n[x]!==!1)&&(n[x||u]=Dg(d))}const l=(d,u)=>Be.forEach(d,(h,g)=>i(h,g,u));if(Be.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(Be.isString(e)&&(e=e.trim())&&!H7(e))l(I7(e),r);else if(Be.isObject(e)&&Be.isIterable(e)){let d={},u,h;for(const g of e){if(!Be.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[h=g[0]]=(u=d[h])?Be.isArray(u)?[...u,g[1]]:[u,g[1]]:g[1]}l(d,r)}else e!=null&&i(r,e,a);return this}get(e,r){if(e=m0(e),e){const a=Be.findKey(this,e);if(a){const n=this[a];if(!r)return n;if(r===!0)return U7(n);if(Be.isFunction(r))return r.call(this,n,a);if(Be.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=m0(e),e){const a=Be.findKey(this,e);return!!(a&&this[a]!==void 0&&(!r||Zp(this,this[a],a,r)))}return!1}delete(e,r){const a=this;let n=!1;function i(l){if(l=m0(l),l){const d=Be.findKey(a,l);d&&(!r||Zp(a,a[d],d,r))&&(delete a[d],n=!0)}}return Be.isArray(e)?e.forEach(i):i(e),n}clear(e){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!e||Zp(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const r=this,a={};return Be.forEach(this,(n,i)=>{const l=Be.findKey(a,i);if(l){r[l]=Dg(n),delete r[i];return}const d=e?q7(i):String(i).trim();d!==i&&delete r[i],r[d]=Dg(n),a[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Be.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=e&&Be.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const a=new this(e);return r.forEach(n=>a.set(n)),a}static accessor(e){const a=(this[By]=this[By]={accessors:{}}).accessors,n=this.prototype;function i(l){const d=m0(l);a[d]||(V7(n,l),a[d]=!0)}return Be.isArray(e)?e.forEach(i):i(e),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(Bn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[r]=a}}});Be.freezeMethods(Bn);function Qp(t,e){const r=this||tf,a=e||r,n=Bn.from(a.headers);let i=a.data;return Be.forEach(t,function(d){i=d.call(r,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function t3(t){return!!(t&&t.__CANCEL__)}function vh(t,e,r){Jt.call(this,t??"canceled",Jt.ERR_CANCELED,e,r),this.name="CanceledError"}Be.inherits(vh,Jt,{__CANCEL__:!0});function r3(t,e,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):e(new Jt("Request failed with status code "+r.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function W7(t,e){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,l;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),g=a[i];l||(l=h),r[n]=u,a[n]=h;let x=i,y=0;for(;x!==n;)y+=r[x++],x=x%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),h-l<e)return;const p=g&&h-g;return p?Math.round(y*1e3/p):void 0}}function Y7(t,e){let r=0,a=1e3/e,n,i;const l=(h,g=Date.now())=>{r=g,n=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const g=Date.now(),x=g-r;x>=a?l(h,g):(n=h,i||(i=setTimeout(()=>{i=null,l(n)},a-x)))},()=>n&&l(n)]}const Kg=(t,e,r=3)=>{let a=0;const n=W7(50,250);return Y7(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-a,h=n(u),g=l<=d;a=l;const x={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&g?(d-l)/h:void 0,event:i,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(x)},r)},zy=(t,e)=>{const r=t!=null;return[a=>e[0]({lengthComputable:r,total:t,loaded:a}),e[1]]},Iy=t=>(...e)=>Be.asap(()=>t(...e)),G7=cn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,cn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,X7=cn.hasStandardBrowserEnv?{write(t,e,r,a,n,i,l){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(e)}`];Be.isNumber(r)&&d.push(`expires=${new Date(r).toUTCString()}`),Be.isString(a)&&d.push(`path=${a}`),Be.isString(n)&&d.push(`domain=${n}`),i===!0&&d.push("secure"),Be.isString(l)&&d.push(`SameSite=${l}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Z7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Q7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function a3(t,e,r){let a=!Z7(e);return t&&(a||r==!1)?Q7(t,e):e}const Uy=t=>t instanceof Bn?{...t}:t;function Gd(t,e){e=e||{};const r={};function a(h,g,x,y){return Be.isPlainObject(h)&&Be.isPlainObject(g)?Be.merge.call({caseless:y},h,g):Be.isPlainObject(g)?Be.merge({},g):Be.isArray(g)?g.slice():g}function n(h,g,x,y){if(Be.isUndefined(g)){if(!Be.isUndefined(h))return a(void 0,h,x,y)}else return a(h,g,x,y)}function i(h,g){if(!Be.isUndefined(g))return a(void 0,g)}function l(h,g){if(Be.isUndefined(g)){if(!Be.isUndefined(h))return a(void 0,h)}else return a(void 0,g)}function d(h,g,x){if(x in e)return a(h,g);if(x in t)return a(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,g,x)=>n(Uy(h),Uy(g),x,!0)};return Be.forEach(Object.keys({...t,...e}),function(g){const x=u[g]||n,y=x(t[g],e[g],g);Be.isUndefined(y)&&x!==d||(r[g]=y)}),r}const s3=t=>{const e=Gd({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:d}=e;if(e.headers=l=Bn.from(l),e.url=Kw(a3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Be.isFormData(r)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Be.isFunction(r.getHeaders)){const u=r.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([g,x])=>{h.includes(g.toLowerCase())&&l.set(g,x)})}}if(cn.hasStandardBrowserEnv&&(a&&Be.isFunction(a)&&(a=a(e)),a||a!==!1&&G7(e.url))){const u=n&&i&&X7.read(i);u&&l.set(n,u)}return e},K7=typeof XMLHttpRequest<"u",J7=K7&&function(t){return new Promise(function(r,a){const n=s3(t);let i=n.data;const l=Bn.from(n.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:h}=n,g,x,y,p,w;function j(){p&&p(),w&&w(),n.cancelToken&&n.cancelToken.unsubscribe(g),n.signal&&n.signal.removeEventListener("abort",g)}let k=new XMLHttpRequest;k.open(n.method.toUpperCase(),n.url,!0),k.timeout=n.timeout;function C(){if(!k)return;const E=Bn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),F={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:E,config:t,request:k};r3(function(O){r(O),j()},function(O){a(O),j()},F),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(a(new Jt("Request aborted",Jt.ECONNABORTED,t,k)),k=null)},k.onerror=function(D){const F=D&&D.message?D.message:"Network Error",se=new Jt(F,Jt.ERR_NETWORK,t,k);se.event=D||null,a(se),k=null},k.ontimeout=function(){let D=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const F=n.transitional||Jw;n.timeoutErrorMessage&&(D=n.timeoutErrorMessage),a(new Jt(D,F.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,t,k)),k=null},i===void 0&&l.setContentType(null),"setRequestHeader"in k&&Be.forEach(l.toJSON(),function(D,F){k.setRequestHeader(F,D)}),Be.isUndefined(n.withCredentials)||(k.withCredentials=!!n.withCredentials),d&&d!=="json"&&(k.responseType=n.responseType),h&&([y,w]=Kg(h,!0),k.addEventListener("progress",y)),u&&k.upload&&([x,p]=Kg(u),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(g=E=>{k&&(a(!E||E.type?new vh(null,t,k):E),k.abort(),k=null)},n.cancelToken&&n.cancelToken.subscribe(g),n.signal&&(n.signal.aborted?g():n.signal.addEventListener("abort",g)));const L=$7(n.url);if(L&&cn.protocols.indexOf(L)===-1){a(new Jt("Unsupported protocol "+L+":",Jt.ERR_BAD_REQUEST,t));return}k.send(i||null)})},eS=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let a=new AbortController,n;const i=function(h){if(!n){n=!0,d();const g=h instanceof Error?h:this.reason;a.abort(g instanceof Jt?g:new vh(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,i(new Jt(`timeout ${e} of ms exceeded`,Jt.ETIMEDOUT))},e);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>Be.asap(d),u}},tS=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let a=0,n;for(;a<r;)n=a+e,yield t.slice(a,n),a=n},rS=async function*(t,e){for await(const r of aS(t))yield*tS(r,e)},aS=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:a}=await e.read();if(r)break;yield a}}finally{await e.cancel()}},Hy=(t,e,r,a)=>{const n=rS(t,e);let i=0,l,d=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:h,value:g}=await n.next();if(h){d(),u.close();return}let x=g.byteLength;if(r){let y=i+=x;r(y)}u.enqueue(new Uint8Array(g))}catch(h){throw d(h),h}},cancel(u){return d(u),n.return()}},{highWaterMark:2})},qy=64*1024,{isFunction:tg}=Be,sS=(({Request:t,Response:e})=>({Request:t,Response:e}))(Be.global),{ReadableStream:Vy,TextEncoder:$y}=Be.global,Wy=(t,...e)=>{try{return!!t(...e)}catch{return!1}},nS=t=>{t=Be.merge.call({skipUndefined:!0},sS,t);const{fetch:e,Request:r,Response:a}=t,n=e?tg(e):typeof fetch=="function",i=tg(r),l=tg(a);if(!n)return!1;const d=n&&tg(Vy),u=n&&(typeof $y=="function"?(w=>j=>w.encode(j))(new $y):async w=>new Uint8Array(await new r(w).arrayBuffer())),h=i&&d&&Wy(()=>{let w=!1;const j=new r(cn.origin,{body:new Vy,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!j}),g=l&&d&&Wy(()=>Be.isReadableStream(new a("").body)),x={stream:g&&(w=>w.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!x[w]&&(x[w]=(j,k)=>{let C=j&&j[w];if(C)return C.call(j);throw new Jt(`Response type '${w}' is not supported`,Jt.ERR_NOT_SUPPORT,k)})});const y=async w=>{if(w==null)return 0;if(Be.isBlob(w))return w.size;if(Be.isSpecCompliantForm(w))return(await new r(cn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(w)||Be.isArrayBuffer(w))return w.byteLength;if(Be.isURLSearchParams(w)&&(w=w+""),Be.isString(w))return(await u(w)).byteLength},p=async(w,j)=>{const k=Be.toFiniteNumber(w.getContentLength());return k??y(j)};return async w=>{let{url:j,method:k,data:C,signal:L,cancelToken:E,timeout:D,onDownloadProgress:F,onUploadProgress:se,responseType:O,headers:U,withCredentials:T="same-origin",fetchOptions:W}=s3(w),I=e||fetch;O=O?(O+"").toLowerCase():"text";let B=eS([L,E&&E.toAbortSignal()],D),X=null;const Q=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let ge;try{if(se&&h&&k!=="get"&&k!=="head"&&(ge=await p(U,C))!==0){let te=new r(j,{method:"POST",body:C,duplex:"half"}),P;if(Be.isFormData(C)&&(P=te.headers.get("content-type"))&&U.setContentType(P),te.body){const[Y,G]=zy(ge,Kg(Iy(se)));C=Hy(te.body,qy,Y,G)}}Be.isString(T)||(T=T?"include":"omit");const $=i&&"credentials"in r.prototype,de={...W,signal:B,method:k.toUpperCase(),headers:U.normalize().toJSON(),body:C,duplex:"half",credentials:$?T:void 0};X=i&&new r(j,de);let ie=await(i?I(X,W):I(j,de));const ye=g&&(O==="stream"||O==="response");if(g&&(F||ye&&Q)){const te={};["status","statusText","headers"].forEach(ue=>{te[ue]=ie[ue]});const P=Be.toFiniteNumber(ie.headers.get("content-length")),[Y,G]=F&&zy(P,Kg(Iy(F),!0))||[];ie=new a(Hy(ie.body,qy,Y,()=>{G&&G(),Q&&Q()}),te)}O=O||"text";let J=await x[Be.findKey(x,O)||"text"](ie,w);return!ye&&Q&&Q(),await new Promise((te,P)=>{r3(te,P,{data:J,headers:Bn.from(ie.headers),status:ie.status,statusText:ie.statusText,config:w,request:X})})}catch($){throw Q&&Q(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,w,X),{cause:$.cause||$}):Jt.from($,$&&$.code,w,X)}}},iS=new Map,n3=t=>{let e=t&&t.env||{};const{fetch:r,Request:a,Response:n}=e,i=[a,n,r];let l=i.length,d=l,u,h,g=iS;for(;d--;)u=i[d],h=g.get(u),h===void 0&&g.set(u,h=d?new Map:nS(e)),g=h;return h};n3();const a2={http:j7,xhr:J7,fetch:{get:n3}};Be.forEach(a2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Yy=t=>`- ${t}`,oS=t=>Be.isFunction(t)||t===null||t===!1;function lS(t,e){t=Be.isArray(t)?t:[t];const{length:r}=t;let a,n;const i={};for(let l=0;l<r;l++){a=t[l];let d;if(n=a,!oS(a)&&(n=a2[(d=String(a)).toLowerCase()],n===void 0))throw new Jt(`Unknown adapter '${d}'`);if(n&&(Be.isFunction(n)||(n=n.get(e))))break;i[d||"#"+l]=n}if(!n){const l=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=r?l.length>1?`since :
`+l.map(Yy).join(`
`):" "+Yy(l[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return n}const i3={getAdapter:lS,adapters:a2};function Kp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vh(null,t)}function Gy(t){return Kp(t),t.headers=Bn.from(t.headers),t.data=Qp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),i3.getAdapter(t.adapter||tf.adapter,t)(t).then(function(a){return Kp(t),a.data=Qp.call(t,t.transformResponse,a),a.headers=Bn.from(a.headers),a},function(a){return t3(a)||(Kp(t),a&&a.response&&(a.response.data=Qp.call(t,t.transformResponse,a.response),a.response.headers=Bn.from(a.response.headers))),Promise.reject(a)})}const o3="1.13.2",Nm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nm[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const Xy={};Nm.transitional=function(e,r,a){function n(i,l){return"[Axios v"+o3+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,d)=>{if(e===!1)throw new Jt(n(l," has been removed"+(r?" in "+r:"")),Jt.ERR_DEPRECATED);return r&&!Xy[l]&&(Xy[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,l,d):!0}};Nm.spelling=function(e){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function cS(t,e,r){if(typeof t!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=e[i];if(l){const d=t[i],u=d===void 0||l(d,i,t);if(u!==!0)throw new Jt("option "+i+" must be "+u,Jt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Jt("Unknown option "+i,Jt.ERR_BAD_OPTION)}}const Og={assertOptions:cS,validators:Nm},qo=Og.validators;let qd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Fy,response:new Fy}}async request(e,r){try{return await this._request(e,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Gd(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&Og.assertOptions(a,{silentJSONParsing:qo.transitional(qo.boolean),forcedJSONParsing:qo.transitional(qo.boolean),clarifyTimeoutError:qo.transitional(qo.boolean)},!1),n!=null&&(Be.isFunction(n)?r.paramsSerializer={serialize:n}:Og.assertOptions(n,{encode:qo.function,serialize:qo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Og.assertOptions(r,{baseUrl:qo.spelling("baseURL"),withXsrfToken:qo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&Be.merge(i.common,i[r.method]);i&&Be.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=Bn.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(u=u&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const h=[];this.interceptors.response.forEach(function(j){h.push(j.fulfilled,j.rejected)});let g,x=0,y;if(!u){const w=[Gy.bind(this),void 0];for(w.unshift(...d),w.push(...h),y=w.length,g=Promise.resolve(r);x<y;)g=g.then(w[x++],w[x++]);return g}y=d.length;let p=r;for(;x<y;){const w=d[x++],j=d[x++];try{p=w(p)}catch(k){j.call(this,k);break}}try{g=Gy.call(this,p)}catch(w){return Promise.reject(w)}for(x=0,y=h.length;x<y;)g=g.then(h[x++],h[x++]);return g}getUri(e){e=Gd(this.defaults,e);const r=a3(e.baseURL,e.url,e.allowAbsoluteUrls);return Kw(r,e.params,e.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(e){qd.prototype[e]=function(r,a){return this.request(Gd(a||{},{method:e,url:r,data:(a||{}).data}))}});Be.forEach(["post","put","patch"],function(e){function r(a){return function(i,l,d){return this.request(Gd(d||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}qd.prototype[e]=r(),qd.prototype[e+"Form"]=r(!0)});let dS=class l3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(d=>{a.subscribe(d),i=d}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},e(function(i,l,d){a.reason||(a.reason=new vh(i,l,d),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=a=>{e.abort(a)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new l3(function(n){e=n}),cancel:e}}};function uS(t){return function(r){return t.apply(null,r)}}function hS(t){return Be.isObject(t)&&t.isAxiosError===!0}const o1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(o1).forEach(([t,e])=>{o1[e]=t});function c3(t){const e=new qd(t),r=Iw(qd.prototype.request,e);return Be.extend(r,qd.prototype,e,{allOwnKeys:!0}),Be.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return c3(Gd(t,n))},r}const Ie=c3(tf);Ie.Axios=qd;Ie.CanceledError=vh;Ie.CancelToken=dS;Ie.isCancel=t3;Ie.VERSION=o3;Ie.toFormData=wm;Ie.AxiosError=Jt;Ie.Cancel=Ie.CanceledError;Ie.all=function(e){return Promise.all(e)};Ie.spread=uS;Ie.isAxiosError=hS;Ie.mergeConfig=Gd;Ie.AxiosHeaders=Bn;Ie.formToJSON=t=>e3(Be.isHTMLForm(t)?new FormData(t):t);Ie.getAdapter=i3.getAdapter;Ie.HttpStatusCode=o1;Ie.default=Ie;const{Axios:XO,AxiosError:ZO,CanceledError:QO,isCancel:KO,CancelToken:JO,VERSION:eF,all:tF,Cancel:rF,isAxiosError:aF,spread:sF,toFormData:nF,AxiosHeaders:iF,HttpStatusCode:oF,formToJSON:lF,getAdapter:cF,mergeConfig:dF}=Ie,d3=R.createContext(void 0),fS=({children:t})=>{const[e,r]=R.useState(null),[a,n]=R.useState(null),[i,l]=R.useState(!0);R.useEffect(()=>{const p=localStorage.getItem("token"),w=localStorage.getItem("user");p&&w&&(n(p),r(JSON.parse(w)),Ie.defaults.headers.common.Authorization=`Bearer ${p}`),l(!1)},[]);const y={user:e,token:a,login:async(p,w)=>{var j,k;try{const C=await Ie.post("http://localhost:8080/api/auth/login",{email:p,password:w});if(C.data.success){const{token:L,id:E,email:D,fullName:F,role:se}=C.data.data,O={id:E,email:D,fullName:F,role:se};n(L),r(O),localStorage.setItem("token",L),localStorage.setItem("user",JSON.stringify(O)),Ie.defaults.headers.common.Authorization=`Bearer ${L}`}else throw new Error(C.data.message||"Login failed")}catch(C){throw console.error("Login error:",C),new Error(((k=(j=C.response)==null?void 0:j.data)==null?void 0:k.message)||"Login failed")}},register:async(p,w,j,k,C,L,E)=>{var D,F;try{const se=await Ie.post("http://localhost:8080/api/auth/register",{email:p,password:w,fullName:j,role:k,securityQuestion:C,securityAnswer:L,storeName:E});if(se.data.success){const{token:O,id:U,email:T,fullName:W,role:I}=se.data.data,B={id:U,email:T,fullName:W,role:I};n(O),r(B),localStorage.setItem("token",O),localStorage.setItem("user",JSON.stringify(B)),Ie.defaults.headers.common.Authorization=`Bearer ${O}`}else throw new Error(se.data.message||"Registration failed")}catch(se){throw console.error("Registration error:",se),new Error(((F=(D=se.response)==null?void 0:D.data)==null?void 0:F.message)||"Registration failed")}},logout:()=>{r(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),delete Ie.defaults.headers.common.Authorization},updateUserProfile:async(p,w,j)=>{var k,C;try{const L=await Ie.put("http://localhost:8080/api/users/profile",{fullName:p,phone:w,bio:j});if(L.data.success){const E=L.data.data,D={id:E.id,email:E.email,fullName:E.fullName,role:E.role,phone:E.phone,bio:E.bio};r(D),localStorage.setItem("user",JSON.stringify(D))}else throw new Error(L.data.message||"Update failed")}catch(L){throw console.error("Update profile error:",L),new Error(((C=(k=L.response)==null?void 0:k.data)==null?void 0:C.message)||"Update failed")}},refreshUserData:async()=>{try{const p=await Ie.get("http://localhost:8080/api/users/profile");if(p.data.success){const w=p.data.data,j={id:w.id,email:w.email,fullName:w.fullName,role:w.role,phone:w.phone,bio:w.bio};r(j),localStorage.setItem("user",JSON.stringify(j))}}catch(p){console.error("Refresh user data error:",p)}},isAuthenticated:!!a,isLoading:i};return s.jsx(d3.Provider,{value:y,children:t})},hn=()=>{const t=R.useContext(d3);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},u3=R.createContext(void 0),gS=({children:t})=>{const[e,r]=R.useState(()=>{const w=localStorage.getItem("cart");return w?JSON.parse(w):[]});R.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const a=w=>{const j=e.find(k=>k.product.asin===w);return j&&j.product.stockQuantity||0},n=w=>{const j=e.find(C=>C.product.asin===w);if(!j)return!0;const k=j.product.stockQuantity||0;return j.quantity<k},i=(w,j=1)=>{const k=w.stockQuantity||0;if(k<=0)return!1;let C=!1;return r(L=>{const E=L.find(F=>F.product.asin===w.asin);if(E){const F=E.quantity,se=F+j;return se>k?F>=k?(C=!1,L):(C=!0,L.map(O=>O.product.asin===w.asin?{...O,quantity:k}:O)):(C=!0,L.map(O=>O.product.asin===w.asin?{...O,quantity:se}:O))}const D=Math.min(j,k);return C=!0,[...L,{product:w,quantity:D}]}),C},l=w=>{r(j=>j.filter(k=>k.product.asin!==w))},p={items:e,addToCart:i,removeFromCart:l,updateQuantity:(w,j)=>{if(j<1)return l(w),!0;let k=!1;return r(C=>{const L=C.find(F=>F.product.asin===w);if(!L)return C;const E=L.product.stockQuantity||0,D=Math.min(j,E);return D!==j?k=!1:k=!0,C.map(F=>F.product.asin===w?{...F,quantity:D}:F)}),k},clearCart:()=>{r([])},getItemCount:()=>e.reduce((w,j)=>w+j.quantity,0),getTotal:()=>e.reduce((w,j)=>w+j.product.price*j.quantity,0),isInCart:w=>e.some(j=>j.product.asin===w),getItemQuantity:w=>{const j=e.find(k=>k.product.asin===w);return j?j.quantity:0},getMaxQuantity:a,canAddMore:n};return s.jsx(u3.Provider,{value:p,children:t})},wh=()=>{const t=R.useContext(u3);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},h3=R.createContext(void 0),jm=()=>{const t=R.useContext(h3);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t},mS=({children:t})=>{const[e,r]=R.useState(!0),[a,n]=R.useState(!1),[i,l]=R.useState(!1),[d,u]=R.useState(!1),[h,g]=R.useState(null),[x,y]=R.useState(null);R.useEffect(()=>{const k=()=>{const C=window.innerWidth<768;l(C),C||n(!1)};return k(),window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}},[]);const p=()=>{r(k=>!k)},w=()=>{n(k=>!k)},j=k=>{y(C=>C===k?null:k)};return s.jsx(h3.Provider,{value:{isExpanded:i?!1:e,isMobileOpen:a,isHovered:d,activeItem:h,openSubmenu:x,toggleSidebar:p,toggleMobileSidebar:w,setIsHovered:u,setActiveItem:g,toggleSubmenu:j},children:t})},f3=R.createContext(void 0),pS=({children:t})=>{const[e,r]=R.useState("light"),[a,n]=R.useState(!1);R.useEffect(()=>{const d=localStorage.getItem("theme")||"light";r(d),n(!0)},[]),R.useEffect(()=>{a&&(localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[e,a]);const i=()=>{r(l=>l==="light"?"dark":"light")};return s.jsx(f3.Provider,{value:{theme:e,toggleTheme:i},children:t})},g3=()=>{const t=R.useContext(f3);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},xS=()=>{const{toggleTheme:t}=g3();return s.jsxs("button",{onClick:t,className:"relative flex items-center justify-center text-gray-500 transition-colors bg-white border border-gray-200 rounded-full hover:text-dark-900 h-11 w-11 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white",children:[s.jsx("svg",{className:"hidden dark:block",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99998 1.5415C10.4142 1.5415 10.75 1.87729 10.75 2.2915V3.5415C10.75 3.95572 10.4142 4.2915 9.99998 4.2915C9.58577 4.2915 9.24998 3.95572 9.24998 3.5415V2.2915C9.24998 1.87729 9.58577 1.5415 9.99998 1.5415ZM10.0009 6.79327C8.22978 6.79327 6.79402 8.22904 6.79402 10.0001C6.79402 11.7712 8.22978 13.207 10.0009 13.207C11.772 13.207 13.2078 11.7712 13.2078 10.0001C13.2078 8.22904 11.772 6.79327 10.0009 6.79327ZM5.29402 10.0001C5.29402 7.40061 7.40135 5.29327 10.0009 5.29327C12.6004 5.29327 14.7078 7.40061 14.7078 10.0001C14.7078 12.5997 12.6004 14.707 10.0009 14.707C7.40135 14.707 5.29402 12.5997 5.29402 10.0001ZM15.9813 5.08035C16.2742 4.78746 16.2742 4.31258 15.9813 4.01969C15.6884 3.7268 15.2135 3.7268 14.9207 4.01969L14.0368 4.90357C13.7439 5.19647 13.7439 5.67134 14.0368 5.96423C14.3297 6.25713 14.8045 6.25713 15.0974 5.96423L15.9813 5.08035ZM18.4577 10.0001C18.4577 10.4143 18.1219 10.7501 17.7077 10.7501H16.4577C16.0435 10.7501 15.7077 10.4143 15.7077 10.0001C15.7077 9.58592 16.0435 9.25013 16.4577 9.25013H17.7077C18.1219 9.25013 18.4577 9.58592 18.4577 10.0001ZM14.9207 15.9806C15.2135 16.2735 15.6884 16.2735 15.9813 15.9806C16.2742 15.6877 16.2742 15.2128 15.9813 14.9199L15.0974 14.036C14.8045 13.7431 14.3297 13.7431 14.0368 14.036C13.7439 14.3289 13.7439 14.8038 14.0368 15.0967L14.9207 15.9806ZM9.99998 15.7088C10.4142 15.7088 10.75 16.0445 10.75 16.4588V17.7088C10.75 18.123 10.4142 18.4588 9.99998 18.4588C9.58577 18.4588 9.24998 18.123 9.24998 17.7088V16.4588C9.24998 16.0445 9.58577 15.7088 9.99998 15.7088ZM5.96356 15.0972C6.25646 14.8043 6.25646 14.3295 5.96356 14.0366C5.67067 13.7437 5.1958 13.7437 4.9029 14.0366L4.01902 14.9204C3.72613 15.2133 3.72613 15.6882 4.01902 15.9811C4.31191 16.274 4.78679 16.274 5.07968 15.9811L5.96356 15.0972ZM4.29224 10.0001C4.29224 10.4143 3.95645 10.7501 3.54224 10.7501H2.29224C1.87802 10.7501 1.54224 10.4143 1.54224 10.0001C1.54224 9.58592 1.87802 9.25013 2.29224 9.25013H3.54224C3.95645 9.25013 4.29224 9.58592 4.29224 10.0001ZM4.9029 5.9637C5.1958 6.25659 5.67067 6.25659 5.96356 5.9637C6.25646 5.6708 6.25646 5.19593 5.96356 4.90303L5.07968 4.01915C4.78679 3.72626 4.31191 3.72626 4.01902 4.01915C3.72613 4.31204 3.72613 4.78692 4.01902 5.07981L4.9029 5.9637Z",fill:"currentColor"})}),s.jsx("svg",{className:"dark:hidden",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M17.4547 11.97L18.1799 12.1611C18.265 11.8383 18.1265 11.4982 17.8401 11.3266C17.5538 11.1551 17.1885 11.1934 16.944 11.4207L17.4547 11.97ZM8.0306 2.5459L8.57989 3.05657C8.80718 2.81209 8.84554 2.44682 8.67398 2.16046C8.50243 1.8741 8.16227 1.73559 7.83948 1.82066L8.0306 2.5459ZM12.9154 13.0035C9.64678 13.0035 6.99707 10.3538 6.99707 7.08524H5.49707C5.49707 11.1823 8.81835 14.5035 12.9154 14.5035V13.0035ZM16.944 11.4207C15.8869 12.4035 14.4721 13.0035 12.9154 13.0035V14.5035C14.8657 14.5035 16.6418 13.7499 17.9654 12.5193L16.944 11.4207ZM16.7295 11.7789C15.9437 14.7607 13.2277 16.9586 10.0003 16.9586V18.4586C13.9257 18.4586 17.2249 15.7853 18.1799 12.1611L16.7295 11.7789ZM10.0003 16.9586C6.15734 16.9586 3.04199 13.8433 3.04199 10.0003H1.54199C1.54199 14.6717 5.32892 18.4586 10.0003 18.4586V16.9586ZM3.04199 10.0003C3.04199 6.77289 5.23988 4.05695 8.22173 3.27114L7.83948 1.82066C4.21532 2.77574 1.54199 6.07486 1.54199 10.0003H3.04199ZM6.99707 7.08524C6.99707 5.52854 7.5971 4.11366 8.57989 3.05657L7.48132 2.03522C6.25073 3.35885 5.49707 5.13487 5.49707 7.08524H6.99707Z",fill:"currentColor"})})]})},bS=({tag:t="button",to:e,onClick:r,onItemClick:a,baseClassName:n="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",className:i="",children:l})=>{const d=`${n} ${i}`.trim(),u=h=>{t==="button"&&h.preventDefault(),r&&r(),a&&a()};return t==="a"&&e?s.jsx(lt,{to:e,className:d,onClick:u,children:l}):s.jsx("button",{onClick:u,className:d,children:l})},yS=({isOpen:t,onClose:e,children:r,className:a=""})=>{const n=R.useRef(null);return R.useEffect(()=>{const i=l=>{n.current&&!n.current.contains(l.target)&&!l.target.closest(".dropdown-toggle")&&e()};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[e]),t?s.jsx("div",{ref:n,className:`absolute z-40  right-0 mt-2  rounded-xl border border-gray-200 bg-white  shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark ${a}`,children:r}):null};function vS(){var u;const[t,e]=R.useState(!1),{user:r,logout:a}=hn(),n=Bi();function i(){e(!t)}function l(){e(!1)}const d=()=>{a(),n("/signin")};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:i,className:"flex items-center text-gray-700 dropdown-toggle dark:text-gray-400",children:[s.jsx("span",{className:"mr-3 overflow-hidden rounded-full h-11 w-11",children:s.jsx("img",{src:"/images/user/owner.jpg",alt:"User"})}),s.jsx("span",{className:"block mr-1 font-medium text-theme-sm",children:((u=r==null?void 0:r.fullName)==null?void 0:u.split(" ")[0])||"User"}),s.jsx("svg",{className:`stroke-gray-500 dark:stroke-gray-400 transition-transform duration-200 ${t?"rotate-180":""}`,width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M4.3125 8.65625L9 13.3437L13.6875 8.65625",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s.jsxs(yS,{isOpen:t,onClose:l,className:"absolute right-0 mt-[17px] flex w-[260px] flex-col rounded-2xl border border-gray-200 bg-white p-3 shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium text-gray-700 text-theme-sm dark:text-gray-400",children:(r==null?void 0:r.fullName)||"User"}),s.jsx("span",{className:"mt-0.5 block text-theme-xs text-gray-500 dark:text-gray-400",children:(r==null?void 0:r.email)||""}),s.jsx("span",{className:"mt-1 inline-block px-2 py-0.5 text-xs rounded-full bg-brand-100 text-brand-700 dark:bg-brand-900 dark:text-brand-300",children:(r==null?void 0:r.role)||"ADMIN"})]}),s.jsx("ul",{className:"flex flex-col gap-1 pt-4 pb-3 border-b border-gray-200 dark:border-gray-800",children:s.jsx("li",{children:s.jsxs(bS,{onItemClick:l,tag:"a",to:"/admin/profile",className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[s.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 14.1526 4.3002 16.1184 5.61936 17.616C6.17279 15.3096 8.24852 13.5955 10.7246 13.5955H13.2746C15.7509 13.5955 17.8268 15.31 18.3798 17.617C19.6996 16.1192 20.5 14.1531 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM17.0246 18.8566V18.8455C17.0246 16.7744 15.3456 15.0955 13.2746 15.0955H10.7246C8.65354 15.0955 6.97461 16.7744 6.97461 18.8455V18.856C8.38223 19.8895 10.1198 20.5 12 20.5C13.8798 20.5 15.6171 19.8898 17.0246 18.8566ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9991 7.25C10.4812 7.25 9.24914 8.48206 9.24914 10C9.24914 11.5179 10.4812 12.75 11.9991 12.75C13.5171 12.75 14.7491 11.5179 14.7491 10C14.7491 8.48206 13.5171 7.25 11.9991 7.25ZM7.74914 10C7.74914 7.65364 9.65278 5.75 11.9991 5.75C14.3455 5.75 16.2491 7.65364 16.2491 10C16.2491 12.3464 14.3455 14.25 11.9991 14.25C9.65278 14.25 7.74914 12.3464 7.74914 10Z",fill:""})}),"Edit profile"]})})}),s.jsxs("button",{onClick:d,className:"flex items-center gap-3 px-3 py-2 mt-3 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[s.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1007 19.247C14.6865 19.247 14.3507 18.9112 14.3507 18.497L14.3507 14.245H12.8507V18.497C12.8507 19.7396 13.8581 20.747 15.1007 20.747H18.5007C19.7434 20.747 20.7507 19.7396 20.7507 18.497V5.49609C20.7507 4.25345 19.7434 3.24609 18.5007 3.24609H15.1007C13.8581 3.24609 12.8507 4.25345 12.8507 5.49609V9.74805H14.3507L14.3507 5.49609C14.3507 5.08188 14.6865 4.74609 15.1007 4.74609L18.5007 4.74609C18.915 4.74609 19.2507 5.08188 19.2507 5.49609L19.2507 18.497C19.2507 18.9112 18.915 19.247 18.5007 19.247H15.1007ZM10.7114 7.75264C10.4185 7.45975 9.94366 7.45975 9.65077 7.75264C9.35788 8.04554 9.35788 8.52041 9.65077 8.8133L11.8385 11.0011L3.25073 11.0011C2.83652 11.0011 2.50073 11.3369 2.50073 11.7511C2.50073 12.1653 2.83652 12.5011 3.25073 12.5011L11.8385 12.5011L9.65077 14.6888C9.35788 14.9817 9.35788 15.4566 9.65077 15.7495C9.94366 16.0424 10.4185 16.0424 10.7114 15.7495L14.2114 12.2495C14.5043 11.9566 14.5043 11.4817 14.2114 11.1888L10.7114 7.75264Z",fill:""})}),"Sign out"]})]})]})}const Hu="http://localhost:8080/api",qu=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),Id={getNotifications:async(t=0,e=20)=>(await Ie.get(`${Hu}/notifications`,{headers:qu(),params:{page:t,size:e}})).data.data,getUnreadNotifications:async()=>(await Ie.get(`${Hu}/notifications/unread`,{headers:qu()})).data.data,getUnreadCount:async()=>(await Ie.get(`${Hu}/notifications/unread/count`,{headers:qu()})).data.data.count,markAsRead:async t=>{await Ie.put(`${Hu}/notifications/${t}/read`,null,{headers:qu()})},markAllAsRead:async()=>{await Ie.put(`${Hu}/notifications/read-all`,null,{headers:qu()})},markMultipleAsRead:async t=>{await Ie.put(`${Hu}/notifications/read-multiple`,t,{headers:qu()})}},wS=()=>{const[t,e]=R.useState(!1),[r,a]=R.useState([]),[n,i]=R.useState(0),[l,d]=R.useState(!1),u=R.useRef(null);R.useEffect(()=>{h();const j=setInterval(h,3e4);return()=>clearInterval(j)},[]),R.useEffect(()=>{t&&g()},[t]),R.useEffect(()=>{const j=k=>{u.current&&!u.current.contains(k.target)&&e(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const h=async()=>{try{const j=await Id.getUnreadCount();i(j)}catch(j){console.error("Error fetching unread count:",j)}},g=async()=>{try{d(!0);const j=await Id.getUnreadNotifications();a(j.slice(0,10))}catch(j){console.error("Error fetching notifications:",j)}finally{d(!1)}},x=async j=>{try{await Id.markAsRead(j),a(k=>k.filter(C=>C.id!==j)),i(k=>Math.max(0,k-1))}catch(k){console.error("Error marking as read:",k)}},y=async()=>{try{await Id.markAllAsRead(),a([]),i(0)}catch(j){console.error("Error marking all as read:",j)}},p=j=>{switch(j){case"PRODUCT_APPROVED":return"";case"PRODUCT_REJECTED":return"";case"PRODUCT_PURCHASED":return"";case"REVIEW_RECEIVED":return"";case"ORDER_CONFIRMED":return"";case"NEW_SELLER_PRODUCT":return"";default:return""}},w=j=>{const k=new Date(j),L=Math.floor((new Date().getTime()-k.getTime())/1e3);return L<60?" l'instant":L<3600?`Il y a ${Math.floor(L/60)} min`:L<86400?`Il y a ${Math.floor(L/3600)} h`:`Il y a ${Math.floor(L/86400)} j`};return s.jsxs("div",{className:"relative",ref:u,children:[s.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M10 2C10.5523 2 11 2.44772 11 3V3.09199C13.8377 3.55399 16 6.02757 16 9V13L17.2929 14.2929C17.9229 14.9229 17.4767 16 16.5858 16H3.41421C2.52331 16 2.07714 14.9229 2.70711 14.2929L4 13V9C4 6.02757 6.16229 3.55399 9 3.09199V3C9 2.44772 9.44772 2 10 2ZM10 5C7.79086 5 6 6.79086 6 9V13.4142L5.41421 14H14.5858L14 13.4142V9C14 6.79086 12.2091 5 10 5ZM8 17C8 18.1046 8.89543 19 10 19C11.1046 19 12 18.1046 12 17H8Z"})}),n>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full",children:n>9?"9+":n})]}),t&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border dark:border-gray-700 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Notifications"}),r.length>0&&s.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400",children:"Tout marquer comme lu"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.length===0?s.jsxs("div",{className:"py-8 text-center text-gray-500",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{children:"Aucune nouvelle notification"})]}):r.map(j=>s.jsx("div",{className:"p-4 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition cursor-pointer",onClick:()=>x(j.id),children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-2xl",children:p(j.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:j.title}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:j.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:w(j.createdAt)})]}),!j.isRead&&s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-2"})]})},j.id))}),s.jsx("div",{className:"p-3 border-t dark:border-gray-700",children:s.jsx(lt,{to:"/admin/notifications",className:"block text-center text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 font-medium",onClick:()=>e(!1),children:"Voir toutes les notifications"})})]})]})},NS=()=>{const[t,e]=R.useState(!1),{isMobileOpen:r,toggleSidebar:a,toggleMobileSidebar:n}=jm(),i=()=>{window.innerWidth>=1024?a():n()},l=()=>{e(!t)};return s.jsx("header",{className:"sticky top-0 flex w-full bg-white border-gray-200 z-99999 dark:border-gray-800 dark:bg-gray-900 lg:border-b",children:s.jsxs("div",{className:"flex flex-col items-center justify-between grow lg:flex-row lg:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between w-full gap-2 px-3 py-3 border-b border-gray-200 dark:border-gray-800 sm:gap-4 lg:justify-normal lg:border-b-0 lg:px-0 lg:py-4",children:[s.jsx("button",{className:"items-center justify-center w-10 h-10 text-gray-500 border-gray-200 rounded-lg z-99999 dark:border-gray-800 lg:flex dark:text-gray-400 lg:h-11 lg:w-11 lg:border",onClick:i,"aria-label":"Toggle Sidebar",children:r?s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.21967 7.28131C5.92678 6.98841 5.92678 6.51354 6.21967 6.22065C6.51256 5.92775 6.98744 5.92775 7.28033 6.22065L12 10.9403L16.7197 6.22065C17.0126 5.92775 17.4874 5.92775 17.7803 6.22065C18.0732 6.51354 18.0732 6.98841 17.7803 7.28131L13.0607 12L17.7803 16.7187C18.0732 17.0116 18.0732 17.4865 17.7803 17.7794C17.4874 18.0723 17.0126 18.0723 16.7197 17.7794L12 13.0597L7.28033 17.7794C6.98744 18.0723 6.51256 18.0723 6.21967 17.7794C5.92678 17.4865 5.92678 17.0116 6.21967 16.7187L10.9393 12L6.21967 7.28131Z",fill:"currentColor"})}):s.jsx("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75H1.33325C0.919038 1.75 0.583252 1.41421 0.583252 1ZM0.583252 6C0.583252 5.58579 0.919038 5.25 1.33325 5.25H14.6666C15.0808 5.25 15.4166 5.58579 15.4166 6C15.4166 6.41422 15.0808 6.75 14.6666 6.75H1.33325C0.919038 6.75 0.583252 6.41422 0.583252 6ZM1.33325 10.25C0.919038 10.25 0.583252 10.5858 0.583252 11C0.583252 11.4142 0.919038 11.75 1.33325 11.75H14.6666C15.0808 11.75 15.4166 11.4142 15.4166 11C15.4166 10.5858 15.0808 10.25 14.6666 10.25H1.33325Z",fill:"currentColor"})})}),s.jsxs(lt,{to:"/admin",className:"lg:hidden",children:[s.jsx("img",{className:"dark:hidden",src:"./images/logo/MouadVision.png",alt:"Logo"}),s.jsx("img",{className:"hidden dark:block",src:"./images/logo/MouadVision.png",alt:"Logo"})]}),s.jsx("button",{onClick:l,className:"flex items-center justify-center w-10 h-10 text-gray-700 rounded-lg z-99999 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 lg:hidden",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99902 10.4951C6.82745 10.4951 7.49902 11.1667 7.49902 11.9951V12.0051C7.49902 12.8335 6.82745 13.5051 5.99902 13.5051C5.1706 13.5051 4.49902 12.8335 4.49902 12.0051V11.9951C4.49902 11.1667 5.1706 10.4951 5.99902 10.4951Z",fill:"currentColor"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10.4951C12.8284 10.4951 13.5 11.1667 13.5 11.9951V12.0051C13.5 12.8335 12.8284 13.5051 12 13.5051C11.1716 13.5051 10.5 12.8335 10.5 12.0051V11.9951C10.5 11.1667 11.1716 10.4951 12 10.4951Z",fill:"currentColor"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.001 10.4951C18.8294 10.4951 19.501 11.1667 19.501 11.9951V12.0051C19.501 12.8335 18.8294 13.5051 18.001 13.5051C17.1726 13.5051 16.501 12.8335 16.501 12.0051V11.9951C16.501 11.1667 17.1726 10.4951 18.001 10.4951Z",fill:"currentColor"})]})})]}),s.jsxs("div",{className:`${t?"flex":"hidden"} items-center justify-between w-full gap-4 px-5 py-4 lg:flex shadow-theme-md lg:justify-end lg:px-0 lg:shadow-none`,children:[s.jsxs("div",{className:"flex items-center gap-2 2xsm:gap-3",children:[s.jsx(wS,{}),s.jsx(xS,{})]}),s.jsx(vS,{})]})]})})},jS=()=>{const{isMobileOpen:t,toggleMobileSidebar:e}=jm();return t?s.jsx("div",{className:"fixed inset-0 z-40 bg-gray-900/50 lg:hidden",onClick:e}):null},kS=t=>R.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},R.createElement("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),Jg=t=>R.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 13.8619C7.23361 13.8619 4.86803 12.1372 3.92328 9.70241C4.86804 7.26761 7.23361 5.54297 10.0002 5.54297C12.7667 5.54297 15.1323 7.26762 16.0771 9.70243C15.1323 12.1372 12.7667 13.8619 10.0002 13.8619ZM10.0002 4.04297C6.48191 4.04297 3.49489 6.30917 2.4155 9.4593C2.3615 9.61687 2.3615 9.78794 2.41549 9.94552C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C13.5184 15.3619 16.5055 13.0957 17.5849 9.94555C17.6389 9.78797 17.6389 9.6169 17.5849 9.45932C16.5055 6.30919 13.5184 4.04297 10.0002 4.04297ZM9.99151 7.84413C8.96527 7.84413 8.13333 8.67606 8.13333 9.70231C8.13333 10.7286 8.96527 11.5605 9.99151 11.5605H10.0064C11.0326 11.5605 11.8646 10.7286 11.8646 9.70231C11.8646 8.67606 11.0326 7.84413 10.0064 7.84413H9.99151Z"})),em=t=>R.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.63803 3.57709C4.34513 3.2842 3.87026 3.2842 3.57737 3.57709C3.28447 3.86999 3.28447 4.34486 3.57737 4.63775L4.85323 5.91362C3.74609 6.84199 2.89363 8.06395 2.4155 9.45936C2.3615 9.61694 2.3615 9.78801 2.41549 9.94558C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C11.255 15.3619 12.4422 15.0737 13.4994 14.5598L15.3625 16.4229C15.6554 16.7158 16.1302 16.7158 16.4231 16.4229C16.716 16.13 16.716 15.6551 16.4231 15.3622L4.63803 3.57709ZM12.3608 13.4212L10.4475 11.5079C10.3061 11.5423 10.1584 11.5606 10.0064 11.5606H9.99151C8.96527 11.5606 8.13333 10.7286 8.13333 9.70237C8.13333 9.5461 8.15262 9.39434 8.18895 9.24933L5.91885 6.97923C5.03505 7.69015 4.34057 8.62704 3.92328 9.70247C4.86803 12.1373 7.23361 13.8619 10.0002 13.8619C10.8326 13.8619 11.6287 13.7058 12.3608 13.4212ZM16.0771 9.70249C15.7843 10.4569 15.3552 11.1432 14.8199 11.7311L15.8813 12.7925C16.6329 11.9813 17.2187 11.0143 17.5849 9.94561C17.6389 9.78803 17.6389 9.61696 17.5849 9.45938C16.5055 6.30925 13.5184 4.04303 10.0002 4.04303C9.13525 4.04303 8.30244 4.17999 7.52218 4.43338L8.75139 5.66259C9.1556 5.58413 9.57311 5.54303 10.0002 5.54303C12.7667 5.54303 15.1323 7.26768 16.0771 9.70249Z"})),Zy=t=>R.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99915 10.2451C6.96564 10.2451 7.74915 11.0286 7.74915 11.9951V12.0051C7.74915 12.9716 6.96564 13.7551 5.99915 13.7551C5.03265 13.7551 4.24915 12.9716 4.24915 12.0051V11.9951C4.24915 11.0286 5.03265 10.2451 5.99915 10.2451ZM17.9991 10.2451C18.9656 10.2451 19.7491 11.0286 19.7491 11.9951V12.0051C19.7491 12.9716 18.9656 13.7551 17.9991 13.7551C17.0326 13.7551 16.2491 12.9716 16.2491 12.0051V11.9951C16.2491 11.0286 17.0326 10.2451 17.9991 10.2451ZM13.7491 11.9951C13.7491 11.0286 12.9656 10.2451 11.9991 10.2451C11.0326 10.2451 10.2491 11.0286 10.2491 11.9951V12.0051C10.2491 12.9716 11.0326 13.7551 11.9991 13.7551C12.9656 13.7551 13.7491 12.9716 13.7491 12.0051V11.9951Z",fill:"currentColor"})),SS=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})}),CS=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),_S=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),AS=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Qy=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),LS=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),ES=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),MS=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),RS=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),TS=[{icon:s.jsx(SS,{}),name:"Dashboard",path:"/admin"},{icon:s.jsx(CS,{}),name:"Product Approvals",path:"/admin/product-approvals"},{icon:s.jsx(_S,{}),name:"Products Management",path:"/admin/products"},{icon:s.jsx(Qy,{}),name:"Seller Management",path:"/admin/sellers"},{icon:s.jsx(MS,{}),name:"Orders",path:"/admin/orders"},{icon:s.jsx(RS,{}),name:"Stock Management",path:"/admin/stock"},{name:"Analyst Management",path:"/admin/analysts",icon:s.jsx(Qy,{})},{icon:s.jsx(AS,{}),name:"Analyse Prdictive",path:"/admin/predictions"}],PS=[{icon:s.jsx(LS,{}),name:"Notifications",path:"/admin/notifications"},{icon:s.jsx(ES,{}),name:"Profile",path:"/admin/profile"}],DS=()=>{const{isExpanded:t,isMobileOpen:e,isHovered:r,setIsHovered:a}=jm(),n=js(),[i,l]=R.useState(0),[d,u]=R.useState(null),[,h]=R.useState({}),g=R.useRef({}),x=R.useCallback(w=>n.pathname===w,[n.pathname]);R.useEffect(()=>{const w=async()=>{var k;try{const C=localStorage.getItem("token");if(!C)return;const L=await fetch("http://localhost:8080/api/admin/product-approvals/dashboard",{headers:{Authorization:`Bearer ${C}`}});if(L.ok){const E=await L.json();l(((k=E.data)==null?void 0:k.pendingApprovals)||0)}}catch(C){console.error("Error fetching pending count:",C)}};w();const j=setInterval(w,6e4);return()=>clearInterval(j)},[]),R.useEffect(()=>{if(d!==null){const w=`${d.type}-${d.index}`;g.current[w]&&h(j=>{var k;return{...j,[w]:((k=g.current[w])==null?void 0:k.scrollHeight)||0}})}},[d]);const y=(w,j)=>{u(k=>k&&k.type===j&&k.index===w?null:{type:j,index:w})},p=(w,j)=>s.jsx("ul",{className:"flex flex-col gap-4",children:w.map((k,C)=>s.jsx("li",{children:k.subItems?s.jsxs("button",{onClick:()=>y(C,j),className:`menu-item group ${(d==null?void 0:d.type)===j&&(d==null?void 0:d.index)===C?"menu-item-active":"menu-item-inactive"} cursor-pointer ${!t&&!r?"lg:justify-center":"lg:justify-start"}`,children:[s.jsx("span",{className:`menu-item-icon-size ${(d==null?void 0:d.type)===j&&(d==null?void 0:d.index)===C?"menu-item-icon-active":"menu-item-icon-inactive"}`,children:k.icon}),(t||r||e)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"menu-item-text",children:k.name}),s.jsx(kS,{className:`ml-auto w-5 h-5 transition-transform duration-200 ${(d==null?void 0:d.type)===j&&(d==null?void 0:d.index)===C?"rotate-180 text-brand-500":""}`})]})]}):k.path&&s.jsxs(lt,{to:k.path,className:`menu-item group ${x(k.path)?"menu-item-active":"menu-item-inactive"} ${!t&&!r?"lg:justify-center":"lg:justify-start"}`,children:[s.jsx("span",{className:`menu-item-icon-size ${x(k.path)?"menu-item-icon-active":"menu-item-icon-inactive"}`,children:k.icon}),(t||r||e)&&s.jsx("span",{className:"menu-item-text",children:k.name}),k.name==="Product Approvals"&&i>0&&(t||r||e)&&s.jsx("span",{className:"ml-auto bg-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:i})]})},k.name))});return s.jsxs("aside",{className:`fixed mt-16 flex flex-col lg:mt-0 top-0 px-5 left-0 bg-white dark:bg-gray-900 dark:border-gray-800 text-gray-900 h-screen transition-all duration-300 ease-in-out z-99999 border-r border-gray-200 
            ${t||e||r?"w-[290px]":"w-[90px]"}
            ${e?"translate-x-0":"-translate-x-full"}
            lg:translate-x-0`,onMouseEnter:()=>!t&&a(!0),onMouseLeave:()=>a(!1),children:[s.jsx("div",{className:`py-8 flex ${!t&&!r?"lg:justify-center":"justify-start"}`,children:s.jsx(lt,{to:"/admin",children:t||r||e?s.jsxs(s.Fragment,{children:[s.jsx("img",{className:"dark:hidden",src:"/images/logo/MouadVision.png",alt:"Logo",width:150,height:40}),s.jsx("img",{className:"hidden dark:block",src:"/images/logo/MouadVision.png",alt:"Logo",width:150,height:40})]}):s.jsx("img",{src:"/images/logo/logo.png",alt:"Logo",width:300,height:300})})}),s.jsx("div",{className:"flex flex-col overflow-y-auto duration-300 ease-linear no-scrollbar",children:s.jsx("nav",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:`mb-4 text-xs uppercase flex leading-[20px] text-gray-400 ${!t&&!r?"lg:justify-center":"justify-start"}`,children:t||r||e?"Menu":s.jsx(Zy,{className:"size-6"})}),p(TS,"main")]}),s.jsxs("div",{children:[s.jsx("h2",{className:`mb-4 text-xs uppercase flex leading-[20px] text-gray-400 ${!t&&!r?"lg:justify-center":"justify-start"}`,children:t||r||e?"Others":s.jsx(Zy,{className:"size-6"})}),p(PS,"others")]})]})})})]})},OS=()=>{const{isExpanded:t,isHovered:e,isMobileOpen:r}=jm();return s.jsxs("div",{className:"min-h-screen xl:flex",children:[s.jsxs("div",{children:[s.jsx(DS,{}),s.jsx(jS,{})]}),s.jsxs("div",{className:`flex-1 transition-all duration-300 ease-in-out ${t||e?"lg:ml-[290px]":"lg:ml-[90px]"} ${r?"ml-0":""}`,children:[s.jsx(NS,{}),s.jsx("div",{className:"p-4 mx-auto max-w-(--breakpoint-2xl) md:p-6",children:s.jsx(pm,{})})]})]})},FS=()=>s.jsx(mS,{children:s.jsx(OS,{})}),BS=()=>{const{logout:t}=hn(),{getItemCount:e}=wh(),r=js(),a=Bi(),[n,i]=R.useState(!1),l=e();R.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const d=()=>{t(),a("/signin")},u=[{path:"/shop",label:"Shop",icon:""},{path:"/shop/orders",label:"Orders",icon:""},{path:"/shop/my-reviews",label:"Reviews",icon:""},{path:"/shop/profile",label:"Profile",icon:""}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-shop-50 dark:from-neutral-900 dark:to-neutral-800 flex flex-col",children:[s.jsxs("header",{className:"sticky top-0 z-50 bg-white/90 dark:bg-neutral-900/90 backdrop-blur-md border-b border-neutral-200 dark:border-neutral-800 shadow-sm",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-20 gap-4",children:[s.jsx(lt,{to:"/shop",className:"flex items-center gap-3 flex-shrink-0 group",children:s.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-shop-500 to-shop-600 rounded-xl flex items-center justify-center shadow-shop transform group-hover:scale-105 transition-transform",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"Logo",className:"h-8 w-auto"}),s.jsx("span",{className:"font-bold text-lg bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"MouadVision"})]})}),s.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:u.map(h=>s.jsx(lt,{to:h.path,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${r.pathname===h.path?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-neutral-300 hover:bg-gray-100 dark:hover:bg-neutral-800 hover:text-gray-900 dark:hover:text-white"}`,children:s.jsx("span",{children:h.label})},h.path))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(lt,{to:"/shop/cart",className:"relative flex items-center justify-center w-11 h-11 rounded-xl bg-gray-100 dark:bg-neutral-800 text-gray-700 dark:text-neutral-300 hover:bg-gray-200 dark:hover:bg-neutral-700 border border-gray-200 dark:border-neutral-700 transition-all",title:"Shopping Cart",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),l>0&&s.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:l>99?"99+":l})]}),s.jsx("button",{onClick:()=>i(!n),className:"hidden sm:flex items-center justify-center w-11 h-11 rounded-xl bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:n?s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),s.jsxs("button",{onClick:d,className:"hidden sm:flex items-center gap-2 px-4 py-2.5 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-700 dark:text-neutral-300 text-sm font-semibold rounded-xl transition-all",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s.jsx("span",{children:"Logout"})]}),s.jsx("button",{className:"lg:hidden flex items-center justify-center w-11 h-11 rounded-xl bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),s.jsx("nav",{className:"lg:hidden border-t border-neutral-200 dark:border-neutral-800 px-2 py-2 flex justify-around bg-white dark:bg-neutral-900",children:u.map(h=>s.jsxs(lt,{to:h.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl text-xs font-semibold transition-all ${r.pathname===h.path?"text-shop-600 dark:text-shop-400 bg-shop-50 dark:bg-shop-900/20":"text-neutral-600 dark:text-neutral-400 hover:text-shop-600 dark:hover:text-shop-400"}`,children:[s.jsx("span",{className:"text-xl",children:h.icon}),s.jsx("span",{children:h.label})]},h.path))})]}),s.jsx("main",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(pm,{})}),s.jsx("footer",{className:"bg-white dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 mt-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-neutral-200 dark:border-neutral-800",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-shop-500 to-shop-600 rounded-xl flex items-center justify-center shadow-shop transform group-hover:scale-105 transition-transform",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"Logo",className:"h-8 w-auto"}),s.jsx("span",{className:"font-bold text-lg bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"MouadVision"})]})}),s.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:" 2025 MouadVision. All rights reserved."})]})})})]})},zS=()=>{var j;const{user:t,logout:e}=hn(),{items:r}=wh(),a=js(),n=Bi(),[i,l]=R.useState(!0),[d,u]=R.useState(!1),[h,g]=R.useState(!1);R.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const x=()=>{e(),n("/signin")},y=[{path:"/seller/dashboard",label:"Dashboard"},{path:"/seller/products",label:"My Products"},{path:"/seller/stock",label:"Stock Management"},{path:"/seller/orders",label:"Orders"},{path:"/seller/reviews",label:"Reviews"},{path:"/seller/profile",label:"Profile"},{path:"/seller/notifications",label:"Notifications"}],p=[{path:"/seller/shop",label:"Shop"},{path:"/seller/shop/orders",label:"My Purchases"}],w=r.reduce((k,C)=>k+C.quantity,0);return s.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-950 flex",children:[s.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 transform transition-transform duration-300 lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-800",children:[s.jsxs(lt,{to:"/seller/dashboard",className:"flex items-center gap-2",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"Logo",className:"h-8 w-auto"}),s.jsx("span",{className:"font-bold text-lg bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"MouadVision"})]}),s.jsx("button",{onClick:()=>u(!1),className:"lg:hidden text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),s.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:[s.jsx("p",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Seller"}),y.map(k=>s.jsx(lt,{to:k.path,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${a.pathname===k.path?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-neutral-300 hover:bg-gray-100 dark:hover:bg-neutral-800 hover:text-gray-900 dark:hover:text-white"}`,children:s.jsx("span",{children:k.label})},k.path)),s.jsx("div",{className:"my-4 border-t border-gray-200 dark:border-gray-700"}),s.jsx("p",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Shop as Buyer"}),p.map(k=>s.jsx(lt,{to:k.path,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${a.pathname===k.path?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-neutral-300 hover:bg-gray-100 dark:hover:bg-neutral-800 hover:text-gray-900 dark:hover:text-white"}`,children:s.jsx("span",{children:k.label})},k.path))]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:((j=t==null?void 0:t.fullName)==null?void 0:j.charAt(0))||"S"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(t==null?void 0:t.fullName)||"Seller"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:t==null?void 0:t.email})]})]}),s.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})}),s.jsxs("div",{className:"flex-1 lg:ml-64",children:[s.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"h-16 flex items-center justify-between px-4 lg:px-6 gap-4",children:[s.jsx("button",{onClick:()=>u(!0),className:"lg:hidden text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>g(!h),className:"md:hidden p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsxs(lt,{to:"/seller/shop/cart",className:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),w>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:w})]}),s.jsx("button",{onClick:()=>l(!i),className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",children:i?"":""})]})]})}),s.jsx("main",{className:"p-4 lg:p-6",children:s.jsx(pm,{})})]}),d&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>u(!1)})]})};var Jp,Ky;function IS(){if(Ky)return Jp;Ky=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function n(i,l){if(i===l)return!0;if(i&&l&&typeof i=="object"&&typeof l=="object"){if(i.constructor!==l.constructor)return!1;var d,u,h;if(Array.isArray(i)){if(d=i.length,d!=l.length)return!1;for(u=d;u--!==0;)if(!n(i[u],l[u]))return!1;return!0}var g;if(e&&i instanceof Map&&l instanceof Map){if(i.size!==l.size)return!1;for(g=i.entries();!(u=g.next()).done;)if(!l.has(u.value[0]))return!1;for(g=i.entries();!(u=g.next()).done;)if(!n(u.value[1],l.get(u.value[0])))return!1;return!0}if(r&&i instanceof Set&&l instanceof Set){if(i.size!==l.size)return!1;for(g=i.entries();!(u=g.next()).done;)if(!l.has(u.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(l)){if(d=i.length,d!=l.length)return!1;for(u=d;u--!==0;)if(i[u]!==l[u])return!1;return!0}if(i.constructor===RegExp)return i.source===l.source&&i.flags===l.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof l.valueOf=="function")return i.valueOf()===l.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof l.toString=="function")return i.toString()===l.toString();if(h=Object.keys(i),d=h.length,d!==Object.keys(l).length)return!1;for(u=d;u--!==0;)if(!Object.prototype.hasOwnProperty.call(l,h[u]))return!1;if(t&&i instanceof Element)return!1;for(u=d;u--!==0;)if(!((h[u]==="_owner"||h[u]==="__v"||h[u]==="__o")&&i.$$typeof)&&!n(i[h[u]],l[h[u]]))return!1;return!0}return i!==i&&l!==l}return Jp=function(l,d){try{return n(l,d)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},Jp}var US=IS();const HS=X0(US);var ex,Jy;function qS(){if(Jy)return ex;Jy=1;var t=function(e,r,a,n,i,l,d,u){if(!e){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[a,n,i,l,d,u],x=0;h=new Error(r.replace(/%s/g,function(){return g[x++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return ex=t,ex}var VS=qS();const e5=X0(VS);var tx,t5;function $S(){return t5||(t5=1,tx=function(e,r,a,n){var i=a?a.call(n,e,r):void 0;if(i!==void 0)return!!i;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var l=Object.keys(e),d=Object.keys(r);if(l.length!==d.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),h=0;h<l.length;h++){var g=l[h];if(!u(g))return!1;var x=e[g],y=r[g];if(i=a?a.call(n,x,y,g):void 0,i===!1||i===void 0&&x!==y)return!1}return!0}),tx}var WS=$S();const YS=X0(WS);var m3=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(m3||{}),rx={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},r5=Object.values(m3),s2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},GS=Object.entries(s2).reduce((t,[e,r])=>(t[r]=e,t),{}),ho="data-rh",sh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},nh=(t,e)=>{for(let r=t.length-1;r>=0;r-=1){const a=t[r];if(Object.prototype.hasOwnProperty.call(a,e))return a[e]}return null},XS=t=>{let e=nh(t,"title");const r=nh(t,sh.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,()=>e);const a=nh(t,sh.DEFAULT_TITLE);return e||a||void 0},ZS=t=>nh(t,sh.ON_CHANGE_CLIENT_STATE)||(()=>{}),ax=(t,e)=>e.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,a)=>({...r,...a}),{}),QS=(t,e)=>e.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,a)=>{if(!r.length){const n=Object.keys(a);for(let i=0;i<n.length;i+=1){const d=n[i].toLowerCase();if(t.indexOf(d)!==-1&&a[d])return r.concat(a)}}return r},[]),KS=t=>console&&typeof console.warn=="function"&&console.warn(t),p0=(t,e,r)=>{const a={};return r.filter(n=>Array.isArray(n[t])?!0:(typeof n[t]<"u"&&KS(`Helmet: ${t} should be of type "Array". Instead found type "${typeof n[t]}"`),!1)).map(n=>n[t]).reverse().reduce((n,i)=>{const l={};i.filter(u=>{let h;const g=Object.keys(u);for(let y=0;y<g.length;y+=1){const p=g[y],w=p.toLowerCase();e.indexOf(w)!==-1&&!(h==="rel"&&u[h].toLowerCase()==="canonical")&&!(w==="rel"&&u[w].toLowerCase()==="stylesheet")&&(h=w),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(h=p)}if(!h||!u[h])return!1;const x=u[h].toLowerCase();return a[h]||(a[h]={}),l[h]||(l[h]={}),a[h][x]?!1:(l[h][x]=!0,!0)}).reverse().forEach(u=>n.push(u));const d=Object.keys(l);for(let u=0;u<d.length;u+=1){const h=d[u],g={...a[h],...l[h]};a[h]=g}return n},[]).reverse()},JS=(t,e)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},e9=t=>({baseTag:QS(["href"],t),bodyAttributes:ax("bodyAttributes",t),defer:nh(t,sh.DEFER),encode:nh(t,sh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ax("htmlAttributes",t),linkTags:p0("link",["rel","href"],t),metaTags:p0("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:p0("noscript",["innerHTML"],t),onChangeClientState:ZS(t),scriptTags:p0("script",["src","innerHTML"],t),styleTags:p0("style",["cssText"],t),title:XS(t),titleAttributes:ax("titleAttributes",t),prioritizeSeoTags:JS(t,sh.PRIORITIZE_SEO_TAGS)}),p3=t=>Array.isArray(t)?t.join(""):t,t9=(t,e)=>{const r=Object.keys(t);for(let a=0;a<r.length;a+=1)if(e[r[a]]&&e[r[a]].includes(t[r[a]]))return!0;return!1},sx=(t,e)=>Array.isArray(t)?t.reduce((r,a)=>(t9(a,e)?r.priority.push(a):r.default.push(a),r),{priority:[],default:[]}):{default:t,priority:[]},a5=(t,e)=>({...t,[e]:void 0}),r9=["noscript","script","style"],l1=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),x3=t=>Object.keys(t).reduce((e,r)=>{const a=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${a}`:a},""),a9=(t,e,r,a)=>{const n=x3(r),i=p3(e);return n?`<${t} ${ho}="true" ${n}>${l1(i,a)}</${t}>`:`<${t} ${ho}="true">${l1(i,a)}</${t}>`},s9=(t,e,r=!0)=>e.reduce((a,n)=>{const i=n,l=Object.keys(i).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,g)=>{const x=typeof i[g]>"u"?g:`${g}="${l1(i[g],r)}"`;return h?`${h} ${x}`:x},""),d=i.innerHTML||i.cssText||"",u=r9.indexOf(t)===-1;return`${a}<${t} ${ho}="true" ${l}${u?"/>":`>${d}</${t}>`}`},""),b3=(t,e={})=>Object.keys(t).reduce((r,a)=>{const n=s2[a];return r[n||a]=t[a],r},e),n9=(t,e,r)=>{const a={key:e,[ho]:!0},n=b3(r,a);return[Ic.createElement("title",n,e)]},Fg=(t,e)=>e.map((r,a)=>{const n={key:a,[ho]:!0};return Object.keys(r).forEach(i=>{const d=s2[i]||i;if(d==="innerHTML"||d==="cssText"){const u=r.innerHTML||r.cssText;n.dangerouslySetInnerHTML={__html:u}}else n[d]=r[i]}),Ic.createElement(t,n)}),Mi=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>n9(t,e.title,e.titleAttributes),toString:()=>a9(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>b3(e),toString:()=>x3(e)};default:return{toComponent:()=>Fg(t,e),toString:()=>s9(t,e,r)}}},i9=({metaTags:t,linkTags:e,scriptTags:r,encode:a})=>{const n=sx(t,rx.meta),i=sx(e,rx.link),l=sx(r,rx.script);return{priorityMethods:{toComponent:()=>[...Fg("meta",n.priority),...Fg("link",i.priority),...Fg("script",l.priority)],toString:()=>`${Mi("meta",n.priority,a)} ${Mi("link",i.priority,a)} ${Mi("script",l.priority,a)}`},metaTags:n.default,linkTags:i.default,scriptTags:l.default}},o9=t=>{const{baseTag:e,bodyAttributes:r,encode:a=!0,htmlAttributes:n,noscriptTags:i,styleTags:l,title:d="",titleAttributes:u,prioritizeSeoTags:h}=t;let{linkTags:g,metaTags:x,scriptTags:y}=t,p={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:p,linkTags:g,metaTags:x,scriptTags:y}=i9(t)),{priority:p,base:Mi("base",e,a),bodyAttributes:Mi("bodyAttributes",r,a),htmlAttributes:Mi("htmlAttributes",n,a),link:Mi("link",g,a),meta:Mi("meta",x,a),noscript:Mi("noscript",i,a),script:Mi("script",y,a),style:Mi("style",l,a),title:Mi("title",{title:d,titleAttributes:u},a)}},c1=o9,rg=[],y3=!!(typeof window<"u"&&window.document&&window.document.createElement),d1=class{constructor(t,e){Ke(this,"instances",[]);Ke(this,"canUseDOM",y3);Ke(this,"context");Ke(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?rg:this.instances,add:t=>{(this.canUseDOM?rg:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?rg:this.instances).indexOf(t);(this.canUseDOM?rg:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=c1({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},l9={},v3=Ic.createContext(l9),Hd,w3=(Hd=class extends R.Component{constructor(r){super(r);Ke(this,"helmetData");this.helmetData=new d1(this.props.context||{},Hd.canUseDOM)}render(){return Ic.createElement(v3.Provider,{value:this.helmetData.value},this.props.children)}},Ke(Hd,"canUseDOM",y3),Hd),Vu=(t,e)=>{const r=document.head||document.querySelector("head"),a=r.querySelectorAll(`${t}[${ho}]`),n=[].slice.call(a),i=[];let l;return e&&e.length&&e.forEach(d=>{const u=document.createElement(t);for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h))if(h==="innerHTML")u.innerHTML=d.innerHTML;else if(h==="cssText")u.styleSheet?u.styleSheet.cssText=d.cssText:u.appendChild(document.createTextNode(d.cssText));else{const g=h,x=typeof d[g]>"u"?"":d[g];u.setAttribute(h,x)}u.setAttribute(ho,"true"),n.some((h,g)=>(l=g,u.isEqualNode(h)))?n.splice(l,1):i.push(u)}),n.forEach(d=>{var u;return(u=d.parentNode)==null?void 0:u.removeChild(d)}),i.forEach(d=>r.appendChild(d)),{oldTags:n,newTags:i}},u1=(t,e)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const a=r.getAttribute(ho),n=a?a.split(","):[],i=[...n],l=Object.keys(e);for(const d of l){const u=e[d]||"";r.getAttribute(d)!==u&&r.setAttribute(d,u),n.indexOf(d)===-1&&n.push(d);const h=i.indexOf(d);h!==-1&&i.splice(h,1)}for(let d=i.length-1;d>=0;d-=1)r.removeAttribute(i[d]);n.length===i.length?r.removeAttribute(ho):r.getAttribute(ho)!==l.join(",")&&r.setAttribute(ho,l.join(","))},c9=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=p3(t)),u1("title",e)},s5=(t,e)=>{const{baseTag:r,bodyAttributes:a,htmlAttributes:n,linkTags:i,metaTags:l,noscriptTags:d,onChangeClientState:u,scriptTags:h,styleTags:g,title:x,titleAttributes:y}=t;u1("body",a),u1("html",n),c9(x,y);const p={baseTag:Vu("base",r),linkTags:Vu("link",i),metaTags:Vu("meta",l),noscriptTags:Vu("noscript",d),scriptTags:Vu("script",h),styleTags:Vu("style",g)},w={},j={};Object.keys(p).forEach(k=>{const{newTags:C,oldTags:L}=p[k];C.length&&(w[k]=C),L.length&&(j[k]=p[k].oldTags)}),e&&e(),u(t,w,j)},x0=null,d9=t=>{x0&&cancelAnimationFrame(x0),t.defer?x0=requestAnimationFrame(()=>{s5(t,()=>{x0=null})}):(s5(t),x0=null)},u9=d9,n5=class extends R.Component{constructor(){super(...arguments);Ke(this,"rendered",!1)}shouldComponentUpdate(e){return!YS(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:r}=this.props.context;let a=null;const n=e9(e.get().map(i=>{const l={...i.props};return delete l.context,l}));w3.canUseDOM?u9(n):c1&&(a=c1(n)),r(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},t1,h9=(t1=class extends R.Component{shouldComponentUpdate(t){return!HS(a5(this.props,"helmetData"),a5(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,r,a){return{...e,[t.type]:[...e[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,a)}]}}mapObjectTypeChildren(t,e,r,a){switch(t.type){case"title":return{...e,[t.type]:a,titleAttributes:{...r}};case"body":return{...e,bodyAttributes:{...r}};case"html":return{...e,htmlAttributes:{...r}};default:return{...e,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,e){let r={...e};return Object.keys(t).forEach(a=>{r={...r,[a]:t[a]}}),r}warnOnInvalidChildren(t,e){return e5(r5.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${r5.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),e5(!e||typeof e=="string"||Array.isArray(e)&&!e.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let r={};return Ic.Children.forEach(t,a=>{if(!a||!a.props)return;const{children:n,...i}=a.props,l=Object.keys(i).reduce((u,h)=>(u[GS[h]||h]=i[h],u),{});let{type:d}=a;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(a,n),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(n,e);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(a,r,l,n);break;default:e=this.mapObjectTypeChildren(a,e,l,n);break}}),this.mapArrayTypeChildrenToProps(r,e)}render(){const{children:t,...e}=this.props;let r={...e},{helmetData:a}=e;if(t&&(r=this.mapChildrenToProps(t,r)),a&&!(a instanceof d1)){const n=a;a=new d1(n.context,!0),delete r.helmetData}return a?Ic.createElement(n5,{...r,context:a.value}):Ic.createElement(v3.Consumer,null,n=>Ic.createElement(n5,{...r,context:n}))}},Ke(t1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t1);const Nh=({title:t,description:e})=>s.jsxs(h9,{children:[s.jsx("title",{children:t}),s.jsx("meta",{name:"description",content:e})]}),f9=({children:t})=>s.jsx(w3,{children:t});function N3(){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute right-0 top-0 -z-1 w-full max-w-[250px] xl:max-w-[450px]",children:s.jsx("img",{src:"/images/shape/grid-01.svg",alt:"grid"})}),s.jsx("div",{className:"absolute bottom-0 left-0 -z-1 w-full max-w-[250px] rotate-180 xl:max-w-[450px]",children:s.jsx("img",{src:"/images/shape/grid-01.svg",alt:"grid"})})]})}function g9(){const{toggleTheme:t}=g3();return s.jsxs("button",{onClick:t,className:"inline-flex items-center justify-center text-white transition-colors rounded-full size-14 bg-brand-500 hover:bg-brand-600",children:[s.jsx("svg",{className:"hidden dark:block",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99998 1.5415C10.4142 1.5415 10.75 1.87729 10.75 2.2915V3.5415C10.75 3.95572 10.4142 4.2915 9.99998 4.2915C9.58577 4.2915 9.24998 3.95572 9.24998 3.5415V2.2915C9.24998 1.87729 9.58577 1.5415 9.99998 1.5415ZM10.0009 6.79327C8.22978 6.79327 6.79402 8.22904 6.79402 10.0001C6.79402 11.7712 8.22978 13.207 10.0009 13.207C11.772 13.207 13.2078 11.7712 13.2078 10.0001C13.2078 8.22904 11.772 6.79327 10.0009 6.79327ZM5.29402 10.0001C5.29402 7.40061 7.40135 5.29327 10.0009 5.29327C12.6004 5.29327 14.7078 7.40061 14.7078 10.0001C14.7078 12.5997 12.6004 14.707 10.0009 14.707C7.40135 14.707 5.29402 12.5997 5.29402 10.0001ZM15.9813 5.08035C16.2742 4.78746 16.2742 4.31258 15.9813 4.01969C15.6884 3.7268 15.2135 3.7268 14.9207 4.01969L14.0368 4.90357C13.7439 5.19647 13.7439 5.67134 14.0368 5.96423C14.3297 6.25713 14.8045 6.25713 15.0974 5.96423L15.9813 5.08035ZM18.4577 10.0001C18.4577 10.4143 18.1219 10.7501 17.7077 10.7501H16.4577C16.0435 10.7501 15.7077 10.4143 15.7077 10.0001C15.7077 9.58592 16.0435 9.25013 16.4577 9.25013H17.7077C18.1219 9.25013 18.4577 9.58592 18.4577 10.0001ZM14.9207 15.9806C15.2135 16.2735 15.6884 16.2735 15.9813 15.9806C16.2742 15.6877 16.2742 15.2128 15.9813 14.9199L15.0974 14.036C14.8045 13.7431 14.3297 13.7431 14.0368 14.036C13.7439 14.3289 13.7439 14.8038 14.0368 15.0967L14.9207 15.9806ZM9.99998 15.7088C10.4142 15.7088 10.75 16.0445 10.75 16.4588V17.7088C10.75 18.123 10.4142 18.4588 9.99998 18.4588C9.58577 18.4588 9.24998 18.123 9.24998 17.7088V16.4588C9.24998 16.0445 9.58577 15.7088 9.99998 15.7088ZM5.96356 15.0972C6.25646 14.8043 6.25646 14.3295 5.96356 14.0366C5.67067 13.7437 5.1958 13.7437 4.9029 14.0366L4.01902 14.9204C3.72613 15.2133 3.72613 15.6882 4.01902 15.9811C4.31191 16.274 4.78679 16.274 5.07968 15.9811L5.96356 15.0972ZM4.29224 10.0001C4.29224 10.4143 3.95645 10.7501 3.54224 10.7501H2.29224C1.87802 10.7501 1.54224 10.4143 1.54224 10.0001C1.54224 9.58592 1.87802 9.25013 2.29224 9.25013H3.54224C3.95645 9.25013 4.29224 9.58592 4.29224 10.0001ZM4.9029 5.9637C5.1958 6.25659 5.67067 6.25659 5.96356 5.9637C6.25646 5.6708 6.25646 5.19593 5.96356 4.90303L5.07968 4.01915C4.78679 3.72626 4.31191 3.72626 4.01902 4.01915C3.72613 4.31204 3.72613 4.78692 4.01902 5.07981L4.9029 5.9637Z",fill:"currentColor"})}),s.jsx("svg",{className:"dark:hidden",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M17.4547 11.97L18.1799 12.1611C18.265 11.8383 18.1265 11.4982 17.8401 11.3266C17.5538 11.1551 17.1885 11.1934 16.944 11.4207L17.4547 11.97ZM8.0306 2.5459L8.57989 3.05657C8.80718 2.81209 8.84554 2.44682 8.67398 2.16046C8.50243 1.8741 8.16227 1.73559 7.83948 1.82066L8.0306 2.5459ZM12.9154 13.0035C9.64678 13.0035 6.99707 10.3538 6.99707 7.08524H5.49707C5.49707 11.1823 8.81835 14.5035 12.9154 14.5035V13.0035ZM16.944 11.4207C15.8869 12.4035 14.4721 13.0035 12.9154 13.0035V14.5035C14.8657 14.5035 16.6418 13.7499 17.9654 12.5193L16.944 11.4207ZM16.7295 11.7789C15.9437 14.7607 13.2277 16.9586 10.0003 16.9586V18.4586C13.9257 18.4586 17.2249 15.7853 18.1799 12.1611L16.7295 11.7789ZM10.0003 16.9586C6.15734 16.9586 3.04199 13.8433 3.04199 10.0003H1.54199C1.54199 14.6717 5.32892 18.4586 10.0003 18.4586V16.9586ZM3.04199 10.0003C3.04199 6.77289 5.23988 4.05695 8.22173 3.27114L7.83948 1.82066C4.21532 2.77574 1.54199 6.07486 1.54199 10.0003H3.04199ZM6.99707 7.08524C6.99707 5.52854 7.5971 4.11366 8.57989 3.05657L7.48132 2.03522C6.25073 3.35885 5.49707 5.13487 5.49707 7.08524H6.99707Z",fill:"currentColor"})})]})}function n2({children:t}){return s.jsx("div",{className:"relative p-6 bg-white z-1 dark:bg-gray-900 sm:p-0",children:s.jsxs("div",{className:"relative flex flex-col justify-center w-full h-screen lg:flex-row dark:bg-gray-900 sm:p-0",children:[t,s.jsx("div",{className:"items-center hidden w-full h-full lg:w-1/2 bg-brand-950 dark:bg-white/5 lg:flex relative",children:s.jsxs("div",{className:"relative flex items-center justify-center z-1 w-full h-full",children:[s.jsx(N3,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center px-8",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 blur-3xl rounded-full scale-150"}),s.jsx(lt,{to:"/",className:"relative block",children:s.jsx("img",{width:231,height:48,src:"/images/logo/MouadVision.png",alt:"Logo"})})]}),s.jsx("p",{className:"text-center text-gray-400 dark:text-white/60 max-w-sm mb-10",children:"Your all-in-one e-commerce platform for sellers, buyers, and analytics. Empowering businesses to grow smarter."}),s.jsxs("div",{className:"flex flex-col gap-4 mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium text-sm",children:"Real-time Analytics"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Track sales & performance instantly"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium text-sm",children:"Seamless Marketplace"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Buy & sell with confidence"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium text-sm",children:"Scale Your Business"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Tools to grow faster"})]})]})]}),s.jsxs("div",{className:"flex gap-8 pt-6 border-t border-gray-700/50",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"10K+"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Products"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"5K+"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Sellers"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"50K+"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Orders"})]})]})]}),s.jsxs("div",{className:"absolute bottom-6 left-0 right-0 text-center",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-500 text-xs",children:" 2025 MouadVision. All rights reserved."}),s.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[s.jsx("a",{href:"#",className:"text-gray-500 hover:text-white text-xs transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("a",{href:"#",className:"text-gray-500 hover:text-white text-xs transition-colors",children:"Terms of Service"}),s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("a",{href:"#",className:"text-gray-500 hover:text-white text-xs transition-colors",children:"Contact"})]})]})]})}),s.jsx("div",{className:"fixed z-50 hidden bottom-6 right-6 sm:block",children:s.jsx(g9,{})})]})})}const i2="-",m9=t=>{const e=x9(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:l=>{const d=l.split(i2);return d[0]===""&&d.length!==1&&d.shift(),j3(d,e)||p9(l)},getConflictingClassGroupIds:(l,d)=>{const u=r[l]||[];return d&&a[l]?[...u,...a[l]]:u}}},j3=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const r=t[0],a=e.nextPart.get(r),n=a?j3(t.slice(1),a):void 0;if(n)return n;if(e.validators.length===0)return;const i=t.join(i2);return(l=e.validators.find(({validator:d})=>d(i)))==null?void 0:l.classGroupId},i5=/^\[(.+)\]$/,p9=t=>{if(i5.test(t)){const e=i5.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},x9=t=>{const{theme:e,classGroups:r}=t,a={nextPart:new Map,validators:[]};for(const n in r)h1(r[n],a,n,e);return a},h1=(t,e,r,a)=>{t.forEach(n=>{if(typeof n=="string"){const i=n===""?e:o5(e,n);i.classGroupId=r;return}if(typeof n=="function"){if(b9(n)){h1(n(a),e,r,a);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([i,l])=>{h1(l,o5(e,i),r,a)})})},o5=(t,e)=>{let r=t;return e.split(i2).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},b9=t=>t.isThemeGetter,y9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,a=new Map;const n=(i,l)=>{r.set(i,l),e++,e>t&&(e=0,a=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=a.get(i))!==void 0)return n(i,l),l},set(i,l){r.has(i)?r.set(i,l):n(i,l)}}},f1="!",g1=":",v9=g1.length,w9=t=>{const{prefix:e,experimentalParseClassName:r}=t;let a=n=>{const i=[];let l=0,d=0,u=0,h;for(let w=0;w<n.length;w++){let j=n[w];if(l===0&&d===0){if(j===g1){i.push(n.slice(u,w)),u=w+v9;continue}if(j==="/"){h=w;continue}}j==="["?l++:j==="]"?l--:j==="("?d++:j===")"&&d--}const g=i.length===0?n:n.substring(u),x=N9(g),y=x!==g,p=h&&h>u?h-u:void 0;return{modifiers:i,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:p}};if(e){const n=e+g1,i=a;a=l=>l.startsWith(n)?i(l.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const n=a;a=i=>r({className:i,parseClassName:n})}return a},N9=t=>t.endsWith(f1)?t.substring(0,t.length-1):t.startsWith(f1)?t.substring(1):t,j9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const n=[];let i=[];return a.forEach(l=>{l[0]==="["||e[l]?(n.push(...i.sort(),l),i=[]):i.push(l)}),n.push(...i.sort()),n}},k9=t=>({cache:y9(t.cacheSize),parseClassName:w9(t),sortModifiers:j9(t),...m9(t)}),S9=/\s+/,C9=(t,e)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n,sortModifiers:i}=e,l=[],d=t.trim().split(S9);let u="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{isExternal:x,modifiers:y,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:j}=r(g);if(x){u=g+(u.length>0?" "+u:u);continue}let k=!!j,C=a(k?w.substring(0,j):w);if(!C){if(!k){u=g+(u.length>0?" "+u:u);continue}if(C=a(w),!C){u=g+(u.length>0?" "+u:u);continue}k=!1}const L=i(y).join(":"),E=p?L+f1:L,D=E+C;if(l.includes(D))continue;l.push(D);const F=n(C,k);for(let se=0;se<F.length;++se){const O=F[se];l.push(E+O)}u=g+(u.length>0?" "+u:u)}return u};function _9(){let t=0,e,r,a="";for(;t<arguments.length;)(e=arguments[t++])&&(r=k3(e))&&(a&&(a+=" "),a+=r);return a}const k3=t=>{if(typeof t=="string")return t;let e,r="";for(let a=0;a<t.length;a++)t[a]&&(e=k3(t[a]))&&(r&&(r+=" "),r+=e);return r};function A9(t,...e){let r,a,n,i=l;function l(u){const h=e.reduce((g,x)=>x(g),t());return r=k9(h),a=r.cache.get,n=r.cache.set,i=d,d(u)}function d(u){const h=a(u);if(h)return h;const g=C9(u,r);return n(u,g),g}return function(){return i(_9.apply(null,arguments))}}const vs=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},S3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,C3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,L9=/^\d+\/\d+$/,E9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$u=t=>L9.test(t),pr=t=>!!t&&!Number.isNaN(Number(t)),_d=t=>!!t&&Number.isInteger(Number(t)),l5=t=>t.endsWith("%")&&pr(t.slice(0,-1)),Pc=t=>E9.test(t),D9=()=>!0,O9=t=>M9.test(t)&&!R9.test(t),o2=()=>!1,F9=t=>T9.test(t),B9=t=>P9.test(t),z9=t=>!ft(t)&&!gt(t),I9=t=>jh(t,L3,o2),ft=t=>S3.test(t),Ad=t=>jh(t,E3,O9),nx=t=>jh(t,Q9,pr),U9=t=>jh(t,_3,o2),H9=t=>jh(t,A3,B9),q9=t=>jh(t,o2,F9),gt=t=>C3.test(t),ag=t=>kh(t,E3),V9=t=>kh(t,K9),$9=t=>kh(t,_3),W9=t=>kh(t,L3),Y9=t=>kh(t,A3),G9=t=>kh(t,J9,!0),jh=(t,e,r)=>{const a=S3.exec(t);return a?a[1]?e(a[1]):r(a[2]):!1},kh=(t,e,r=!1)=>{const a=C3.exec(t);return a?a[1]?e(a[1]):r:!1},_3=t=>t==="position",X9=new Set(["image","url"]),A3=t=>X9.has(t),Z9=new Set(["length","size","percentage"]),L3=t=>Z9.has(t),E3=t=>t==="length",Q9=t=>t==="number",K9=t=>t==="family-name",J9=t=>t==="shadow",eC=()=>{const t=vs("color"),e=vs("font"),r=vs("text"),a=vs("font-weight"),n=vs("tracking"),i=vs("leading"),l=vs("breakpoint"),d=vs("container"),u=vs("spacing"),h=vs("radius"),g=vs("shadow"),x=vs("inset-shadow"),y=vs("drop-shadow"),p=vs("blur"),w=vs("perspective"),j=vs("aspect"),k=vs("ease"),C=vs("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],se=()=>[$u,"px","full","auto",gt,ft,u],O=()=>[_d,"none","subgrid",gt,ft],U=()=>["auto",{span:["full",_d,gt,ft]},gt,ft],T=()=>[_d,"auto",gt,ft],W=()=>["auto","min","max","fr",gt,ft],I=()=>[gt,ft,u],B=()=>["start","end","center","between","around","evenly","stretch","baseline"],X=()=>["start","end","center","stretch"],Q=()=>[gt,ft,u],ge=()=>["px",...Q()],$=()=>["px","auto",...Q()],de=()=>[$u,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",gt,ft,u],ie=()=>[t,gt,ft],ye=()=>[l5,Ad],J=()=>["","none","full",h,gt,ft],te=()=>["",pr,ag,Ad],P=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["","none",p,gt,ft],ue=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gt,ft],re=()=>["none",pr,gt,ft],xe=()=>["none",pr,gt,ft],je=()=>[pr,gt,ft],Se=()=>[$u,"full","px",gt,ft,u];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pc],breakpoint:[Pc],color:[D9],container:[Pc],"drop-shadow":[Pc],ease:["in","out","in-out"],font:[z9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pc],shadow:[Pc],spacing:[pr],text:[Pc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$u,ft,gt,j]}],container:["container"],columns:[{columns:[pr,ft,gt,d]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),ft,gt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[_d,"auto",gt,ft]}],basis:[{basis:[$u,"full","auto",gt,ft,d,u]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pr,$u,"auto","initial","none",ft]}],grow:[{grow:["",pr,gt,ft]}],shrink:[{shrink:["",pr,gt,ft]}],order:[{order:[_d,"first","last","none",gt,ft]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...X(),"baseline"]}],"align-self":[{self:["auto",...X(),"baseline"]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:ge()}],px:[{px:ge()}],py:[{py:ge()}],ps:[{ps:ge()}],pe:[{pe:ge()}],pt:[{pt:ge()}],pr:[{pr:ge()}],pb:[{pb:ge()}],pl:[{pl:ge()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[d,"screen",...de()]}],"min-w":[{"min-w":[d,"screen","none",...de()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...de()]}],h:[{h:["screen",...de()]}],"min-h":[{"min-h":["screen","none",...de()]}],"max-h":[{"max-h":["screen",...de()]}],"font-size":[{text:["base",r,ag,Ad]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,gt,nx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",l5,ft]}],"font-family":[{font:[V9,ft,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,gt,ft]}],"line-clamp":[{"line-clamp":[pr,"none",gt,nx]}],leading:[{leading:[gt,ft,i,u]}],"list-image":[{"list-image":["none",gt,ft]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",gt,ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:[pr,"from-font","auto",gt,Ad]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[pr,"auto",gt,ft]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...Q()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt,ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt,ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),$9,U9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",W9,I9]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_d,gt,ft],radial:["",gt,ft],conic:[_d,gt,ft]},Y9,H9]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...P(),"hidden","none"]}],"divide-style":[{divide:[...P(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...P(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pr,gt,ft]}],"outline-w":[{outline:["",pr,ag,Ad]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",g,G9,q9]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",gt,ft,x]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[pr,Ad]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":ie()}],opacity:[{opacity:[pr,gt,ft]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none",gt,ft]}],blur:[{blur:G()}],brightness:[{brightness:[pr,gt,ft]}],contrast:[{contrast:[pr,gt,ft]}],"drop-shadow":[{"drop-shadow":["","none",y,gt,ft]}],grayscale:[{grayscale:["",pr,gt,ft]}],"hue-rotate":[{"hue-rotate":[pr,gt,ft]}],invert:[{invert:["",pr,gt,ft]}],saturate:[{saturate:[pr,gt,ft]}],sepia:[{sepia:["",pr,gt,ft]}],"backdrop-filter":[{"backdrop-filter":["","none",gt,ft]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[pr,gt,ft]}],"backdrop-contrast":[{"backdrop-contrast":[pr,gt,ft]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pr,gt,ft]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pr,gt,ft]}],"backdrop-invert":[{"backdrop-invert":["",pr,gt,ft]}],"backdrop-opacity":[{"backdrop-opacity":[pr,gt,ft]}],"backdrop-saturate":[{"backdrop-saturate":[pr,gt,ft]}],"backdrop-sepia":[{"backdrop-sepia":["",pr,gt,ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",gt,ft]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pr,"initial",gt,ft]}],ease:[{ease:["linear","initial",k,gt,ft]}],delay:[{delay:[pr,gt,ft]}],animate:[{animate:["none",C,gt,ft]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,gt,ft]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[gt,ft,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Se()}],"translate-x":[{"translate-x":Se()}],"translate-y":[{"translate-y":Se()}],"translate-z":[{"translate-z":Se()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt,ft]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt,ft]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[pr,ag,Ad,nx]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},tC=A9(eC);function M3(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=M3(t[e]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function rC(){for(var t,e,r=0,a="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=M3(t))&&(a&&(a+=" "),a+=e);return a}const ta=({htmlFor:t,children:e,className:r})=>s.jsx("label",{htmlFor:t,className:rC(tC("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",r)),children:e}),ga=({type:t="text",id:e,name:r,placeholder:a,value:n,onChange:i,min:l,max:d,step:u,disabled:h=!1,success:g=!1,error:x=!1,hint:y,required:p=!1})=>{let w=" h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3  dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-gray-500";return h?w+=" text-gray-500 border-gray-300 opacity-40 bg-gray-100 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 opacity-40":x?w+="  border-error-500 focus:border-error-300 focus:ring-error-500/20 dark:text-error-400 dark:border-error-500 dark:focus:border-error-800":g?w+="  border-success-500 focus:border-success-300 focus:ring-success-500/20 dark:text-success-400 dark:border-success-500 dark:focus:border-success-800":w+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700 dark:text-white/90  dark:focus:border-brand-800",s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:t,id:e,name:r,placeholder:a,value:n,onChange:i,min:l,max:d,step:u,disabled:h,required:p,className:w}),y&&s.jsx("p",{className:`mt-1.5 text-xs ${x?"text-error-500":g?"text-success-500":"text-gray-500"}`,children:y})]})},R3=({label:t,checked:e,id:r,onChange:a,className:n="",disabled:i=!1})=>s.jsxs("label",{className:`flex items-center space-x-3 group cursor-pointer ${i?"cursor-not-allowed opacity-60":""}`,children:[s.jsxs("div",{className:"relative w-5 h-5",children:[s.jsx("input",{id:r,type:"checkbox",className:`w-5 h-5 appearance-none cursor-pointer dark:border-gray-700 border border-gray-300 checked:border-transparent rounded-md checked:bg-brand-500 disabled:opacity-60 
          ${n}`,checked:e,onChange:l=>a(l.target.checked),disabled:i}),e&&s.jsx("svg",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:s.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})}),i&&s.jsx("svg",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:s.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"#E4E7EC",strokeWidth:"2.33333",strokeLinecap:"round",strokeLinejoin:"round"})})]}),t&&s.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:t})]}),fo=({children:t,size:e="md",variant:r="primary",startIcon:a,endIcon:n,onClick:i,className:l="",disabled:d=!1})=>{const u={sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"},h={primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"};return s.jsxs("button",{className:`inline-flex items-center justify-center gap-2 rounded-lg transition ${l} ${u[e]} ${h[r]} ${d?"cursor-not-allowed opacity-50":""}`,onClick:i,disabled:d,children:[a&&s.jsx("span",{className:"flex items-center",children:a}),t,n&&s.jsx("span",{className:"flex items-center",children:n})]})};function aC(){const[t,e]=R.useState(!1),[r,a]=R.useState(!1),[n,i]=R.useState(""),[l,d]=R.useState(""),[u,h]=R.useState(""),[g,x]=R.useState(!1),{login:y}=hn(),p=Bi(),w=js(),j=C=>{switch(C){case"ADMIN":return"/admin";case"SELLER":return"/seller/dashboard";case"BUYER":return"/shop";case"ANALYST":return"/analyst";default:return"/signin"}},k=async C=>{var L,E;C.preventDefault(),h(""),x(!0);try{await y(n,l);const D=localStorage.getItem("user");if(D){const F=JSON.parse(D),se=((E=(L=w.state)==null?void 0:L.from)==null?void 0:E.pathname)||j(F.role);p(se,{replace:!0})}else p("/signin",{replace:!0})}catch(D){h(D.message||"Login failed. Please check your credentials.")}finally{x(!1)}};return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("div",{className:"w-full max-w-md pt-10 mx-auto"}),s.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:s.jsxs("div",{children:[s.jsxs("div",{className:"mb-5 sm:mb-8",children:[s.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Sign In"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enter your email and password to sign in!"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"relative py-3 sm:py-5",children:s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-800"})})}),u&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),s.jsx("form",{onSubmit:k,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(ta,{children:["Email ",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx(ga,{type:"email",placeholder:"info@gmail.com",value:n,onChange:C=>i(C.target.value)})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["Password ",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ga,{type:t?"text":"password",placeholder:"Enter your password",value:l,onChange:C=>d(C.target.value)}),s.jsx("span",{onClick:()=>e(!t),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:t?s.jsx(Jg,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):s.jsx(em,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(R3,{checked:r,onChange:a}),s.jsx("span",{className:"block font-normal text-gray-700 text-theme-sm dark:text-gray-400",children:"Keep me logged in"})]}),s.jsx(lt,{to:"/forgot-password",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Forgot password?"})]}),s.jsx("div",{children:s.jsx(fo,{className:"w-full",size:"sm",type:"submit",disabled:g,children:g?"Signing in...":"Sign in"})})]})}),s.jsx("div",{className:"mt-5",children:s.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400 sm:text-start",children:["Don't have an account? "," ",s.jsx(lt,{to:"/signup",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Sign Up"})]})})]})]})})]})}function sC(){return s.jsxs(s.Fragment,{children:[s.jsx(Nh,{title:"JAVA",description:""}),s.jsx(n2,{children:s.jsx(aC,{})})]})}const c5=["What is your best friend's name?","What was the name of your first pet?","What city were you born in?","What is your mother's maiden name?","What was your childhood nickname?","What is your favorite movie? ","What street did you grow up on?"];function nC(){const[t,e]=R.useState(!1),[r,a]=R.useState(!1),[n,i]=R.useState({firstName:"",lastName:"",email:"",password:"",role:"BUYER",storeName:"",securityQuestion:c5[0],securityAnswer:""}),[l,d]=R.useState(""),[u,h]=R.useState(!1),{register:g}=hn(),x=Bi(),y=[{value:"BUYER",label:"Buyer"},{value:"SELLER",label:"Seller"}],p=j=>{i({...n,[j.target.name]:j.target.value})},w=async j=>{if(j.preventDefault(),d(""),!r){d("Please accept the terms and conditions");return}if(!n.securityAnswer.trim()){d("Please provide an answer to the security question");return}if(n.role==="SELLER"&&!n.storeName.trim()){d("Please enter your store/boutique name");return}h(!0);try{const k=`${n.firstName} ${n.lastName}`;await g(n.email,n.password,k,n.role,n.securityQuestion,n.securityAnswer,n.role==="SELLER"?n.storeName:void 0),x("/",{replace:!0})}catch(k){d(k.message||"Registration failed.Please try again.")}finally{h(!1)}};return s.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-y-auto lg:w-1/2 no-scrollbar",children:[s.jsx("div",{className:"w-full max-w-md mx-auto mb-5 sm:pt-10"}),s.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:s.jsxs("div",{children:[s.jsxs("div",{className:"mb-5 sm:mb-8",children:[s.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Create Your Account"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Join us today and start managing your sales"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"relative py-3 sm:py-5",children:s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-800"})})}),l&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),s.jsx("form",{onSubmit:w,children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[s.jsxs("div",{className:"sm:col-span-1",children:[s.jsxs(ta,{children:["First Name",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx(ga,{type:"text",name:"firstName",placeholder:"Enter your first name",value:n.firstName,onChange:p,required:!0})]}),s.jsxs("div",{className:"sm:col-span-1",children:[s.jsxs(ta,{children:["Last Name",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx(ga,{type:"text",name:"lastName",placeholder:"Enter your last name",value:n.lastName,onChange:p,required:!0})]})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["Email",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx(ga,{type:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:p,required:!0})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["Password",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ga,{name:"password",placeholder:"Enter your password (min 6 characters)",type:t?"text":"password",value:n.password,onChange:p,required:!0}),s.jsx("span",{onClick:()=>e(!t),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:t?s.jsx(Jg,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):s.jsx(em,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["Select Your Role",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 mt-2",children:y.map(j=>s.jsxs("label",{className:`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${n.role===j.value?"border-brand-500 bg-brand-50 dark:bg-brand-500/10":"border-gray-200 dark:border-gray-700 hover:border-brand-300"}`,children:[s.jsx("input",{type:"radio",name:"role",value:j.value,checked:n.role===j.value,onChange:p,className:"mt-1 text-brand-500 focus:ring-brand-500"}),s.jsx("div",{className:"ml-3 flex-1",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:j.label})})})]},j.value))})]}),n.role==="SELLER"&&s.jsxs("div",{className:"animate-fadeIn",children:[s.jsxs(ta,{children:["Store/Boutique Name",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx(ga,{type:"text",name:"storeName",placeholder:"Enter your store name (e.g., My Awesome Shop)",value:n.storeName,onChange:p,required:!0}),s.jsx("p",{className:"mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:"This name will be displayed to buyers on your products"})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["Security Question",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx("select",{name:"securityQuestion",value:n.securityQuestion,onChange:p,className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs focus:outline-hidden focus:ring-3 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800",required:!0,children:c5.map((j,k)=>s.jsx("option",{value:j,children:j},k))}),s.jsx("p",{className:"mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:"This will help you recover your password if you forget it"})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["Your Answer",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx(ga,{type:"text",name:"securityAnswer",placeholder:"Enter your answer",value:n.securityAnswer,onChange:p,required:!0})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(R3,{className:"w-5 h-5",checked:r,onChange:a}),s.jsxs("p",{className:"inline-block font-normal text-gray-500 dark:text-gray-400",children:["I agree to the"," ",s.jsx("span",{className:"text-gray-800 dark:text-white/90",children:"Terms and Conditions"})," ","and"," ",s.jsx("span",{className:"text-gray-800 dark:text-white",children:"Privacy Policy"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:u,className:"flex items-center justify-center w-full px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating account...":"Create Account"})})]})}),s.jsx("div",{className:"mt-5",children:s.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400 sm:text-start",children:["Already have an account? "," ",s.jsx(lt,{to:"/signin",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Sign In"})]})})]})]})})]})}function iC(){return s.jsxs(s.Fragment,{children:[s.jsx(Nh,{title:"JAVA",description:""}),s.jsx(n2,{children:s.jsx(nC,{})})]})}const d5="http://localhost:8080/api";function oC(){const[t,e]=R.useState(""),[r,a]=R.useState(""),[n,i]=R.useState(""),[l,d]=R.useState(""),[u,h]=R.useState(""),[g,x]=R.useState(!1),[y,p]=R.useState(!1),[w,j]=R.useState(""),[k,C]=R.useState(""),[L,E]=R.useState(!1),[D,F]=R.useState(1),se=async U=>{U.preventDefault(),j(""),E(!0);try{const T=await fetch(`${d5}/auth/forgot-password?email=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),W=await T.json();if(!T.ok)throw new Error(W.message||"Email not found");a(W.data.securityQuestion),F(2)}catch(T){j(T.message||"Email not found. Please check and try again.")}finally{E(!1)}},O=async U=>{if(U.preventDefault(),j(""),l!==u){j("Passwords do not match.");return}if(l.length<6){j("Password must be at least 6 characters long.");return}E(!0);try{const T=await fetch(`${d5}/auth/reset-password?email=${encodeURIComponent(t)}&securityAnswer=${encodeURIComponent(n)}&newPassword=${encodeURIComponent(l)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),W=await T.json();if(!T.ok)throw new Error(W.message||"Failed to reset password");C("Password reset successfully! You can now sign in with your new password."),F(3)}catch(T){j(T.message||"Failed to reset password. Please check your answer and try again.")}finally{E(!1)}};return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("div",{className:"w-full max-w-md pt-10 mx-auto"}),s.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:s.jsxs("div",{children:[s.jsxs("div",{className:"mb-5 sm:mb-8",children:[s.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Forgot Password - Reset Your Password"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Reset your password using your security question"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"relative py-3 sm:py-5",children:s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-800"})})}),w&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:w})}),k&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:k})}),D===1&&s.jsx("form",{onSubmit:se,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(ta,{children:["Email ",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsx(ga,{type:"email",placeholder:"Enter your email address",value:t,onChange:U=>e(U.target.value)})]}),s.jsx("div",{children:s.jsx(fo,{className:"w-full",size:"sm",type:"submit",disabled:L||!t,children:L?"Verifying...":"Continue"})})]})}),D===2&&s.jsx("form",{onSubmit:O,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ta,{children:"Security Question"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:r}),s.jsx(ga,{type:"text",placeholder:"Enter your answer",value:n,onChange:U=>i(U.target.value)})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["New Password ",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ga,{type:g?"text":"password",placeholder:"Enter new password",value:l,onChange:U=>d(U.target.value)}),s.jsx("span",{onClick:()=>x(!g),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:g?s.jsx(Jg,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):s.jsx(em,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),s.jsxs("div",{children:[s.jsxs(ta,{children:["Confirm Password ",s.jsx("span",{className:"text-error-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ga,{type:y?"text":"password",placeholder:"Confirm new password",value:u,onChange:U=>h(U.target.value)}),s.jsx("span",{onClick:()=>p(!y),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:y?s.jsx(Jg,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):s.jsx(em,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fo,{className:"flex-1",size:"sm",type:"button",variant:"outline",onClick:()=>{F(1),i(""),d(""),h(""),j("")},children:"Back"}),s.jsx(fo,{className:"flex-1",size:"sm",type:"submit",disabled:L||!n||!l||!u,children:L?"Resetting...":"Reset Password"})]})]})}),D===3&&k&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(lt,{to:"/signin",children:s.jsx(fo,{className:"w-full",size:"sm",children:"Go to Sign In"})})]}),s.jsx("div",{className:"mt-5",children:s.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400 sm:text-start",children:["Remember your password?"," ",s.jsx(lt,{to:"/signin",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Sign In"})]})})]})]})})]})}function lC(){return s.jsxs(s.Fragment,{children:[s.jsx(Nh,{title:"Forgot Password - Reset Your Password",description:"Reset your password using your security question"}),s.jsx(n2,{children:s.jsx(oC,{})})]})}const cC=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(null),[l,d]=R.useState(null),u=R.useRef(null);R.useEffect(()=>{h()},[]);const h=async()=>{try{const w=localStorage.getItem("token"),j=await Ie.get("http://localhost:8080/api/orders",{headers:{Authorization:`Bearer ${w}`},params:{page:0,size:50}});e(j.data.data.content||[])}catch(w){console.error("Error fetching orders:",w)}finally{a(!1)}},g=w=>{switch(w){case"CONFIRMED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"DELIVERED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},x=(w,j)=>{j.stopPropagation(),d(w)},y=()=>{const w=u.current;if(!w)return;const j=window.open("","_blank");j&&(j.document.write(`
            <! DOCTYPE html>
            <html>
            <head>
                <title>Receipt - ${l==null?void 0:l.orderNumber}</title>
                <style>
                    * { margin: 0; padding: 0; box-sizing: border-box; }
                    body { 
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                        padding: 20px;
                        color: #333;
                    }
                    .receipt { max-width: 400px; margin: 0 auto; }
                    .header { text-align: center; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 2px dashed #ccc; }
                    .logo { font-size: 24px; font-weight: bold; color: #3b82f6; }
                    .order-info { margin-bottom: 20px; }
                    .order-info p { margin: 5px 0; font-size: 14px; }
                    .items { margin-bottom: 20px; }
                    .item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee; }
                    .item-name { font-weight: 500; }
                    .item-details { font-size: 12px; color: #666; }
                    .totals { border-top: 2px dashed #ccc; padding-top: 15px; margin-top: 15px; }
                    .total-row { display: flex; justify-content: space-between; margin:  8px 0; }
                    .grand-total { font-size: 18px; font-weight: bold; color: #16a34a; }
                    .footer { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 2px dashed #ccc; font-size: 12px; color: #666; }
                    @media print { body { padding: 0; } }
                </style>
            </head>
            <body>
                ${w.innerHTML}
            </body>
            </html>
        `),j.document.close(),j.print())},p=()=>{if(!l)return;const w=`

           MOUADVISION STORE
              RECEIPT


Order #:  ${l.orderNumber}
Date: ${new Date(l.orderDate).toLocaleString()}
Status: ${l.statusDescription||l.status}


CUSTOMER INFORMATION

Name: ${l.userName}
Email: ${l.userEmail}


ORDER ITEMS

${l.items.map(L=>`${L.productName}
 ASIN: ${L.productAsin}
 Qty: ${L.quantity} x $${L.unitPrice.toFixed(2)} = $${L.subtotal.toFixed(2)}`).join(`

`)}


SUBTOTAL:                  $${l.totalAmount.toFixed(2)}
TAX (0%):                 $0.00

TOTAL:                    $${l.totalAmount.toFixed(2)}


        Thank you for your purchase! 
          www.mouadvision.com

        `,j=new Blob([w],{type:"text/plain"}),k=URL.createObjectURL(j),C=document.createElement("a");C.href=k,C.download=`receipt-${l.orderNumber}.txt`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k)};return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"All Orders"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage and view all customer orders"})]}),t.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark: text-white mt-4",children:"No orders yet"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Orders will appear here when customers make purchases."})]}):s.jsx("div",{className:"space-y-4",children:t.map(w=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",onClick:()=>i(n===w.id?null:w.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:w.orderNumber}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[w.userName,"  ",w.userEmail]})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g(w.status)}`,children:w.statusDescription||w.status}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-green-600 dark: text-green-400",children:["$",w.totalAmount.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[w.totalItems," item(s)"]})]}),s.jsx("button",{onClick:j=>x(w,j),className:"p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View Receipt",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("svg",{className:`w-5 h-5 transition-transform ${n===w.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),n===w.id&&s.jsxs("div",{className:"border-t dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark: text-white",children:"Order Items"}),s.jsxs("button",{onClick:j=>x(w,j),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View Receipt"]})]}),s.jsx("div",{className:"space-y-3",children:w.items.map(j=>s.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-gray-800 p-3 rounded-lg",children:[s.jsx("img",{src:j.productImage||"https://via.placeholder.com/60",alt:j.productName,className:"w-16 h-16 object-contain rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:j.productName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ASIN: ",j.productAsin]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["$",j.unitPrice.toFixed(2),"  ",j.quantity]}),s.jsxs("p",{className:"text-green-600 font-bold",children:["$",j.subtotal.toFixed(2)]})]})]},j.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-gray-700 text-sm text-gray-500",children:[s.jsxs("p",{children:["Order Date: ",new Date(w.orderDate).toLocaleString()]}),w.confirmedAt&&s.jsxs("p",{children:["Confirmed: ",new Date(w.confirmedAt).toLocaleString()]})]})]})]},w.id))}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Receipt"}),s.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[60vh] p-6",ref:u,children:[s.jsxs("div",{className:"text-center mb-6 pb-6 border-b-2 border-dashed border-gray-300 dark:border-gray-600",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:"MouadVision"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Online Store"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"www.mouadvision.com"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Order #:"}),s.jsx("span",{className:"font-medium text-gray-900 dark: text-white",children:l.orderNumber})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Date:"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(l.orderDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Time:"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(l.orderDate).toLocaleTimeString()})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${g(l.status)}`,children:l.statusDescription||l.status})]})]}),s.jsxs("div",{className:"mb-6 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Customer"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:l.userName}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.userEmail})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark: text-white mb-3",children:"Items"}),s.jsx("div",{className:"space-y-3",children:l.items.map(w=>s.jsxs("div",{className:"flex justify-between text-sm pb-3 border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white line-clamp-1",children:w.productName}),s.jsxs("p",{className:"text-gray-500 dark: text-gray-400 text-xs",children:[w.quantity,"  $",w.unitPrice.toFixed(2)]})]}),s.jsxs("p",{className:"font-medium text-gray-900 dark:text-white ml-4",children:["$",w.subtotal.toFixed(2)]})]},w.id))})]}),s.jsxs("div",{className:"border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Subtotal"}),s.jsxs("span",{className:"text-gray-900 dark:text-white",children:["$",l.totalAmount.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tax"}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:"$0.00"})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Shipping"}),s.jsx("span",{className:"text-green-600 dark:text-green-400",children:"FREE"})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold mt-4 pt-4 border-t dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",l.totalAmount.toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 text-center",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Thank you for your purchase!"}),s.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-2",children:"Questions? Contact support@mouadvision.com"})]})]}),s.jsxs("div",{className:"flex gap-3 p-4 border-t dark:border-gray-700 bg-gray-50 dark: bg-gray-900/50",children:[s.jsxs("button",{onClick:p,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white font-medium rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),s.jsxs("button",{onClick:y,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print"]})]})]})})]})},dC=()=>{const t=Bi(),{isAuthenticated:e,user:r}=hn(),[a,n]=R.useState(!1);R.useEffect(()=>{const l=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const i=()=>{if(e&&r)switch(r.role){case"ADMIN":t("/admin");break;case"SELLER":t("/seller/dashboard");break;case"BUYER":t("/shop");break;default:t("/signin")}else t("/signup")};return s.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white overflow-x-hidden",children:[s.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a0a0f] via-[#0d1025] to-[#0a0a0f]"}),s.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[120px] animate-pulse"}),s.jsx("div",{className:"absolute top-[20%] right-[-10%] w-[600px] h-[600px] bg-blue-500/15 rounded-full blur-[150px] animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute bottom-[-10%] left-[30%] w-[700px] h-[700px] bg-blue-700/10 rounded-full blur-[180px] animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-radial from-blue-500/5 to-transparent rounded-full blur-[100px]"}),s.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`linear-gradient(rgba(59, 130, 246, 0.5) 1px, transparent 1px), 
                                          linear-gradient(90deg, rgba(59, 130, 246, 0.5) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})]}),s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${a?"bg-[#050508]/95 backdrop-blur-xl border-b border-blue-500/10":"bg-transparent"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-20",children:[s.jsxs(lt,{to:"/",className:"flex items-center gap-3",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"MouadVision",className:"h-10 w-auto"}),s.jsxs("span",{className:"text-xl font-bold text-white hidden sm:block",children:["Mouad",s.jsx("span",{className:"text-blue-400",children:"Vision"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[s.jsx(lt,{to:"/",className:"text-white font-medium hover:text-blue-400 transition-colors",children:"Home"}),s.jsx(lt,{to:"/explore",className:"text-blue-100/60 hover:text-white transition-colors",children:"Explore Shop"}),s.jsx(lt,{to:"/about",className:"text-blue-100/60 hover:text-white transition-colors",children:"About Us"})]}),s.jsx("div",{className:"flex items-center gap-3",children:e?s.jsx("button",{onClick:i,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl transition-all",children:"Dashboard "}):s.jsxs(s.Fragment,{children:[s.jsx(lt,{to:"/signin",className:"px-5 py-2.5 text-blue-100/70 hover:text-white font-medium transition-colors",children:"Sign In"}),s.jsx(lt,{to:"/signup",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl transition-all",children:"Get Started"})]})})]})})}),s.jsx("section",{className:"relative z-10 min-h-screen flex items-center justify-center pt-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg: px-8 text-center",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-500/10 border border-blue-500/20 rounded-full mb-10 backdrop-blur-sm",children:[s.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-green-400"})]}),s.jsx("span",{className:"text-blue-200 text-sm font-medium",children:"Start Shopping Today!"})]}),s.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black mb-8 leading-[1.1] tracking-tight",children:[s.jsx("span",{className:"text-white",children:"Discover"}),s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-blue-300 to-cyan-400 bg-clip-text text-transparent drop-shadow-[0_0_30px_rgba(59,130,246,0.5)]",children:"MouadVision Store"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-blue-100/60 max-w-3xl mx-auto mb-14 leading-relaxed font-light",children:["Your one-stop marketplace for quality electronics, fashion, and more.",s.jsx("br",{}),s.jsx("span",{className:"text-white font-medium",children:"Join thousands of happy customers"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-20",children:[s.jsxs(lt,{to:"/explore",className:"group px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold text-lg rounded-2xl hover:shadow-2xl hover:shadow-blue-500/40 transition-all transform hover:scale-105 flex items-center gap-3 border border-blue-400/30",children:["Explore Products",s.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),s.jsx(lt,{to:"/about",className:"px-8 py-4 bg-white/5 border border-blue-500/20 text-white font-semibold text-lg rounded-2xl hover:bg-blue-500/10 hover:border-blue-500/40 transition-all flex items-center gap-3 backdrop-blur-sm",children:"Learn More"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 max-w-4xl mx-auto",children:[{value:"+1K",label:"Products",color:"from-blue-500 to-blue-600"},{value:"+400",label:"Happy Customers",color:"from-blue-400 to-blue-500"},{value:"+50",label:"Verified Sellers",color:"from-blue-500 to-cyan-500"},{value:"4.3",label:"Average Rating",color:"from-cyan-500 to-blue-500"}].map(l=>s.jsxs("div",{className:"group relative p-6 bg-gradient-to-br from-blue-500/5 to-blue-600/5 rounded-2xl border border-blue-500/10 hover:border-blue-500/30 transition-all hover:scale-105 backdrop-blur-sm",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-transparent opacity-0 group-hover: opacity-100 rounded-2xl transition-opacity"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-3xl font-black text-white mb-1",children:l.value}),s.jsx("div",{className:"text-blue-300/60 text-sm font-medium",children:l.label})]})]}))})]})}),s.jsx("section",{className:"relative z-10 py-32",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("span",{className:"inline-block px-4 py-1.5 bg-blue-500/10 border border-blue-500/20 rounded-full text-blue-300 text-sm font-medium mb-4",children:"Why Choose Us"}),s.jsxs("h2",{className:"text-4xl md: text-5xl font-bold text-white mb-4",children:["The ",s.jsx("span",{className:"text-blue-400",children:"MouadVision"})," Advantage"]}),s.jsx("p",{className:"text-blue-100/50 text-lg max-w-2xl mx-auto",children:"We provide the best shopping experience with premium features and unmatched quality"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Secure Shopping",gradient:"from-blue-600 to-blue-700"},{title:"Fast Delivery",gradient:"from-blue-500 to-blue-600"},{title:"Quality Products",gradient:"from-blue-500 to-cyan-600"},{title:"Best Prices",gradient:"from-cyan-600 to-blue-600"},{title:"Trusted Sellers",gradient:"from-blue-600 to-blue-500"},{title:"24/7 Support",gradient:"from-blue-500 to-blue-600"}].map((l,d)=>s.jsxs("div",{className:"group relative p-8 bg-gradient-to-br from-[#0f1029] to-[#0a0a15] rounded-3xl border border-blue-500/10 hover:border-blue-500/30 transition-all hover: scale-[1.02] overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"relative",children:s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:l.title})})]},d))})]})}),s.jsx("section",{className:"relative z-10 py-32 bg-gradient-to-b from-transparent via-blue-900/5 to-transparent",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("span",{className:"inline-block px-4 py-1.5 bg-blue-500/10 border border-blue-500/20 rounded-full text-blue-300 text-sm font-medium mb-4",children:"Simple & Easy"}),s.jsx("h2",{className:"text-4xl md: text-5xl font-bold text-white mb-4",children:"How It Works"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[{step:"01",title:"Create Account",desc:"Sign up in seconds with just your email"},{step:"02",title:"Browse & Shop",desc:"Explore thousands of quality products"},{step:"03",title:"Checkout & Enjoy",desc:"Secure payment and fast delivery"}].map((l,d)=>s.jsxs("div",{className:"relative text-center",children:[s.jsx("span",{className:"text-blue-400 font-mono text-sm font-bold mb-2 block",children:l.step}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:l.title}),s.jsx("p",{className:"text-blue-100/50",children:l.desc})]},d))})]})}),s.jsx("section",{className:"relative z-10 py-32",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm: px-6 lg:px-8 text-center",children:s.jsxs("div",{className:"relative p-12 md:p-16 bg-gradient-to-br from-[#0f1029] to-[#0a0a15] rounded-3xl border border-blue-500/20 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 via-transparent to-blue-500/10"}),s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[100px]"}),s.jsxs("div",{className:"relative",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl text-blue-100/60 mb-10 max-w-xl mx-auto",children:"Join MouadVision today and discover amazing products from verified sellers worldwide."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(lt,{to:"/signup",className:"px-8 py-4 bg-white text-[#0a0a0f] font-bold text-lg rounded-2xl hover:shadow-2xl hover:shadow-white/20 transition-all transform hover:scale-105",children:"Create Free Account"}),s.jsx(lt,{to:"/explore",className:"px-8 py-4 border-2 border-blue-500/50 text-white font-semibold text-lg rounded-2xl hover:bg-blue-500/10 hover:border-blue-400 transition-all",children:"Browse as Guest"})]})]})]})})}),s.jsx("footer",{className:"relative z-10 py-12 border-t border-blue-500/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"MouadVision",className:"h-10 w-auto",onError:l=>{l.currentTarget.style.display="none"}}),s.jsxs("span",{className:"text-xl font-bold text-white",children:["Mouad",s.jsx("span",{className:"text-blue-400",children:"Vision"})]})]}),s.jsxs("div",{className:"flex items-center gap-8 text-blue-100/50",children:[s.jsx(lt,{to:"/about",className:"hover:text-white transition-colors",children:"About"}),s.jsx(lt,{to:"/explore",className:"hover: text-white transition-colors",children:"Shop"})]}),s.jsx("p",{className:"text-blue-100/30 text-sm",children:" 2025 MouadVision. All rights reserved."})]})})})]})},uC=()=>{const t=Bi(),{isAuthenticated:e,user:r}=hn(),[a,n]=R.useState([]),[i,l]=R.useState(!0),[d,u]=R.useState(""),[h,g]=R.useState("all"),[x,y]=R.useState(!1),[p,w]=R.useState([]);R.useEffect(()=>{j()},[]);const j=async()=>{var L,E,D,F,se;try{l(!0);const O=await Ie.get("http://localhost:8080/api/public/products",{params:{page:0,size:50}}),U=((E=(L=O.data)==null?void 0:L.data)==null?void 0:E.content)||((D=O.data)==null?void 0:D.data)||[];n(U);const T=[...new Set(U.map(W=>W.categoryName).filter(Boolean))];w(T)}catch(O){console.error("Error fetching products:",O);try{const T=((se=(F=(await Ie.get("http://localhost:8080/api/products",{params:{page:0,size:50}})).data)==null?void 0:F.data)==null?void 0:se.content)||[];n(T)}catch(U){console.error("Fallback also failed:",U)}}finally{l(!1)}},k=L=>{e?(r==null?void 0:r.role)==="BUYER"?t(`/shop/product/${L.asin}`):(r==null?void 0:r.role)==="SELLER"?t(`/seller/shop/product/${L.asin}`):t(`/shop/product/${L.asin}`):y(!0)},C=a.filter(L=>{var F,se;const E=((F=L.productName)==null?void 0:F.toLowerCase().includes(d.toLowerCase()))||((se=L.asin)==null?void 0:se.toLowerCase().includes(d.toLowerCase())),D=h==="all"||L.categoryName===h;return E&&D});return s.jsxs("div",{className:"min-h-screen bg-[#050508]",children:[s.jsx("nav",{className:"sticky top-0 z-50 bg-[#0a0a12]/95 backdrop-blur-xl border-b border-blue-500/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(lt,{to:"/",className:"flex items-center gap-3",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"MouadVision",className:"h-10 w-auto"}),s.jsxs("span",{className:"text-xl font-bold text-white",children:["Mouad",s.jsx("span",{className:"text-blue-400",children:"Vision"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[s.jsx(lt,{to:"/",className:"text-blue-100/60 hover:text-white transition-colors",children:"Home"}),s.jsx(lt,{to:"/explore",className:"text-white font-medium",children:"Shop"}),s.jsx(lt,{to:"/about",className:"text-blue-100/60 hover:text-white transition-colors",children:"About"})]}),s.jsx("div",{className:"flex items-center gap-4",children:e?s.jsx("button",{onClick:()=>{(r==null?void 0:r.role)==="ADMIN"?t("/admin"):(r==null?void 0:r.role)==="SELLER"?t("/seller/dashboard"):t("/shop")},className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl transition-all",children:"My Dashboard"}):s.jsxs(s.Fragment,{children:[s.jsx(lt,{to:"/signin",className:"text-blue-100/60 hover:text-white transition-colors",children:"Sign In"}),s.jsx(lt,{to:"/signup",className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl transition-all",children:"Sign Up"})]})})]})})}),s.jsx("div",{className:"bg-gradient-to-b from-blue-600/10 to-transparent border-b border-blue-500/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Explore Our Products"}),s.jsx("p",{className:"text-blue-100/50 text-lg",children:"Browse our collection of premium products. Sign in to add to cart and make purchases."})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-[#0a0a12] rounded-2xl p-4 border border-blue-500/10",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-blue-400/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:L=>u(L.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#050508] border border-blue-500/20 rounded-xl text-white placeholder-blue-100/30 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:h,onChange:L=>g(L.target.value),className:"px-4 py-3 bg-[#050508] border border-blue-500/20 rounded-xl text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Categories"}),p.map(L=>s.jsx("option",{value:L,children:L},L))]}),s.jsxs("p",{className:"text-blue-100/40",children:["Showing ",s.jsx("span",{className:"text-white font-semibold",children:C.length})," products"]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?s.jsx("div",{className:"flex justify-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500"})}):C.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No products found"}),s.jsx("p",{className:"text-blue-100/40",children:"Try adjusting your search or filters"})]}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[C.map(L=>{var E,D;return s.jsxs("div",{className:"group bg-[#0a0a12] rounded-2xl border border-blue-500/10 overflow-hidden hover:border-blue-500/30 transition-all",children:[s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-[#050508]",children:[L.imageUrl?s.jsx("img",{src:L.imageUrl,alt:L.productName,className:"w-full h-full object-cover group-hover: scale-110 transition-transform duration-500",onError:F=>{F.currentTarget.src="https://via.placeholder.com/300? text=No+Image"}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-blue-100/20",children:s.jsx("svg",{className:"w-20 h-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),L.categoryName&&s.jsx("span",{className:"absolute top-3 left-3 px-3 py-1 bg-blue-600/90 text-white text-xs font-medium rounded-full",children:L.categoryName}),L.stockQuantity===0&&s.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:s.jsx("span",{className:"px-4 py-2 bg-red-500 text-white font-bold rounded-lg",children:"OUT OF STOCK"})})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("h3",{className:"text-white font-semibold mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors",children:L.productName}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"text-white font-medium",children:((E=L.rating)==null?void 0:E.toFixed(1))||"0.0"})]}),s.jsx("span",{className:"text-blue-100/30",children:""}),s.jsxs("span",{className:"text-blue-100/40 text-sm",children:[L.reviewsCount||0," reviews"]})]}),L.sellerName&&s.jsxs("p",{className:"text-blue-100/30 text-sm mb-3",children:["Sold by: ",s.jsx("span",{className:"text-blue-100/50",children:L.sellerName})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-blue-500/10",children:[s.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["$",((D=L.price)==null?void 0:D.toFixed(2))||"0.00"]}),s.jsx("button",{onClick:()=>k(L),disabled:L.stockQuantity===0,className:`px-4 py-2 rounded-xl font-semibold transition-all ${L.stockQuantity===0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:L.stockQuantity===0?"Sold Out":"Buy Now"})]})]})]},L.asin)}),s.jsx(lt,{to:"/signup",className:"group bg-gradient-to-br from-blue-600/20 to-blue-500/5 rounded-2xl border-2 border-dashed border-blue-500/30 overflow-hidden hover:border-blue-400 hover:from-blue-600/30 hover:to-blue-500/10 transition-all flex flex-col items-center justify-center min-h-[400px] cursor-pointer",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-blue-600/20 rounded-full flex items-center justify-center group-hover:scale-110 group-hover:bg-blue-600/30 transition-all",children:s.jsx("svg",{className:"w-12 h-12 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Want to Browse More?"}),s.jsx("p",{className:"text-blue-100/50 mb-6 max-w-[200px] mx-auto",children:"Create a free account to unlock full access and start shopping!"}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl transition-all group-hover:shadow-lg group-hover:shadow-blue-500/25",children:[s.jsx("span",{children:"Sign Up Now"}),s.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),s.jsxs("div",{className:"mt-6 flex flex-col gap-2 text-sm text-blue-100/40",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-green-400",children:""}),s.jsx("span",{children:"Free account"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-green-400",children:""}),s.jsx("span",{children:"Secure checkout"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-green-400",children:""}),s.jsx("span",{children:"Order tracking"})]})]})]})})]})}),x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:s.jsx("div",{className:"bg-[#0a0a12] rounded-3xl p-8 max-w-md w-full mx-4 border border-blue-500/20 shadow-2xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Sign In Required"}),s.jsx("p",{className:"text-blue-100/50 mb-8",children:"Please sign in to your account to add items to cart and make purchases."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(lt,{to:"/signin",className:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl transition-all",children:"Sign In"}),s.jsx(lt,{to:"/signup",className:"w-full py-3 bg-blue-500/10 border border-blue-500/30 text-white font-semibold rounded-xl hover: bg-blue-500/20 transition-all",children:"Create Account"}),s.jsx("button",{onClick:()=>y(!1),className:"w-full py-3 text-blue-100/50 hover:text-white transition-colors",children:"Continue Browsing"})]})]})})}),s.jsx("footer",{className:"border-t border-blue-500/10 py-8 mt-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg: px-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"MouadVision",className:"h-8 w-auto"}),s.jsxs("span",{className:"font-bold text-white",children:["Mouad",s.jsx("span",{className:"text-blue-400",children:"Vision"})]})]}),s.jsx("p",{className:"text-blue-100/30 text-sm",children:" 2025 MouadVision. All rights reserved."})]})})]})},hC=()=>s.jsxs("div",{className:"min-h-screen bg-gray-950",children:[s.jsx("nav",{className:"sticky top-0 z-50 bg-gray-900/95 backdrop-blur-lg border-b border-white/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(lt,{to:"/",className:"flex items-center gap-3",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"MouadVision",className:"h-10 w-auto"}),s.jsxs("span",{className:"text-xl font-bold text-white hidden sm:block",children:["Mouad",s.jsx("span",{className:"text-blue-400",children:"Vision"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[s.jsx(lt,{to:"/",className:"text-gray-300 hover: text-white transition-colors",children:"Home"}),s.jsx(lt,{to:"/explore",className:"text-gray-300 hover:text-white transition-colors",children:"Shop"}),s.jsx(lt,{to:"/about",className:"text-white font-medium",children:"About"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(lt,{to:"/signin",className:"text-gray-300 hover: text-white transition-colors",children:"Sign In"}),s.jsx(lt,{to:"/signup",className:"px-5 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl",children:"Get Started"})]})]})})}),s.jsx("section",{className:"py-20 bg-gradient-to-b from-blue-600/10 to-transparent",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsxs("h1",{className:"text-5xl font-bold text-white mb-6",children:["About ",s.jsx("span",{className:"text-blue-400",children:"MouadVision"})]}),s.jsx("p",{className:"text-xl text-gray-400 leading-relaxed",children:"We are an online marketplace dedicated to connecting buyers with quality products from verified sellers around the world."})]})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg: px-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Our Mission"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-6",children:"At MouadVision, we believe everyone deserves access to quality products at fair prices. Our platform empowers sellers to reach a global audience while providing buyers with a secure shopping experience."}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"We're committed to innovation and customer satisfaction. Every feature we build is designed with you in mind."})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{title:"Our Vision",desc:"To be the most trusted marketplace globally"},{title:"Innovation",desc:"AI-powered search and recommendations"},{title:"Trust",desc:"Verified sellers and secure payments"},{title:"Global",desc:"Connecting buyers and sellers worldwide"}].map((t,e)=>s.jsxs("div",{className:"p-6 bg-gray-900/50 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:t.title}),s.jsx("p",{className:"text-gray-500 text-sm",children:t.desc})]},e))})]})})}),s.jsx("section",{className:"py-20 bg-gray-900/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-12",children:"The Founder"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[{name:"Mouad El Abbassi",role:"Founder & CEO",avatar:""}].map((t,e)=>s.jsxs("div",{className:"p-8 bg-gray-900/50 rounded-2xl border border-white/10 hover:border-blue-500/50 transition-all",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 text-4xl",children:t.avatar}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:t.name}),s.jsx("p",{className:"text-gray-500",children:t.role})]},e))})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Join thousands of happy customers and start shopping today!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(lt,{to:"/explore",className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-2xl hover:shadow-lg transition-all",children:"Start Shopping"}),s.jsx(lt,{to:"/signup",className:"px-8 py-4 border-2 border-white/20 text-white font-semibold rounded-2xl hover: bg-white/10 transition-all",children:"Create Account"})]})]})}),s.jsx("footer",{className:"border-t border-white/10 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-500",children:" 2025 MouadVision. All rights reserved."})})]}),fC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})}),gC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),mC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),pC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),xC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),bC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),yC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),vC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),wC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),NC=()=>s.jsx("svg",{className:"w-5 h-5 stroke-gray-700 dark:stroke-white",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),jC=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),kC=()=>{const{logout:t}=hn(),e=js(),r=Bi(),[a]=R.useState(!0),[n,i]=R.useState(!0),[l,d]=R.useState(!1);R.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const u=()=>{t(),r("/signin")},h=[{path:"/analyst",label:"Dashboard",icon:s.jsx(fC,{}),exact:!0},{path:"/analyst/sales",label:"Sales Analytics",icon:s.jsx(gC,{})},{path:"/analyst/products",label:"Product Analytics",icon:s.jsx(mC,{})},{path:"/analyst/sellers",label:"Seller Performance",icon:s.jsx(pC,{})},{path:"/analyst/categories",label:"Category Analysis",icon:s.jsx(bC,{})},{path:"/analyst/reports",label:"Reports & Export",icon:s.jsx(yC,{})},{path:"/analyst/predictions",label:"Analyse Prdictive",icon:s.jsx(xC,{})}],g=(x,y)=>e.pathname.startsWith(x);return s.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-950 flex",children:[s.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 ${a?"w-64":"w-20"} bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 transition-all duration-300 flex flex-col h-screen`,children:[s.jsx("div",{className:"h-16 flex items-center justify-center border-b border-gray-200 dark:border-gray-800 px-4",children:s.jsxs(lt,{to:"/analyst",className:"flex items-center gap-2",children:[s.jsx("img",{src:"/images/logo/logo.png",alt:"Logo",className:"w-10 h-10"}),a&&s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"MouadVision"})]})}),s.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[s.jsxs("div",{className:"mb-4",children:[a&&s.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 px-3",children:"Analytics"}),h.map(x=>s.jsx(lt,{to:x.path,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${e.pathname===x.path?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-neutral-300 hover:bg-gray-100 dark:hover:bg-neutral-800 hover:text-gray-900 dark:hover:text-white"}`,children:s.jsx("span",{children:x.label})},x.path))]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[a&&s.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 px-3",children:"Settings"}),s.jsxs(lt,{to:"/analyst/profile",className:`flex items-center ${a?"gap-3":"justify-center"} px-3 py-2.5 rounded-lg transition-all ${g("/analyst/profile")?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,title:a?void 0:"Profile",children:[s.jsx(vC,{}),a&&s.jsx("span",{className:"font-medium",children:"Profile"})]})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[s.jsxs("header",{className:"h-auto min-h-[4rem] bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-40",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-3 gap-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Data-driven insights for smarter decisions"})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>d(!l),className:"md:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("button",{onClick:()=>i(!n),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:n?s.jsx(NC,{}):s.jsx(jC,{})}),s.jsx("div",{className:"flex items-center gap-3 ml-2 pl-3 border-l border-gray-200 dark:border-gray-800",children:s.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Logout",children:[s.jsx(wC,{}),s.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})})]})]}),l&&s.jsx("div",{className:"md:hidden px-6 pb-3"})]}),s.jsx("main",{className:"flex-1 p-6 overflow-auto",children:s.jsx(pm,{})}),s.jsx("footer",{className:"h-12 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:" 2025 MouadVision Analytics.All rights reserved."})})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function rf(t){return t+.5|0}const Uc=(t,e,r)=>Math.max(Math.min(t,r),e);function S0(t){return Uc(rf(t*2.55),0,255)}function Wc(t){return Uc(rf(t*255),0,255)}function zl(t){return Uc(rf(t/2.55)/100,0,1)}function u5(t){return Uc(rf(t*100),0,100)}const Ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},m1=[..."0123456789ABCDEF"],SC=t=>m1[t&15],CC=t=>m1[(t&240)>>4]+m1[t&15],sg=t=>(t&240)>>4===(t&15),_C=t=>sg(t.r)&&sg(t.g)&&sg(t.b)&&sg(t.a);function AC(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Ai[t[1]]*17,g:255&Ai[t[2]]*17,b:255&Ai[t[3]]*17,a:e===5?Ai[t[4]]*17:255}:(e===7||e===9)&&(r={r:Ai[t[1]]<<4|Ai[t[2]],g:Ai[t[3]]<<4|Ai[t[4]],b:Ai[t[5]]<<4|Ai[t[6]],a:e===9?Ai[t[7]]<<4|Ai[t[8]]:255})),r}const LC=(t,e)=>t<255?e(t):"";function EC(t){var e=_C(t)?SC:CC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+LC(t.a,e):void 0}const MC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function T3(t,e,r){const a=e*Math.min(r,1-r),n=(i,l=(i+t/30)%12)=>r-a*Math.max(Math.min(l-3,9-l,1),-1);return[n(0),n(8),n(4)]}function RC(t,e,r){const a=(n,i=(n+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[a(5),a(3),a(1)]}function TC(t,e,r){const a=T3(t,1,.5);let n;for(e+r>1&&(n=1/(e+r),e*=n,r*=n),n=0;n<3;n++)a[n]*=1-e-r,a[n]+=e;return a}function PC(t,e,r,a,n){return t===n?(e-r)/a+(e<r?6:0):e===n?(r-t)/a+2:(t-e)/a+4}function l2(t){const r=t.r/255,a=t.g/255,n=t.b/255,i=Math.max(r,a,n),l=Math.min(r,a,n),d=(i+l)/2;let u,h,g;return i!==l&&(g=i-l,h=d>.5?g/(2-i-l):g/(i+l),u=PC(r,a,n,g,i),u=u*60+.5),[u|0,h||0,d]}function c2(t,e,r,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,a)).map(Wc)}function d2(t,e,r){return c2(T3,t,e,r)}function DC(t,e,r){return c2(TC,t,e,r)}function OC(t,e,r){return c2(RC,t,e,r)}function P3(t){return(t%360+360)%360}function FC(t){const e=MC.exec(t);let r=255,a;if(!e)return;e[5]!==a&&(r=e[6]?S0(+e[5]):Wc(+e[5]));const n=P3(+e[2]),i=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?a=DC(n,i,l):e[1]==="hsv"?a=OC(n,i,l):a=d2(n,i,l),{r:a[0],g:a[1],b:a[2],a:r}}function BC(t,e){var r=l2(t);r[0]=P3(r[0]+e),r=d2(r),t.r=r[0],t.g=r[1],t.b=r[2]}function zC(t){if(!t)return;const e=l2(t),r=e[0],a=u5(e[1]),n=u5(e[2]);return t.a<255?`hsla(${r}, ${a}%, ${n}%, ${zl(t.a)})`:`hsl(${r}, ${a}%, ${n}%)`}const h5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},f5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IC(){const t={},e=Object.keys(f5),r=Object.keys(h5);let a,n,i,l,d;for(a=0;a<e.length;a++){for(l=d=e[a],n=0;n<r.length;n++)i=r[n],d=d.replace(i,h5[i]);i=parseInt(f5[l],16),t[d]=[i>>16&255,i>>8&255,i&255]}return t}let ng;function UC(t){ng||(ng=IC(),ng.transparent=[0,0,0,0]);const e=ng[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qC(t){const e=HC.exec(t);let r=255,a,n,i;if(e){if(e[7]!==a){const l=+e[7];r=e[8]?S0(l):Uc(l*255,0,255)}return a=+e[1],n=+e[3],i=+e[5],a=255&(e[2]?S0(a):Uc(a,0,255)),n=255&(e[4]?S0(n):Uc(n,0,255)),i=255&(e[6]?S0(i):Uc(i,0,255)),{r:a,g:n,b:i,a:r}}}function VC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${zl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ix=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Wu=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $C(t,e,r){const a=Wu(zl(t.r)),n=Wu(zl(t.g)),i=Wu(zl(t.b));return{r:Wc(ix(a+r*(Wu(zl(e.r))-a))),g:Wc(ix(n+r*(Wu(zl(e.g))-n))),b:Wc(ix(i+r*(Wu(zl(e.b))-i))),a:t.a+r*(e.a-t.a)}}function ig(t,e,r){if(t){let a=l2(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*r,e===0?360:1)),a=d2(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function D3(t,e){return t&&Object.assign(e||{},t)}function g5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wc(t[3]))):(e=D3(t,{r:0,g:0,b:0,a:1}),e.a=Wc(e.a)),e}function WC(t){return t.charAt(0)==="r"?qC(t):FC(t)}class I0{constructor(e){if(e instanceof I0)return e;const r=typeof e;let a;r==="object"?a=g5(e):r==="string"&&(a=AC(e)||UC(e)||WC(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=D3(this._rgb);return e&&(e.a=zl(e.a)),e}set rgb(e){this._rgb=g5(e)}rgbString(){return this._valid?VC(this._rgb):void 0}hexString(){return this._valid?EC(this._rgb):void 0}hslString(){return this._valid?zC(this._rgb):void 0}mix(e,r){if(e){const a=this.rgb,n=e.rgb;let i;const l=r===i?.5:r,d=2*l-1,u=a.a-n.a,h=((d*u===-1?d:(d+u)/(1+d*u))+1)/2;i=1-h,a.r=255&h*a.r+i*n.r+.5,a.g=255&h*a.g+i*n.g+.5,a.b=255&h*a.b+i*n.b+.5,a.a=l*a.a+(1-l)*n.a,this.rgb=a}return this}interpolate(e,r){return e&&(this._rgb=$C(this._rgb,e._rgb,r)),this}clone(){return new I0(this.rgb)}alpha(e){return this._rgb.a=Wc(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=rf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ig(this._rgb,2,e),this}darken(e){return ig(this._rgb,2,-e),this}saturate(e){return ig(this._rgb,1,e),this}desaturate(e){return ig(this._rgb,1,-e),this}rotate(e){return BC(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ml(){}const YC=(()=>{let t=0;return()=>t++})();function jr(t){return t==null}function ma(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xr(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ns(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Vo(t,e){return Ns(t)?t:e}function $t(t,e){return typeof t>"u"?e:t}const GC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,O3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Bt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function gr(t,e,r,a){let n,i,l;if(ma(t))for(i=t.length,n=0;n<i;n++)e.call(r,t[n],n);else if(xr(t))for(l=Object.keys(t),i=l.length,n=0;n<i;n++)e.call(r,t[l[n]],l[n])}function tm(t,e){let r,a,n,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,a=t.length;r<a;++r)if(n=t[r],i=e[r],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function rm(t){if(ma(t))return t.map(rm);if(xr(t)){const e=Object.create(null),r=Object.keys(t),a=r.length;let n=0;for(;n<a;++n)e[r[n]]=rm(t[r[n]]);return e}return t}function F3(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function XC(t,e,r,a){if(!F3(t))return;const n=e[t],i=r[t];xr(n)&&xr(i)?U0(n,i,a):e[t]=rm(i)}function U0(t,e,r){const a=ma(e)?e:[e],n=a.length;if(!xr(t))return t;r=r||{};const i=r.merger||XC;let l;for(let d=0;d<n;++d){if(l=a[d],!xr(l))continue;const u=Object.keys(l);for(let h=0,g=u.length;h<g;++h)i(u[h],t,l,r)}return t}function E0(t,e){return U0(t,e,{merger:ZC})}function ZC(t,e,r){if(!F3(t))return;const a=e[t],n=r[t];xr(a)&&xr(n)?E0(a,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=rm(n))}const m5={"":t=>t,x:t=>t.x,y:t=>t.y};function QC(t){const e=t.split("."),r=[];let a="";for(const n of e)a+=n,a.endsWith("\\")?a=a.slice(0,-1)+".":(r.push(a),a="");return r}function KC(t){const e=QC(t);return r=>{for(const a of e){if(a==="")break;r=r&&r[a]}return r}}function Yc(t,e){return(m5[e]||(m5[e]=KC(e)))(t)}function u2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const H0=t=>typeof t<"u",Gc=t=>typeof t=="function",p5=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function JC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Er=Math.PI,ca=2*Er,e_=ca+Er,am=Number.POSITIVE_INFINITY,t_=Er/180,Va=Er/2,Ld=Er/4,x5=Er*2/3,B3=Math.log10,Ti=Math.sign;function Vd(t,e,r){return Math.abs(t-e)<r}function b5(t){const e=Math.round(t);t=Vd(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(B3(t))),a=t/r;return(a<=1?1:a<=2?2:a<=5?5:10)*r}function r_(t){const e=[],r=Math.sqrt(t);let a;for(a=1;a<r;a++)t%a===0&&(e.push(a),e.push(t/a));return r===(r|0)&&e.push(r),e.sort((n,i)=>n-i).pop(),e}function a_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function fh(t){return!a_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function s_(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function n_(t,e,r){let a,n,i;for(a=0,n=t.length;a<n;a++)i=t[a][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Ko(t){return t*(Er/180)}function h2(t){return t*(180/Er)}function y5(t){if(!Ns(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function z3(t,e){const r=e.x-t.x,a=e.y-t.y,n=Math.sqrt(r*r+a*a);let i=Math.atan2(a,r);return i<-.5*Er&&(i+=ca),{angle:i,distance:n}}function p1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function i_(t,e){return(t-e+e_)%ca-Er}function ln(t){return(t%ca+ca)%ca}function q0(t,e,r,a){const n=ln(t),i=ln(e),l=ln(r),d=ln(i-n),u=ln(l-n),h=ln(n-i),g=ln(n-l);return n===i||n===l||a&&i===l||d>u&&h<g}function dn(t,e,r){return Math.max(e,Math.min(r,t))}function o_(t){return dn(t,-32768,32767)}function Ul(t,e,r,a=1e-6){return t>=Math.min(e,r)-a&&t<=Math.max(e,r)+a}function f2(t,e,r){r=r||(l=>t[l]<e);let a=t.length-1,n=0,i;for(;a-n>1;)i=n+a>>1,r(i)?n=i:a=i;return{lo:n,hi:a}}const Ud=(t,e,r,a)=>f2(t,r,a?n=>{const i=t[n][e];return i<r||i===r&&t[n+1][e]===r}:n=>t[n][e]<r),l_=(t,e,r)=>f2(t,r,a=>t[a][e]>=r);function c_(t,e,r){let a=0,n=t.length;for(;a<n&&t[a]<e;)a++;for(;n>a&&t[n-1]>r;)n--;return a>0||n<t.length?t.slice(a,n):t}const I3=["push","pop","shift","splice","unshift"];function d_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),I3.forEach(r=>{const a="_onData"+u2(r),n=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const l=n.apply(this,i);return t._chartjs.listeners.forEach(d=>{typeof d[a]=="function"&&d[a](...i)}),l}})})}function v5(t,e){const r=t._chartjs;if(!r)return;const a=r.listeners,n=a.indexOf(e);n!==-1&&a.splice(n,1),!(a.length>0)&&(I3.forEach(i=>{delete t[i]}),delete t._chartjs)}function U3(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const H3=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function q3(t,e){let r=[],a=!1;return function(...n){r=n,a||(a=!0,H3.call(window,()=>{a=!1,t.apply(e,r)}))}}function u_(t,e){let r;return function(...a){return e?(clearTimeout(r),r=setTimeout(t,e,a)):t.apply(this,a),e}}const g2=t=>t==="start"?"left":t==="end"?"right":"center",on=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,h_=(t,e,r,a)=>t===(a?"left":"right")?r:t==="center"?(e+r)/2:e;function V3(t,e,r){const a=e.length;let n=0,i=a;if(t._sorted){const{iScale:l,vScale:d,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,g=l.axis,{min:x,max:y,minDefined:p,maxDefined:w}=l.getUserBounds();if(p){if(n=Math.min(Ud(u,g,x).lo,r?a:Ud(e,g,l.getPixelForValue(x)).lo),h){const j=u.slice(0,n+1).reverse().findIndex(k=>!jr(k[d.axis]));n-=Math.max(0,j)}n=dn(n,0,a-1)}if(w){let j=Math.max(Ud(u,l.axis,y,!0).hi+1,r?0:Ud(e,g,l.getPixelForValue(y),!0).hi+1);if(h){const k=u.slice(j-1).findIndex(C=>!jr(C[d.axis]));j+=Math.max(0,k)}i=dn(j,n,a)-n}else i=a-n}return{start:n,count:i}}function $3(t){const{xScale:e,yScale:r,_scaleRanges:a}=t,n={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!a)return t._scaleRanges=n,!0;const i=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==r.min||a.ymax!==r.max;return Object.assign(a,n),i}const og=t=>t===0||t===1,w5=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ca/r)),N5=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ca/r)+1,M0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Va)+1,easeOutSine:t=>Math.sin(t*Va),easeInOutSine:t=>-.5*(Math.cos(Er*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>og(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>og(t)?t:w5(t,.075,.3),easeOutElastic:t=>og(t)?t:N5(t,.075,.3),easeInOutElastic(t){return og(t)?t:t<.5?.5*w5(t*2,.1125,.45):.5+.5*N5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-M0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?M0.easeInBounce(t*2)*.5:M0.easeOutBounce(t*2-1)*.5+.5};function m2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function j5(t){return m2(t)?t:new I0(t)}function ox(t){return m2(t)?t:new I0(t).saturate(.5).darken(.1).hexString()}const f_=["x","y","borderWidth","radius","tension"],g_=["color","borderColor","backgroundColor"];function m_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:g_},numbers:{type:"number",properties:f_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function p_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const k5=new Map;function x_(t,e){e=e||{};const r=t+JSON.stringify(e);let a=k5.get(r);return a||(a=new Intl.NumberFormat(t,e),k5.set(r,a)),a}function p2(t,e,r){return x_(e,r).format(t)}const b_={values(t){return ma(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const a=this.chart.options.locale;let n,i=t;if(r.length>1){const h=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(h<1e-4||h>1e15)&&(n="scientific"),i=y_(t,r)}const l=B3(Math.abs(i)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:n,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(u,this.options.ticks.format),p2(t,a,u)}};function y_(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var x2={formatters:b_};function v_(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:x2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Xd=Object.create(null),x1=Object.create(null);function R0(t,e){if(!e)return t;const r=e.split(".");for(let a=0,n=r.length;a<n;++a){const i=r[a];t=t[i]||(t[i]=Object.create(null))}return t}function lx(t,e,r){return typeof e=="string"?U0(R0(t,e),r):U0(R0(t,""),e)}class w_{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,n)=>ox(n.backgroundColor),this.hoverBorderColor=(a,n)=>ox(n.borderColor),this.hoverColor=(a,n)=>ox(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return lx(this,e,r)}get(e){return R0(this,e)}describe(e,r){return lx(x1,e,r)}override(e,r){return lx(Xd,e,r)}route(e,r,a,n){const i=R0(this,e),l=R0(this,a),d="_"+r;Object.defineProperties(i,{[d]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const u=this[d],h=l[n];return xr(u)?Object.assign({},h,u):$t(u,h)},set(u){this[d]=u}}})}apply(e){e.forEach(r=>r(this))}}var Da=new w_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[m_,p_,v_]);function N_(t){return!t||jr(t.size)||jr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function sm(t,e,r,a,n){let i=e[n];return i||(i=e[n]=t.measureText(n).width,r.push(n)),i>a&&(a=i),a}function j_(t,e,r,a){a=a||{};let n=a.data=a.data||{},i=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(n=a.data={},i=a.garbageCollect=[],a.font=e),t.save(),t.font=e;let l=0;const d=r.length;let u,h,g,x,y;for(u=0;u<d;u++)if(x=r[u],x!=null&&!ma(x))l=sm(t,n,i,l,x);else if(ma(x))for(h=0,g=x.length;h<g;h++)y=x[h],y!=null&&!ma(y)&&(l=sm(t,n,i,l,y));t.restore();const p=i.length/2;if(p>r.length){for(u=0;u<p;u++)delete n[i[u]];i.splice(0,p)}return l}function Ed(t,e,r){const a=t.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((e-n)*a)/a+n}function S5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function b1(t,e,r,a){W3(t,e,r,a,null)}function W3(t,e,r,a,n){let i,l,d,u,h,g,x,y;const p=e.pointStyle,w=e.rotation,j=e.radius;let k=(w||0)*t_;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,a),t.rotate(k),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(j)||j<=0)){switch(t.beginPath(),p){default:n?t.ellipse(r,a,n/2,j,0,0,ca):t.arc(r,a,j,0,ca),t.closePath();break;case"triangle":g=n?n/2:j,t.moveTo(r+Math.sin(k)*g,a-Math.cos(k)*j),k+=x5,t.lineTo(r+Math.sin(k)*g,a-Math.cos(k)*j),k+=x5,t.lineTo(r+Math.sin(k)*g,a-Math.cos(k)*j),t.closePath();break;case"rectRounded":h=j*.516,u=j-h,l=Math.cos(k+Ld)*u,x=Math.cos(k+Ld)*(n?n/2-h:u),d=Math.sin(k+Ld)*u,y=Math.sin(k+Ld)*(n?n/2-h:u),t.arc(r-x,a-d,h,k-Er,k-Va),t.arc(r+y,a-l,h,k-Va,k),t.arc(r+x,a+d,h,k,k+Va),t.arc(r-y,a+l,h,k+Va,k+Er),t.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*j,g=n?n/2:u,t.rect(r-g,a-u,2*g,2*u);break}k+=Ld;case"rectRot":x=Math.cos(k)*(n?n/2:j),l=Math.cos(k)*j,d=Math.sin(k)*j,y=Math.sin(k)*(n?n/2:j),t.moveTo(r-x,a-d),t.lineTo(r+y,a-l),t.lineTo(r+x,a+d),t.lineTo(r-y,a+l),t.closePath();break;case"crossRot":k+=Ld;case"cross":x=Math.cos(k)*(n?n/2:j),l=Math.cos(k)*j,d=Math.sin(k)*j,y=Math.sin(k)*(n?n/2:j),t.moveTo(r-x,a-d),t.lineTo(r+x,a+d),t.moveTo(r+y,a-l),t.lineTo(r-y,a+l);break;case"star":x=Math.cos(k)*(n?n/2:j),l=Math.cos(k)*j,d=Math.sin(k)*j,y=Math.sin(k)*(n?n/2:j),t.moveTo(r-x,a-d),t.lineTo(r+x,a+d),t.moveTo(r+y,a-l),t.lineTo(r-y,a+l),k+=Ld,x=Math.cos(k)*(n?n/2:j),l=Math.cos(k)*j,d=Math.sin(k)*j,y=Math.sin(k)*(n?n/2:j),t.moveTo(r-x,a-d),t.lineTo(r+x,a+d),t.moveTo(r+y,a-l),t.lineTo(r-y,a+l);break;case"line":l=n?n/2:Math.cos(k)*j,d=Math.sin(k)*j,t.moveTo(r-l,a-d),t.lineTo(r+l,a+d);break;case"dash":t.moveTo(r,a),t.lineTo(r+Math.cos(k)*(n?n/2:j),a+Math.sin(k)*j);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Jo(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function km(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Sm(t){t.restore()}function k_(t,e,r,a,n){if(!e)return t.lineTo(r.x,r.y);if(n==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else n==="after"!=!!a?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function S_(t,e,r,a){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?r.cp2x:r.cp1x,a?r.cp2y:r.cp1y,r.x,r.y)}function C_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),jr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function __(t,e,r,a,n){if(n.strikethrough||n.underline){const i=t.measureText(a),l=e-i.actualBoundingBoxLeft,d=e+i.actualBoundingBoxRight,u=r-i.actualBoundingBoxAscent,h=r+i.actualBoundingBoxDescent,g=n.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(l,g),t.lineTo(d,g),t.stroke()}}function A_(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Zd(t,e,r,a,n,i={}){const l=ma(e)?e:[e],d=i.strokeWidth>0&&i.strokeColor!=="";let u,h;for(t.save(),t.font=n.string,C_(t,i),u=0;u<l.length;++u)h=l[u],i.backdrop&&A_(t,i.backdrop),d&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),jr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,r,a,i.maxWidth)),t.fillText(h,r,a,i.maxWidth),__(t,r,a,h,i),a+=Number(n.lineHeight);t.restore()}function V0(t,e){const{x:r,y:a,w:n,h:i,radius:l}=e;t.arc(r+l.topLeft,a+l.topLeft,l.topLeft,1.5*Er,Er,!0),t.lineTo(r,a+i-l.bottomLeft),t.arc(r+l.bottomLeft,a+i-l.bottomLeft,l.bottomLeft,Er,Va,!0),t.lineTo(r+n-l.bottomRight,a+i),t.arc(r+n-l.bottomRight,a+i-l.bottomRight,l.bottomRight,Va,0,!0),t.lineTo(r+n,a+l.topRight),t.arc(r+n-l.topRight,a+l.topRight,l.topRight,0,-Va,!0),t.lineTo(r+l.topLeft,a)}const L_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,E_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function M_(t,e){const r=(""+t).match(L_);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const R_=t=>+t||0;function b2(t,e){const r={},a=xr(e),n=a?Object.keys(e):e,i=xr(t)?a?l=>$t(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of n)r[l]=R_(i(l));return r}function Y3(t){return b2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function $d(t){return b2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function un(t){const e=Y3(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function os(t,e){t=t||{},e=e||Da.font;let r=$t(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let a=$t(t.style,e.style);a&&!(""+a).match(E_)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const n={family:$t(t.family,e.family),lineHeight:M_($t(t.lineHeight,e.lineHeight),r),size:r,style:a,weight:$t(t.weight,e.weight),string:""};return n.string=N_(n),n}function lg(t,e,r,a){let n,i,l;for(n=0,i=t.length;n<i;++n)if(l=t[n],l!==void 0&&l!==void 0)return l}function T_(t,e,r){const{min:a,max:n}=t,i=O3(e,(n-a)/2),l=(d,u)=>r&&d===0?0:d+u;return{min:l(a,-Math.abs(i)),max:l(n,i)}}function Qc(t,e){return Object.assign(Object.create(t),e)}function y2(t,e=[""],r,a,n=()=>t[0]){const i=r||t;typeof a>"u"&&(a=Q3("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:a,_getTarget:n,override:d=>y2([d,...t],e,i,a)};return new Proxy(l,{deleteProperty(d,u){return delete d[u],delete d._keys,delete t[0][u],!0},get(d,u){return X3(d,u,()=>U_(u,e,t,d))},getOwnPropertyDescriptor(d,u){return Reflect.getOwnPropertyDescriptor(d._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,u){return _5(d).includes(u)},ownKeys(d){return _5(d)},set(d,u,h){const g=d._storage||(d._storage=n());return d[u]=g[u]=h,delete d._keys,!0}})}function gh(t,e,r,a){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:G3(t,a),setContext:i=>gh(t,i,r,a),override:i=>gh(t.override(i),e,r,a)};return new Proxy(n,{deleteProperty(i,l){return delete i[l],delete t[l],!0},get(i,l,d){return X3(i,l,()=>D_(i,l,d))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(i,l,d){return t[l]=d,delete i[l],!0}})}function G3(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:a=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:r,indexable:a,isScriptable:Gc(r)?r:()=>r,isIndexable:Gc(a)?a:()=>a}}const P_=(t,e)=>t?t+u2(e):e,v2=(t,e)=>xr(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function X3(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const a=r();return t[e]=a,a}function D_(t,e,r){const{_proxy:a,_context:n,_subProxy:i,_descriptors:l}=t;let d=a[e];return Gc(d)&&l.isScriptable(e)&&(d=O_(e,d,t,r)),ma(d)&&d.length&&(d=F_(e,d,t,l.isIndexable)),v2(e,d)&&(d=gh(d,n,i&&i[e],l)),d}function O_(t,e,r,a){const{_proxy:n,_context:i,_subProxy:l,_stack:d}=r;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let u=e(i,l||a);return d.delete(t),v2(t,u)&&(u=w2(n._scopes,n,t,u)),u}function F_(t,e,r,a){const{_proxy:n,_context:i,_subProxy:l,_descriptors:d}=r;if(typeof i.index<"u"&&a(t))return e[i.index%e.length];if(xr(e[0])){const u=e,h=n._scopes.filter(g=>g!==u);e=[];for(const g of u){const x=w2(h,n,t,g);e.push(gh(x,i,l&&l[t],d))}}return e}function Z3(t,e,r){return Gc(t)?t(e,r):t}const B_=(t,e)=>t===!0?e:typeof t=="string"?Yc(e,t):void 0;function z_(t,e,r,a,n){for(const i of e){const l=B_(r,i);if(l){t.add(l);const d=Z3(l._fallback,r,n);if(typeof d<"u"&&d!==r&&d!==a)return d}else if(l===!1&&typeof a<"u"&&r!==a)return null}return!1}function w2(t,e,r,a){const n=e._rootScopes,i=Z3(e._fallback,r,a),l=[...t,...n],d=new Set;d.add(a);let u=C5(d,l,r,i||r,a);return u===null||typeof i<"u"&&i!==r&&(u=C5(d,l,i,u,a),u===null)?!1:y2(Array.from(d),[""],n,i,()=>I_(e,r,a))}function C5(t,e,r,a,n){for(;r;)r=z_(t,e,r,a,n);return r}function I_(t,e,r){const a=t._getTarget();e in a||(a[e]={});const n=a[e];return ma(n)&&xr(r)?r:n||{}}function U_(t,e,r,a){let n;for(const i of e)if(n=Q3(P_(i,t),r),typeof n<"u")return v2(t,n)?w2(r,a,t,n):n}function Q3(t,e){for(const r of e){if(!r)continue;const a=r[t];if(typeof a<"u")return a}}function _5(t){let e=t._keys;return e||(e=t._keys=H_(t._scopes)),e}function H_(t){const e=new Set;for(const r of t)for(const a of Object.keys(r).filter(n=>!n.startsWith("_")))e.add(a);return Array.from(e)}function q_(t,e,r,a){const{iScale:n}=t,{key:i="r"}=this._parsing,l=new Array(a);let d,u,h,g;for(d=0,u=a;d<u;++d)h=d+r,g=e[h],l[d]={r:n.parse(Yc(g,i),h)};return l}const V_=Number.EPSILON||1e-14,mh=(t,e)=>e<t.length&&!t[e].skip&&t[e],K3=t=>t==="x"?"y":"x";function $_(t,e,r,a){const n=t.skip?e:t,i=e,l=r.skip?e:r,d=p1(i,n),u=p1(l,i);let h=d/(d+u),g=u/(d+u);h=isNaN(h)?0:h,g=isNaN(g)?0:g;const x=a*h,y=a*g;return{previous:{x:i.x-x*(l.x-n.x),y:i.y-x*(l.y-n.y)},next:{x:i.x+y*(l.x-n.x),y:i.y+y*(l.y-n.y)}}}function W_(t,e,r){const a=t.length;let n,i,l,d,u,h=mh(t,0);for(let g=0;g<a-1;++g)if(u=h,h=mh(t,g+1),!(!u||!h)){if(Vd(e[g],0,V_)){r[g]=r[g+1]=0;continue}n=r[g]/e[g],i=r[g+1]/e[g],d=Math.pow(n,2)+Math.pow(i,2),!(d<=9)&&(l=3/Math.sqrt(d),r[g]=n*l*e[g],r[g+1]=i*l*e[g])}}function Y_(t,e,r="x"){const a=K3(r),n=t.length;let i,l,d,u=mh(t,0);for(let h=0;h<n;++h){if(l=d,d=u,u=mh(t,h+1),!d)continue;const g=d[r],x=d[a];l&&(i=(g-l[r])/3,d[`cp1${r}`]=g-i,d[`cp1${a}`]=x-i*e[h]),u&&(i=(u[r]-g)/3,d[`cp2${r}`]=g+i,d[`cp2${a}`]=x+i*e[h])}}function G_(t,e="x"){const r=K3(e),a=t.length,n=Array(a).fill(0),i=Array(a);let l,d,u,h=mh(t,0);for(l=0;l<a;++l)if(d=u,u=h,h=mh(t,l+1),!!u){if(h){const g=h[e]-u[e];n[l]=g!==0?(h[r]-u[r])/g:0}i[l]=d?h?Ti(n[l-1])!==Ti(n[l])?0:(n[l-1]+n[l])/2:n[l-1]:n[l]}W_(t,n,i),Y_(t,i,e)}function cg(t,e,r){return Math.max(Math.min(t,r),e)}function X_(t,e){let r,a,n,i,l,d=Jo(t[0],e);for(r=0,a=t.length;r<a;++r)l=i,i=d,d=r<a-1&&Jo(t[r+1],e),i&&(n=t[r],l&&(n.cp1x=cg(n.cp1x,e.left,e.right),n.cp1y=cg(n.cp1y,e.top,e.bottom)),d&&(n.cp2x=cg(n.cp2x,e.left,e.right),n.cp2y=cg(n.cp2y,e.top,e.bottom)))}function Z_(t,e,r,a,n){let i,l,d,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")G_(t,n);else{let h=a?t[t.length-1]:t[0];for(i=0,l=t.length;i<l;++i)d=t[i],u=$_(h,d,t[Math.min(i+1,l-(a?0:1))%l],e.tension),d.cp1x=u.previous.x,d.cp1y=u.previous.y,d.cp2x=u.next.x,d.cp2y=u.next.y,h=d}e.capBezierPoints&&X_(t,r)}function N2(){return typeof window<"u"&&typeof document<"u"}function j2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function nm(t,e,r){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*e.parentNode[r])):a=t,a}const Cm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Q_(t,e){return Cm(t).getPropertyValue(e)}const K_=["top","right","bottom","left"];function Wd(t,e,r){const a={};r=r?"-"+r:"";for(let n=0;n<4;n++){const i=K_[n];a[i]=parseFloat(t[e+"-"+i+r])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const J_=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function eA(t,e){const r=t.touches,a=r&&r.length?r[0]:t,{offsetX:n,offsetY:i}=a;let l=!1,d,u;if(J_(n,i,t.target))d=n,u=i;else{const h=e.getBoundingClientRect();d=a.clientX-h.left,u=a.clientY-h.top,l=!0}return{x:d,y:u,box:l}}function Qo(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:a}=e,n=Cm(r),i=n.boxSizing==="border-box",l=Wd(n,"padding"),d=Wd(n,"border","width"),{x:u,y:h,box:g}=eA(t,r),x=l.left+(g&&d.left),y=l.top+(g&&d.top);let{width:p,height:w}=e;return i&&(p-=l.width+d.width,w-=l.height+d.height),{x:Math.round((u-x)/p*r.width/a),y:Math.round((h-y)/w*r.height/a)}}function tA(t,e,r){let a,n;if(e===void 0||r===void 0){const i=t&&j2(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const l=i.getBoundingClientRect(),d=Cm(i),u=Wd(d,"border","width"),h=Wd(d,"padding");e=l.width-h.width-u.width,r=l.height-h.height-u.height,a=nm(d.maxWidth,i,"clientWidth"),n=nm(d.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:a||am,maxHeight:n||am}}const Hc=t=>Math.round(t*10)/10;function rA(t,e,r,a){const n=Cm(t),i=Wd(n,"margin"),l=nm(n.maxWidth,t,"clientWidth")||am,d=nm(n.maxHeight,t,"clientHeight")||am,u=tA(t,e,r);let{width:h,height:g}=u;if(n.boxSizing==="content-box"){const y=Wd(n,"border","width"),p=Wd(n,"padding");h-=p.width+y.width,g-=p.height+y.height}return h=Math.max(0,h-i.width),g=Math.max(0,a?h/a:g-i.height),h=Hc(Math.min(h,l,u.maxWidth)),g=Hc(Math.min(g,d,u.maxHeight)),h&&!g&&(g=Hc(h/2)),(e!==void 0||r!==void 0)&&a&&u.height&&g>u.height&&(g=u.height,h=Hc(Math.floor(g*a))),{width:h,height:g}}function A5(t,e,r){const a=e||1,n=Hc(t.height*a),i=Hc(t.width*a);t.height=Hc(t.height),t.width=Hc(t.width);const l=t.canvas;return l.style&&(r||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||l.height!==n||l.width!==i?(t.currentDevicePixelRatio=a,l.height=n,l.width=i,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const aA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};N2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function L5(t,e){const r=Q_(t,e),a=r&&r.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Od(t,e,r,a){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function sA(t,e,r,a){return{x:t.x+r*(e.x-t.x),y:a==="middle"?r<.5?t.y:e.y:a==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function nA(t,e,r,a){const n={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},l=Od(t,n,r),d=Od(n,i,r),u=Od(i,e,r),h=Od(l,d,r),g=Od(d,u,r);return Od(h,g,r)}const iA=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,a){return r-a},leftForLtr(r,a){return r-a}}},oA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ih(t,e,r){return t?iA(e,r):oA()}function J3(t,e){let r,a;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,a=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=a)}function eN(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function tN(t){return t==="angle"?{between:q0,compare:i_,normalize:ln}:{between:Ul,compare:(e,r)=>e-r,normalize:e=>e}}function E5({start:t,end:e,count:r,loop:a,style:n}){return{start:t%r,end:e%r,loop:a&&(e-t+1)%r===0,style:n}}function lA(t,e,r){const{property:a,start:n,end:i}=r,{between:l,normalize:d}=tN(a),u=e.length;let{start:h,end:g,loop:x}=t,y,p;if(x){for(h+=u,g+=u,y=0,p=u;y<p&&l(d(e[h%u][a]),n,i);++y)h--,g--;h%=u,g%=u}return g<h&&(g+=u),{start:h,end:g,loop:x,style:t.style}}function rN(t,e,r){if(!r)return[t];const{property:a,start:n,end:i}=r,l=e.length,{compare:d,between:u,normalize:h}=tN(a),{start:g,end:x,loop:y,style:p}=lA(t,e,r),w=[];let j=!1,k=null,C,L,E;const D=()=>u(n,E,C)&&d(n,E)!==0,F=()=>d(i,C)===0||u(i,E,C),se=()=>j||D(),O=()=>!j||F();for(let U=g,T=g;U<=x;++U)L=e[U%l],!L.skip&&(C=h(L[a]),C!==E&&(j=u(C,n,i),k===null&&se()&&(k=d(C,n)===0?U:T),k!==null&&O()&&(w.push(E5({start:k,end:U,loop:y,count:l,style:p})),k=null),T=U,E=C));return k!==null&&w.push(E5({start:k,end:x,loop:y,count:l,style:p})),w}function aN(t,e){const r=[],a=t.segments;for(let n=0;n<a.length;n++){const i=rN(a[n],t.points,e);i.length&&r.push(...i)}return r}function cA(t,e,r,a){let n=0,i=e-1;if(r&&!a)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,r&&(i+=n);i>n&&t[i%e].skip;)i--;return i%=e,{start:n,end:i}}function dA(t,e,r,a){const n=t.length,i=[];let l=e,d=t[e],u;for(u=e+1;u<=r;++u){const h=t[u%n];h.skip||h.stop?d.skip||(a=!1,i.push({start:e%n,end:(u-1)%n,loop:a}),e=l=h.stop?u:null):(l=u,d.skip&&(e=u)),d=h}return l!==null&&i.push({start:e%n,end:l%n,loop:a}),i}function uA(t,e){const r=t.points,a=t.options.spanGaps,n=r.length;if(!n)return[];const i=!!t._loop,{start:l,end:d}=cA(r,n,i,a);if(a===!0)return M5(t,[{start:l,end:d,loop:i}],r,e);const u=d<l?d+n:d,h=!!t._fullLoop&&l===0&&d===n-1;return M5(t,dA(r,l,u,h),r,e)}function M5(t,e,r,a){return!a||!a.setContext||!r?e:hA(t,e,r,a)}function hA(t,e,r,a){const n=t._chart.getContext(),i=R5(t.options),{_datasetIndex:l,options:{spanGaps:d}}=t,u=r.length,h=[];let g=i,x=e[0].start,y=x;function p(w,j,k,C){const L=d?-1:1;if(w!==j){for(w+=u;r[w%u].skip;)w-=L;for(;r[j%u].skip;)j+=L;w%u!==j%u&&(h.push({start:w%u,end:j%u,loop:k,style:C}),g=C,x=j%u)}}for(const w of e){x=d?x:w.start;let j=r[x%u],k;for(y=x+1;y<=w.end;y++){const C=r[y%u];k=R5(a.setContext(Qc(n,{type:"segment",p0:j,p1:C,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:l}))),fA(k,g)&&p(x,y-1,w.loop,g),j=C,g=k}x<y-1&&p(x,y-1,w.loop,g)}return h}function R5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function fA(t,e){if(!e)return!1;const r=[],a=function(n,i){return m2(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,a)!==JSON.stringify(e,a)}function dg(t,e,r){return t.options.clip?t[r]:e[r]}function gA(t,e){const{xScale:r,yScale:a}=t;return r&&a?{left:dg(r,e,"left"),right:dg(r,e,"right"),top:dg(a,e,"top"),bottom:dg(a,e,"bottom")}:e}function sN(t,e){const r=e._clip;if(r.disabled)return!1;const a=gA(e,t.chartArea);return{left:r.left===!1?0:a.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:a.right+(r.right===!0?0:r.right),top:r.top===!1?0:a.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:a.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,a,n){const i=r.listeners[n],l=r.duration;i.forEach(d=>d({chart:e,initial:r.initial,numSteps:l,currentStep:Math.min(a-r.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=H3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((a,n)=>{if(!a.running||!a.items.length)return;const i=a.items;let l=i.length-1,d=!1,u;for(;l>=0;--l)u=i[l],u._active?(u._total>a.duration&&(a.duration=u._total),u.tick(e),d=!0):(i[l]=i[i.length-1],i.pop());d&&(n.draw(),this._notify(n,a,e,"progress")),i.length||(a.running=!1,this._notify(n,a,e,"complete"),a.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let a=r.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,a)),a}listen(e,r,a){this._getAnims(e).listeners[r].push(a)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((a,n)=>Math.max(a,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const a=r.items;let n=a.length-1;for(;n>=0;--n)a[n].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Fl=new mA;const T5="transparent",pA={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const a=j5(t||T5),n=a.valid&&j5(e||T5);return n&&n.valid?n.mix(a,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class xA{constructor(e,r,a,n){const i=r[a];n=lg([e.to,n,i,e.from]);const l=lg([e.from,i,n]);this._active=!0,this._fn=e.fn||pA[e.type||typeof l],this._easing=M0[e.easing]||M0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=a,this._from=l,this._to=n,this._promises=void 0}active(){return this._active}update(e,r,a){if(this._active){this._notify(!1);const n=this._target[this._prop],i=a-this._start,l=this._duration-i;this._start=a,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=lg([e.to,r,n,e.from]),this._from=lg([e.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,a=this._duration,n=this._prop,i=this._from,l=this._loop,d=this._to;let u;if(this._active=i!==d&&(l||r<a),!this._active){this._target[n]=d,this._notify(!0);return}if(r<0){this._target[n]=i;return}u=r/a%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[n]=this._fn(i,d,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,a)=>{e.push({res:r,rej:a})})}_notify(e){const r=e?"res":"rej",a=this._promises||[];for(let n=0;n<a.length;n++)a[n][r]()}}class nN{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!xr(e))return;const r=Object.keys(Da.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!xr(i))return;const l={};for(const d of r)l[d]=i[d];(ma(i.properties)&&i.properties||[n]).forEach(d=>{(d===n||!a.has(d))&&a.set(d,l)})})}_animateOptions(e,r){const a=r.options,n=yA(e,a);if(!n)return[];const i=this._createAnimations(n,a);return a.$shared&&bA(e.options.$animations,a).then(()=>{e.options=a},()=>{}),i}_createAnimations(e,r){const a=this._properties,n=[],i=e.$animations||(e.$animations={}),l=Object.keys(r),d=Date.now();let u;for(u=l.length-1;u>=0;--u){const h=l[u];if(h.charAt(0)==="$")continue;if(h==="options"){n.push(...this._animateOptions(e,r));continue}const g=r[h];let x=i[h];const y=a.get(h);if(x)if(y&&x.active()){x.update(y,g,d);continue}else x.cancel();if(!y||!y.duration){e[h]=g;continue}i[h]=x=new xA(y,e,h,g),n.push(x)}return n}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const a=this._createAnimations(e,r);if(a.length)return Fl.add(this._chart,a),!0}}function bA(t,e){const r=[],a=Object.keys(e);for(let n=0;n<a.length;n++){const i=t[a[n]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function yA(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function P5(t,e){const r=t&&t.options||{},a=r.reverse,n=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:a?i:n,end:a?n:i}}function vA(t,e,r){if(r===!1)return!1;const a=P5(t,r),n=P5(e,r);return{top:n.end,right:a.end,bottom:n.start,left:a.start}}function wA(t){let e,r,a,n;return xr(t)?(e=t.top,r=t.right,a=t.bottom,n=t.left):e=r=a=n=t,{top:e,right:r,bottom:a,left:n,disabled:t===!1}}function iN(t,e){const r=[],a=t._getSortedDatasetMetas(e);let n,i;for(n=0,i=a.length;n<i;++n)r.push(a[n].index);return r}function D5(t,e,r,a={}){const n=t.keys,i=a.mode==="single";let l,d,u,h;if(e===null)return;let g=!1;for(l=0,d=n.length;l<d;++l){if(u=+n[l],u===r){if(g=!0,a.all)continue;break}h=t.values[u],Ns(h)&&(i||e===0||Ti(e)===Ti(h))&&(e+=h)}return!g&&!a.all?0:e}function NA(t,e){const{iScale:r,vScale:a}=e,n=r.axis==="x"?"x":"y",i=a.axis==="x"?"x":"y",l=Object.keys(t),d=new Array(l.length);let u,h,g;for(u=0,h=l.length;u<h;++u)g=l[u],d[u]={[n]:g,[i]:t[g]};return d}function cx(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function jA(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function kA(t){const{min:e,max:r,minDefined:a,maxDefined:n}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function SA(t,e,r){const a=t[e]||(t[e]={});return a[r]||(a[r]={})}function O5(t,e,r,a){for(const n of e.getMatchingVisibleMetas(a).reverse()){const i=t[n.index];if(r&&i>0||!r&&i<0)return n.index}return null}function F5(t,e){const{chart:r,_cachedMeta:a}=t,n=r._stacks||(r._stacks={}),{iScale:i,vScale:l,index:d}=a,u=i.axis,h=l.axis,g=jA(i,l,a),x=e.length;let y;for(let p=0;p<x;++p){const w=e[p],{[u]:j,[h]:k}=w,C=w._stacks||(w._stacks={});y=C[h]=SA(n,g,j),y[d]=k,y._top=O5(y,l,!0,a.type),y._bottom=O5(y,l,!1,a.type);const L=y._visualValues||(y._visualValues={});L[d]=k}}function dx(t,e){const r=t.scales;return Object.keys(r).filter(a=>r[a].axis===e).shift()}function CA(t,e){return Qc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function _A(t,e,r){return Qc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function b0(t,e){const r=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const n of e){const i=n._stacks;if(!i||i[a]===void 0||i[a][r]===void 0)return;delete i[a][r],i[a]._visualValues!==void 0&&i[a]._visualValues[r]!==void 0&&delete i[a]._visualValues[r]}}}const ux=t=>t==="reset"||t==="none",B5=(t,e)=>e?t:Object.assign({},t),AA=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:iN(r,!0),values:null};class Vl{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=cx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&b0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,a=this.getDataset(),n=(x,y,p,w)=>x==="x"?y:x==="r"?w:p,i=r.xAxisID=$t(a.xAxisID,dx(e,"x")),l=r.yAxisID=$t(a.yAxisID,dx(e,"y")),d=r.rAxisID=$t(a.rAxisID,dx(e,"r")),u=r.indexAxis,h=r.iAxisID=n(u,i,l,d),g=r.vAxisID=n(u,l,i,d);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(l),r.rScale=this.getScaleForId(d),r.iScale=this.getScaleForId(h),r.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&v5(this._data,this),e._stacked&&b0(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),a=this._data;if(xr(r)){const n=this._cachedMeta;this._data=NA(r,n)}else if(a!==r){if(a){v5(a,this);const n=this._cachedMeta;b0(n),n._parsed=[]}r&&Object.isExtensible(r)&&d_(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,a=this.getDataset();let n=!1;this._dataCheck();const i=r._stacked;r._stacked=cx(r.vScale,r),r.stack!==a.stack&&(n=!0,b0(r),r.stack=a.stack),this._resyncElements(e),(n||i!==r._stacked)&&(F5(this,r._parsed),r._stacked=cx(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:a,_data:n}=this,{iScale:i,_stacked:l}=a,d=i.axis;let u=e===0&&r===n.length?!0:a._sorted,h=e>0&&a._parsed[e-1],g,x,y;if(this._parsing===!1)a._parsed=n,a._sorted=!0,y=n;else{ma(n[e])?y=this.parseArrayData(a,n,e,r):xr(n[e])?y=this.parseObjectData(a,n,e,r):y=this.parsePrimitiveData(a,n,e,r);const p=()=>x[d]===null||h&&x[d]<h[d];for(g=0;g<r;++g)a._parsed[g+e]=x=y[g],u&&(p()&&(u=!1),h=x);a._sorted=u}l&&F5(this,y)}parsePrimitiveData(e,r,a,n){const{iScale:i,vScale:l}=e,d=i.axis,u=l.axis,h=i.getLabels(),g=i===l,x=new Array(n);let y,p,w;for(y=0,p=n;y<p;++y)w=y+a,x[y]={[d]:g||i.parse(h[w],w),[u]:l.parse(r[w],w)};return x}parseArrayData(e,r,a,n){const{xScale:i,yScale:l}=e,d=new Array(n);let u,h,g,x;for(u=0,h=n;u<h;++u)g=u+a,x=r[g],d[u]={x:i.parse(x[0],g),y:l.parse(x[1],g)};return d}parseObjectData(e,r,a,n){const{xScale:i,yScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=new Array(n);let g,x,y,p;for(g=0,x=n;g<x;++g)y=g+a,p=r[y],h[g]={x:i.parse(Yc(p,d),y),y:l.parse(Yc(p,u),y)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,a){const n=this.chart,i=this._cachedMeta,l=r[e.axis],d={keys:iN(n,!0),values:r._stacks[e.axis]._visualValues};return D5(d,l,i.index,{mode:a})}updateRangeFromParsed(e,r,a,n){const i=a[r.axis];let l=i===null?NaN:i;const d=n&&a._stacks[r.axis];n&&d&&(n.values=d,l=D5(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,r){const a=this._cachedMeta,n=a._parsed,i=a._sorted&&e===a.iScale,l=n.length,d=this._getOtherScale(e),u=AA(r,a,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=kA(d);let y,p;function w(){p=n[y];const j=p[d.axis];return!Ns(p[e.axis])||g>j||x<j}for(y=0;y<l&&!(!w()&&(this.updateRangeFromParsed(h,e,p,u),i));++y);if(i){for(y=l-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(h,e,p,u);break}}return h}getAllParsedValues(e){const r=this._cachedMeta._parsed,a=[];let n,i,l;for(n=0,i=r.length;n<i;++n)l=r[n][e.axis],Ns(l)&&a.push(l);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,a=r.iScale,n=r.vScale,i=this.getParsed(e);return{label:a?""+a.getLabelForValue(i[a.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=wA($t(this.options.clip,vA(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,a=this._cachedMeta,n=a.data||[],i=r.chartArea,l=[],d=this._drawStart||0,u=this._drawCount||n.length-d,h=this.options.drawActiveElementsOnTop;let g;for(a.dataset&&a.dataset.draw(e,i,d,u),g=d;g<d+u;++g){const x=n[g];x.hidden||(x.active&&h?l.push(x):x.draw(e,i))}for(g=0;g<l.length;++g)l[g].draw(e,i)}getStyle(e,r){const a=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,r,a){const n=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];i=l.$context||(l.$context=_A(this.getContext(),e,l)),i.parsed=this.getParsed(e),i.raw=n.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=CA(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=a,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",a){const n=r==="active",i=this._cachedDataOpts,l=e+"-"+r,d=i[l],u=this.enableOptionSharing&&H0(a);if(d)return B5(d,u);const h=this.chart.config,g=h.datasetElementScopeKeys(this._type,e),x=n?[`${e}Hover`,"hover",e,""]:[e,""],y=h.getOptionScopes(this.getDataset(),g),p=Object.keys(Da.elements[e]),w=()=>this.getContext(a,n,r),j=h.resolveNamedOptions(y,p,w,x);return j.$shared&&(j.$shared=u,i[l]=Object.freeze(B5(j,u))),j}_resolveAnimations(e,r,a){const n=this.chart,i=this._cachedDataOpts,l=`animation-${r}`,d=i[l];if(d)return d;let u;if(n.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,r),y=g.getOptionScopes(this.getDataset(),x);u=g.createResolver(y,this.getContext(e,a,r))}const h=new nN(n,u&&u.animations);return u&&u._cacheable&&(i[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||ux(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const a=this.resolveDataElementOptions(e,r),n=this._sharedOptions,i=this.getSharedOptions(a),l=this.includeOptions(r,i)||i!==n;return this.updateSharedOptions(i,r,a),{sharedOptions:i,includeOptions:l}}updateElement(e,r,a,n){ux(n)?Object.assign(e,a):this._resolveAnimations(r,n).update(e,a)}updateSharedOptions(e,r,a){e&&!ux(r)&&this._resolveAnimations(void 0,r).update(e,a)}_setStyle(e,r,a,n){e.active=n;const i=this.getStyle(r,n);this._resolveAnimations(r,a,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,r,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,a=this._cachedMeta.data;for(const[d,u,h]of this._syncList)this[d](u,h);this._syncList=[];const n=a.length,i=r.length,l=Math.min(i,n);l&&this.parse(0,l),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,r,a=!0){const n=this._cachedMeta,i=n.data,l=e+r;let d;const u=h=>{for(h.length+=r,d=h.length-1;d>=l;d--)h[d]=h[d-r]};for(u(i),d=e;d<l;++d)i[d]=new this.dataElementType;this._parsing&&u(n._parsed),this.parse(e,r),a&&this.updateElements(i,e,r,"reset")}updateElements(e,r,a,n){}_removeElements(e,r){const a=this._cachedMeta;if(this._parsing){const n=a._parsed.splice(e,r);a._stacked&&b0(a,n)}a.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,a,n]=e;this[r](a,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ke(Vl,"defaults",{}),Ke(Vl,"datasetElementType",null),Ke(Vl,"dataElementType",null);function LA(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let a=[];for(let n=0,i=r.length;n<i;n++)a=a.concat(r[n].controller.getAllParsedValues(t));t._cache.$bar=U3(a.sort((n,i)=>n-i))}return t._cache.$bar}function EA(t){const e=t.iScale,r=LA(e,t.type);let a=e._length,n,i,l,d;const u=()=>{l===32767||l===-32768||(H0(d)&&(a=Math.min(a,Math.abs(l-d)||a)),d=l)};for(n=0,i=r.length;n<i;++n)l=e.getPixelForValue(r[n]),u();for(d=void 0,n=0,i=e.ticks.length;n<i;++n)l=e.getPixelForTick(n),u();return a}function MA(t,e,r,a){const n=r.barThickness;let i,l;return jr(n)?(i=e.min*r.categoryPercentage,l=r.barPercentage):(i=n*a,l=1),{chunk:i/a,ratio:l,start:e.pixels[t]-i/2}}function RA(t,e,r,a){const n=e.pixels,i=n[t];let l=t>0?n[t-1]:null,d=t<n.length-1?n[t+1]:null;const u=r.categoryPercentage;l===null&&(l=i-(d===null?e.end-e.start:d-i)),d===null&&(d=i+i-l);const h=i-(i-Math.min(l,d))/2*u;return{chunk:Math.abs(d-l)/2*u/a,ratio:r.barPercentage,start:h}}function TA(t,e,r,a){const n=r.parse(t[0],a),i=r.parse(t[1],a),l=Math.min(n,i),d=Math.max(n,i);let u=l,h=d;Math.abs(l)>Math.abs(d)&&(u=d,h=l),e[r.axis]=h,e._custom={barStart:u,barEnd:h,start:n,end:i,min:l,max:d}}function oN(t,e,r,a){return ma(t)?TA(t,e,r,a):e[r.axis]=r.parse(t,a),e}function z5(t,e,r,a){const n=t.iScale,i=t.vScale,l=n.getLabels(),d=n===i,u=[];let h,g,x,y;for(h=r,g=r+a;h<g;++h)y=e[h],x={},x[n.axis]=d||n.parse(l[h],h),u.push(oN(y,x,i,h));return u}function hx(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function PA(t,e,r){return t!==0?Ti(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function DA(t){let e,r,a,n,i;return t.horizontal?(e=t.base>t.x,r="left",a="right"):(e=t.base<t.y,r="bottom",a="top"),e?(n="end",i="start"):(n="start",i="end"),{start:r,end:a,reverse:e,top:n,bottom:i}}function OA(t,e,r,a){let n=e.borderSkipped;const i={};if(!n){t.borderSkipped=i;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:u,top:h,bottom:g}=DA(t);n==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===a?n=h:(r._bottom||0)===a?n=g:(i[I5(g,l,d,u)]=!0,n=h)),i[I5(n,l,d,u)]=!0,t.borderSkipped=i}function I5(t,e,r,a){return a?(t=FA(t,e,r),t=U5(t,r,e)):t=U5(t,e,r),t}function FA(t,e,r){return t===e?r:t===r?e:t}function U5(t,e,r){return t==="start"?e:t==="end"?r:t}function BA(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Bg extends Vl{parsePrimitiveData(e,r,a,n){return z5(e,r,a,n)}parseArrayData(e,r,a,n){return z5(e,r,a,n)}parseObjectData(e,r,a,n){const{iScale:i,vScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=i.axis==="x"?d:u,g=l.axis==="x"?d:u,x=[];let y,p,w,j;for(y=a,p=a+n;y<p;++y)j=r[y],w={},w[i.axis]=i.parse(Yc(j,h),y),x.push(oN(Yc(j,g),w,l,y));return x}updateRangeFromParsed(e,r,a,n){super.updateRangeFromParsed(e,r,a,n);const i=a._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:a,vScale:n}=r,i=this.getParsed(e),l=i._custom,d=hx(l)?"["+l.start+", "+l.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+a.getLabelForValue(i[a.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,a,n){const i=n==="reset",{index:l,_cachedMeta:{vScale:d}}=this,u=d.getBasePixel(),h=d.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:y}=this._getSharedOptions(r,n);for(let p=r;p<r+a;p++){const w=this.getParsed(p),j=i||jr(w[d.axis])?{base:u,head:u}:this._calculateBarValuePixels(p),k=this._calculateBarIndexPixels(p,g),C=(w._stacks||{})[d.axis],L={horizontal:h,base:j.base,enableBorderRadius:!C||hx(w._custom)||l===C._top||l===C._bottom,x:h?j.head:k.center,y:h?k.center:j.head,height:h?k.size:Math.abs(j.size),width:h?Math.abs(j.size):k.size};y&&(L.options=x||this.resolveDataElementOptions(p,e[p].active?"active":n));const E=L.options||e[p].options;OA(L,E,C,l),BA(L,E,g.ratio),this.updateElement(e[p],p,L,n)}}_getStacks(e,r){const{iScale:a}=this._cachedMeta,n=a.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),i=a.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(r),u=d&&d[a.axis],h=g=>{const x=g._parsed.find(p=>p[a.axis]===u),y=x&&x[g.vScale.axis];if(jr(y)||isNaN(y))return!0};for(const g of n)if(!(r!==void 0&&h(g))&&((i===!1||l.indexOf(g.stack)===-1||i===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[$t(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,a){const n=this._getStacks(e,a),i=r!==void 0?n.indexOf(r):-1;return i===-1?n.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,a=r.iScale,n=[];let i,l;for(i=0,l=r.data.length;i<l;++i)n.push(a.getPixelForValue(this.getParsed(i)[a.axis],i));const d=e.barThickness;return{min:d||EA(r),pixels:n,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:a,index:n},options:{base:i,minBarLength:l}}=this,d=i||0,u=this.getParsed(e),h=u._custom,g=hx(h);let x=u[r.axis],y=0,p=a?this.applyStack(r,u,a):x,w,j;p!==x&&(y=p-x,p=x),g&&(x=h.barStart,p=h.barEnd-h.barStart,x!==0&&Ti(x)!==Ti(h.barEnd)&&(y=0),y+=x);const k=!jr(i)&&!g?i:y;let C=r.getPixelForValue(k);if(this.chart.getDataVisibility(e)?w=r.getPixelForValue(y+p):w=C,j=w-C,Math.abs(j)<l){j=PA(j,r,d)*l,x===d&&(C-=j/2);const L=r.getPixelForDecimal(0),E=r.getPixelForDecimal(1),D=Math.min(L,E),F=Math.max(L,E);C=Math.max(Math.min(C,F),D),w=C+j,a&&!g&&(u._stacks[r.axis]._visualValues[n]=r.getValueForPixel(w)-r.getValueForPixel(C))}if(C===r.getPixelForValue(d)){const L=Ti(j)*r.getLineWidthForValue(d)/2;C+=L,j-=L}return{size:j,base:C,head:w,center:w+j/2}}_calculateBarIndexPixels(e,r){const a=r.scale,n=this.options,i=n.skipNull,l=$t(n.maxBarThickness,1/0);let d,u;const h=this._getAxisCount();if(r.grouped){const g=i?this._getStackCount(e):r.stackCount,x=n.barThickness==="flex"?RA(e,r,n,g*h):MA(e,r,n,g*h),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf($t(y,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+p;d=x.start+x.chunk*w+x.chunk/2,u=Math.min(l,x.chunk*x.ratio)}else d=a.getPixelForValue(this.getParsed(e)[a.axis],e),u=Math.min(l,r.min*r.ratio);return{base:d-u/2,head:d+u/2,center:d,size:u}}draw(){const e=this._cachedMeta,r=e.vScale,a=e.data,n=a.length;let i=0;for(;i<n;++i)this.getParsed(i)[r.axis]!==null&&!a[i].hidden&&a[i].draw(this._ctx)}}Ke(Bg,"id","bar"),Ke(Bg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ke(Bg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function zA(t,e,r){let a=1,n=1,i=0,l=0;if(e<ca){const d=t,u=d+e,h=Math.cos(d),g=Math.sin(d),x=Math.cos(u),y=Math.sin(u),p=(E,D,F)=>q0(E,d,u,!0)?1:Math.max(D,D*r,F,F*r),w=(E,D,F)=>q0(E,d,u,!0)?-1:Math.min(D,D*r,F,F*r),j=p(0,h,x),k=p(Va,g,y),C=w(Er,h,x),L=w(Er+Va,g,y);a=(j-C)/2,n=(k-L)/2,i=-(j+C)/2,l=-(k+L)/2}return{ratioX:a,ratioY:n,offsetX:i,offsetY:l}}class C0 extends Vl{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const a=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=a;else{let i=u=>+a[u];if(xr(a[e])){const{key:u="value"}=this._parsing;i=h=>+Yc(a[h],u)}let l,d;for(l=e,d=e+r;l<d;++l)n._parsed[l]=i(l)}}_getRotation(){return Ko(this.options.rotation-90)}_getCircumference(){return Ko(this.options.circumference)}_getRotationExtents(){let e=ca,r=-ca;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const n=this.chart.getDatasetMeta(a).controller,i=n._getRotation(),l=n._getCircumference();e=Math.min(e,i),r=Math.max(r,i+l)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:a}=r,n=this._cachedMeta,i=n.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,d=Math.max((Math.min(a.width,a.height)-l)/2,0),u=Math.min(GC(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:y,ratioY:p,offsetX:w,offsetY:j}=zA(x,g,u),k=(a.width-l)/y,C=(a.height-l)/p,L=Math.max(Math.min(k,C)/2,0),E=O3(this.options.radius,L),D=Math.max(E*u,0),F=(E-D)/this._getVisibleDatasetWeightTotal();this.offsetX=w*E,this.offsetY=j*E,n.total=this.calculateTotal(),this.outerRadius=E-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const a=this.options,n=this._cachedMeta,i=this._getCircumference();return r&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*i/ca)}updateElements(e,r,a,n){const i=n==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,g=(d.left+d.right)/2,x=(d.top+d.bottom)/2,y=i&&h.animateScale,p=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:j,includeOptions:k}=this._getSharedOptions(r,n);let C=this._getRotation(),L;for(L=0;L<r;++L)C+=this._circumference(L,i);for(L=r;L<r+a;++L){const E=this._circumference(L,i),D=e[L],F={x:g+this.offsetX,y:x+this.offsetY,startAngle:C,endAngle:C+E,circumference:E,outerRadius:w,innerRadius:p};k&&(F.options=j||this.resolveDataElementOptions(L,D.active?"active":n)),C+=E,this.updateElement(D,L,F,n)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let a=0,n;for(n=0;n<r.length;n++){const i=e._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!r[n].hidden&&(a+=Math.abs(i))}return a}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?ca*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,a=this.chart,n=a.data.labels||[],i=p2(r._parsed[e],a.options.locale);return{label:n[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const a=this.chart;let n,i,l,d,u;if(!e){for(n=0,i=a.data.datasets.length;n<i;++n)if(a.isDatasetVisible(n)){l=a.getDatasetMeta(n),e=l.data,d=l.controller;break}}if(!e)return 0;for(n=0,i=e.length;n<i;++n)u=d.resolveDataElementOptions(n),u.borderAlign!=="inner"&&(r=Math.max(r,u.borderWidth||0,u.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let a=0,n=e.length;a<n;++a){const i=this.resolveDataElementOptions(a);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(r+=this._getRingWeight(a));return r}_getRingWeight(e){return Math.max($t(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ke(C0,"id","doughnut"),Ke(C0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ke(C0,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ke(C0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:a,textAlign:n,color:i,useBorderRadius:l,borderRadius:d}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((u,h)=>{const x=e.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:x.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(h),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:n,pointStyle:a,borderRadius:l&&(d||x.borderRadius),index:h}}):[]}},onClick(e,r,a){a.chart.toggleDataVisibility(r.index),a.chart.update()}}}});class zg extends Vl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:a,data:n=[],_dataset:i}=r,l=this.chart._animationsDisabled;let{start:d,count:u}=V3(r,n,l);this._drawStart=d,this._drawCount=u,$3(r)&&(d=0,u=n.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!i._decimated,a.points=n;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(a,void 0,{animated:!l,options:h},e),this.updateElements(n,d,u,e)}updateElements(e,r,a,n){const i=n==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(r,n),y=l.axis,p=d.axis,{spanGaps:w,segment:j}=this.options,k=fh(w)?w:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||i||n==="none",L=r+a,E=e.length;let D=r>0&&this.getParsed(r-1);for(let F=0;F<E;++F){const se=e[F],O=C?se:{};if(F<r||F>=L){O.skip=!0;continue}const U=this.getParsed(F),T=jr(U[p]),W=O[y]=l.getPixelForValue(U[y],F),I=O[p]=i||T?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,U,u):U[p],F);O.skip=isNaN(W)||isNaN(I)||T,O.stop=F>0&&Math.abs(U[y]-D[y])>k,j&&(O.parsed=U,O.raw=h.data[F]),x&&(O.options=g||this.resolveDataElementOptions(F,se.active?"active":n)),C||this.updateElement(se,F,O,n),D=U}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,a=r.options&&r.options.borderWidth||0,n=e.data||[];if(!n.length)return a;const i=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,i,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ke(zg,"id","line"),Ke(zg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ke(zg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ig extends Vl{getLabelAndValue(e){const r=this._cachedMeta.vScale,a=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(a[r.axis])}}parseObjectData(e,r,a,n){return q_.bind(this)(e,r,a,n)}update(e){const r=this._cachedMeta,a=r.dataset,n=r.data||[],i=r.iScale.getLabels();if(a.points=n,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const d={_loop:!0,_fullLoop:i.length===n.length,options:l};this.updateElement(a,void 0,d,e)}this.updateElements(n,0,n.length,e)}updateElements(e,r,a,n){const i=this._cachedMeta.rScale,l=n==="reset";for(let d=r;d<r+a;d++){const u=e[d],h=this.resolveDataElementOptions(d,u.active?"active":n),g=i.getPointPositionForValue(d,this.getParsed(d).r),x=l?i.xCenter:g.x,y=l?i.yCenter:g.y,p={x,y,angle:g.angle,skip:isNaN(x)||isNaN(y),options:h};this.updateElement(u,d,p,n)}}}Ke(Ig,"id","radar"),Ke(Ig,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ke(Ig,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ug extends Vl{getLabelAndValue(e){const r=this._cachedMeta,a=this.chart.data.labels||[],{xScale:n,yScale:i}=r,l=this.getParsed(e),d=n.getLabelForValue(l.x),u=i.getLabelForValue(l.y);return{label:a[e]||"",value:"("+d+", "+u+")"}}update(e){const r=this._cachedMeta,{data:a=[]}=r,n=this.chart._animationsDisabled;let{start:i,count:l}=V3(r,a,n);if(this._drawStart=i,this._drawCount=l,$3(r)&&(i=0,l=a.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:d,_dataset:u}=r;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!u._decimated,d.points=a;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(d,void 0,{animated:!n,options:h},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(a,i,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,a,n){const i=n==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,g=this.resolveDataElementOptions(r,n),x=this.getSharedOptions(g),y=this.includeOptions(n,x),p=l.axis,w=d.axis,{spanGaps:j,segment:k}=this.options,C=fh(j)?j:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||i||n==="none";let E=r>0&&this.getParsed(r-1);for(let D=r;D<r+a;++D){const F=e[D],se=this.getParsed(D),O=L?F:{},U=jr(se[w]),T=O[p]=l.getPixelForValue(se[p],D),W=O[w]=i||U?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,se,u):se[w],D);O.skip=isNaN(T)||isNaN(W)||U,O.stop=D>0&&Math.abs(se[p]-E[p])>C,k&&(O.parsed=se,O.raw=h.data[D]),y&&(O.options=x||this.resolveDataElementOptions(D,F.active?"active":n)),L||this.updateElement(F,D,O,n),E=se}this.updateSharedOptions(x,n,g)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let d=0;for(let u=r.length-1;u>=0;--u)d=Math.max(d,r[u].size(this.resolveDataElementOptions(u))/2);return d>0&&d}const a=e.dataset,n=a.options&&a.options.borderWidth||0;if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,l)/2}}Ke(Ug,"id","scatter"),Ke(Ug,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ke(Ug,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Md(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class k2{constructor(e){Ke(this,"options");this.options=e||{}}static override(e){Object.assign(k2.prototype,e)}init(){}formats(){return Md()}parse(){return Md()}format(){return Md()}add(){return Md()}diff(){return Md()}startOf(){return Md()}endOf(){return Md()}}var IA={_date:k2};function UA(t,e,r,a){const{controller:n,data:i,_sorted:l}=t,d=n._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&l&&i.length){const h=d._reversePixels?l_:Ud;if(a){if(n._sharedOptions){const g=i[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const y=h(i,e,r-x),p=h(i,e,r+x);return{lo:y.lo,hi:p.hi}}}}else{const g=h(i,e,r);if(u){const{vScale:x}=n._cachedMeta,{_parsed:y}=t,p=y.slice(0,g.lo+1).reverse().findIndex(j=>!jr(j[x.axis]));g.lo-=Math.max(0,p);const w=y.slice(g.hi).findIndex(j=>!jr(j[x.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:i.length-1}}function _m(t,e,r,a,n){const i=t.getSortedVisibleDatasetMetas(),l=r[e];for(let d=0,u=i.length;d<u;++d){const{index:h,data:g}=i[d],{lo:x,hi:y}=UA(i[d],e,l,n);for(let p=x;p<=y;++p){const w=g[p];w.skip||a(w,h,p)}}}function HA(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(a,n){const i=e?Math.abs(a.x-n.x):0,l=r?Math.abs(a.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function fx(t,e,r,a,n){const i=[];return!n&&!t.isPointInArea(e)||_m(t,r,e,function(d,u,h){!n&&!Jo(d,t.chartArea,0)||d.inRange(e.x,e.y,a)&&i.push({element:d,datasetIndex:u,index:h})},!0),i}function qA(t,e,r,a){let n=[];function i(l,d,u){const{startAngle:h,endAngle:g}=l.getProps(["startAngle","endAngle"],a),{angle:x}=z3(l,{x:e.x,y:e.y});q0(x,h,g)&&n.push({element:l,datasetIndex:d,index:u})}return _m(t,r,e,i),n}function VA(t,e,r,a,n,i){let l=[];const d=HA(r);let u=Number.POSITIVE_INFINITY;function h(g,x,y){const p=g.inRange(e.x,e.y,n);if(a&&!p)return;const w=g.getCenterPoint(n);if(!(!!i||t.isPointInArea(w))&&!p)return;const k=d(e,w);k<u?(l=[{element:g,datasetIndex:x,index:y}],u=k):k===u&&l.push({element:g,datasetIndex:x,index:y})}return _m(t,r,e,h),l}function gx(t,e,r,a,n,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!a?qA(t,e,r,n):VA(t,e,r,a,n,i)}function H5(t,e,r,a,n){const i=[],l=r==="x"?"inXRange":"inYRange";let d=!1;return _m(t,r,e,(u,h,g)=>{u[l]&&u[l](e[r],n)&&(i.push({element:u,datasetIndex:h,index:g}),d=d||u.inRange(e.x,e.y,n))}),a&&!d?[]:i}var $A={modes:{index(t,e,r,a){const n=Qo(e,t),i=r.axis||"x",l=r.includeInvisible||!1,d=r.intersect?fx(t,n,i,a,l):gx(t,n,i,!1,a,l),u=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const g=d[0].index,x=h.data[g];x&&!x.skip&&u.push({element:x,datasetIndex:h.index,index:g})}),u):[]},dataset(t,e,r,a){const n=Qo(e,t),i=r.axis||"xy",l=r.includeInvisible||!1;let d=r.intersect?fx(t,n,i,a,l):gx(t,n,i,!1,a,l);if(d.length>0){const u=d[0].datasetIndex,h=t.getDatasetMeta(u).data;d=[];for(let g=0;g<h.length;++g)d.push({element:h[g],datasetIndex:u,index:g})}return d},point(t,e,r,a){const n=Qo(e,t),i=r.axis||"xy",l=r.includeInvisible||!1;return fx(t,n,i,a,l)},nearest(t,e,r,a){const n=Qo(e,t),i=r.axis||"xy",l=r.includeInvisible||!1;return gx(t,n,i,r.intersect,a,l)},x(t,e,r,a){const n=Qo(e,t);return H5(t,n,"x",r.intersect,a)},y(t,e,r,a){const n=Qo(e,t);return H5(t,n,"y",r.intersect,a)}}};const lN=["left","top","right","bottom"];function y0(t,e){return t.filter(r=>r.pos===e)}function q5(t,e){return t.filter(r=>lN.indexOf(r.pos)===-1&&r.box.axis===e)}function v0(t,e){return t.sort((r,a)=>{const n=e?a:r,i=e?r:a;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function WA(t){const e=[];let r,a,n,i,l,d;for(r=0,a=(t||[]).length;r<a;++r)n=t[r],{position:i,options:{stack:l,stackWeight:d=1}}=n,e.push({index:r,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:l&&i+l,stackWeight:d});return e}function YA(t){const e={};for(const r of t){const{stack:a,pos:n,stackWeight:i}=r;if(!a||!lN.includes(n))continue;const l=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return e}function GA(t,e){const r=YA(t),{vBoxMaxWidth:a,hBoxMaxHeight:n}=e;let i,l,d;for(i=0,l=t.length;i<l;++i){d=t[i];const{fullSize:u}=d.box,h=r[d.stack],g=h&&d.stackWeight/h.weight;d.horizontal?(d.width=g?g*a:u&&e.availableWidth,d.height=n):(d.width=a,d.height=g?g*n:u&&e.availableHeight)}return r}function XA(t){const e=WA(t),r=v0(e.filter(h=>h.box.fullSize),!0),a=v0(y0(e,"left"),!0),n=v0(y0(e,"right")),i=v0(y0(e,"top"),!0),l=v0(y0(e,"bottom")),d=q5(e,"x"),u=q5(e,"y");return{fullSize:r,leftAndTop:a.concat(i),rightAndBottom:n.concat(u).concat(l).concat(d),chartArea:y0(e,"chartArea"),vertical:a.concat(n).concat(u),horizontal:i.concat(l).concat(d)}}function V5(t,e,r,a){return Math.max(t[r],e[r])+Math.max(t[a],e[a])}function cN(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ZA(t,e,r,a){const{pos:n,box:i}=r,l=t.maxPadding;if(!xr(n)){r.size&&(t[n]-=r.size);const x=a[r.stack]||{size:0,count:1};x.size=Math.max(x.size,r.horizontal?i.height:i.width),r.size=x.size/x.count,t[n]+=r.size}i.getPadding&&cN(l,i.getPadding());const d=Math.max(0,e.outerWidth-V5(l,t,"left","right")),u=Math.max(0,e.outerHeight-V5(l,t,"top","bottom")),h=d!==t.w,g=u!==t.h;return t.w=d,t.h=u,r.horizontal?{same:h,other:g}:{same:g,other:h}}function QA(t){const e=t.maxPadding;function r(a){const n=Math.max(e[a]-t[a],0);return t[a]+=n,n}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function KA(t,e){const r=e.maxPadding;function a(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(l=>{i[l]=Math.max(e[l],r[l])}),i}return a(t?["left","right"]:["top","bottom"])}function _0(t,e,r,a){const n=[];let i,l,d,u,h,g;for(i=0,l=t.length,h=0;i<l;++i){d=t[i],u=d.box,u.update(d.width||e.w,d.height||e.h,KA(d.horizontal,e));const{same:x,other:y}=ZA(e,r,d,a);h|=x&&n.length,g=g||y,u.fullSize||n.push(d)}return h&&_0(n,e,r,a)||g}function ug(t,e,r,a,n){t.top=r,t.left=e,t.right=e+a,t.bottom=r+n,t.width=a,t.height=n}function $5(t,e,r,a){const n=r.padding;let{x:i,y:l}=e;for(const d of t){const u=d.box,h=a[d.stack]||{placed:0,weight:1},g=d.stackWeight/h.weight||1;if(d.horizontal){const x=e.w*g,y=h.size||u.height;H0(h.start)&&(l=h.start),u.fullSize?ug(u,n.left,l,r.outerWidth-n.right-n.left,y):ug(u,e.left+h.placed,l,x,y),h.start=l,h.placed+=x,l=u.bottom}else{const x=e.h*g,y=h.size||u.width;H0(h.start)&&(i=h.start),u.fullSize?ug(u,i,n.top,y,r.outerHeight-n.bottom-n.top):ug(u,i,e.top+h.placed,y,x),h.start=i,h.placed+=x,i=u.right}}e.x=i,e.y=l}var Ri={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,a){if(!t)return;const n=un(t.options.layout.padding),i=Math.max(e-n.width,0),l=Math.max(r-n.height,0),d=XA(t.boxes),u=d.vertical,h=d.horizontal;gr(t.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const g=u.reduce((j,k)=>k.box.options&&k.box.options.display===!1?j:j+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:r,padding:n,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/g,hBoxMaxHeight:l/2}),y=Object.assign({},n);cN(y,un(a));const p=Object.assign({maxPadding:y,w:i,h:l,x:n.left,y:n.top},n),w=GA(u.concat(h),x);_0(d.fullSize,p,x,w),_0(u,p,x,w),_0(h,p,x,w)&&_0(u,p,x,w),QA(p),$5(d.leftAndTop,p,x,w),p.x+=p.w,p.y+=p.h,$5(d.rightAndBottom,p,x,w),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},gr(d.chartArea,j=>{const k=j.box;Object.assign(k,t.chartArea),k.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class dN{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,a){}removeEventListener(e,r,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,a,n){return r=Math.max(0,r||e.width),a=a||e.height,{width:r,height:Math.max(0,n?Math.floor(r/n):a)}}isAttached(e){return!0}updateConfig(e){}}class JA extends dN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Hg="$chartjs",eL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},W5=t=>t===null||t==="";function tL(t,e){const r=t.style,a=t.getAttribute("height"),n=t.getAttribute("width");if(t[Hg]={initial:{height:a,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",W5(n)){const i=L5(t,"width");i!==void 0&&(t.width=i)}if(W5(a))if(t.style.height==="")t.height=t.width/(e||2);else{const i=L5(t,"height");i!==void 0&&(t.height=i)}return t}const uN=aA?{passive:!0}:!1;function rL(t,e,r){t&&t.addEventListener(e,r,uN)}function aL(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,uN)}function sL(t,e){const r=eL[t.type]||t.type,{x:a,y:n}=Qo(t,e);return{type:r,chart:e,native:t,x:a!==void 0?a:null,y:n!==void 0?n:null}}function im(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function nL(t,e,r){const a=t.canvas,n=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||im(d.addedNodes,a),l=l&&!im(d.removedNodes,a);l&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function iL(t,e,r){const a=t.canvas,n=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||im(d.removedNodes,a),l=l&&!im(d.addedNodes,a);l&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}const $0=new Map;let Y5=0;function hN(){const t=window.devicePixelRatio;t!==Y5&&(Y5=t,$0.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function oL(t,e){$0.size||window.addEventListener("resize",hN),$0.set(t,e)}function lL(t){$0.delete(t),$0.size||window.removeEventListener("resize",hN)}function cL(t,e,r){const a=t.canvas,n=a&&j2(a);if(!n)return;const i=q3((d,u)=>{const h=n.clientWidth;r(d,u),h<n.clientWidth&&r()},window),l=new ResizeObserver(d=>{const u=d[0],h=u.contentRect.width,g=u.contentRect.height;h===0&&g===0||i(h,g)});return l.observe(n),oL(t,i),l}function mx(t,e,r){r&&r.disconnect(),e==="resize"&&lL(t)}function dL(t,e,r){const a=t.canvas,n=q3(i=>{t.ctx!==null&&r(sL(i,t))},t);return rL(a,e,n),n}class uL extends dN{acquireContext(e,r){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(tL(e,r),a):null}releaseContext(e){const r=e.canvas;if(!r[Hg])return!1;const a=r[Hg].initial;["height","width"].forEach(i=>{const l=a[i];jr(l)?r.removeAttribute(i):r.setAttribute(i,l)});const n=a.style||{};return Object.keys(n).forEach(i=>{r.style[i]=n[i]}),r.width=r.width,delete r[Hg],!0}addEventListener(e,r,a){this.removeEventListener(e,r);const n=e.$proxies||(e.$proxies={}),l={attach:nL,detach:iL,resize:cL}[r]||dL;n[r]=l(e,r,a)}removeEventListener(e,r){const a=e.$proxies||(e.$proxies={}),n=a[r];if(!n)return;({attach:mx,detach:mx,resize:mx}[r]||aL)(e,r,n),a[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,a,n){return rA(e,r,a,n)}isAttached(e){const r=e&&j2(e);return!!(r&&r.isConnected)}}function hL(t){return!N2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?JA:uL}var Mg;let Kl=(Mg=class{constructor(){Ke(this,"x");Ke(this,"y");Ke(this,"active",!1);Ke(this,"options");Ke(this,"$animations")}tooltipPosition(e){const{x:r,y:a}=this.getProps(["x","y"],e);return{x:r,y:a}}hasValue(){return fh(this.x)&&fh(this.y)}getProps(e,r){const a=this.$animations;if(!r||!a)return this;const n={};return e.forEach(i=>{n[i]=a[i]&&a[i].active()?a[i]._to:this[i]}),n}},Ke(Mg,"defaults",{}),Ke(Mg,"defaultRoutes"),Mg);function fL(t,e){const r=t.options.ticks,a=gL(t),n=Math.min(r.maxTicksLimit||a,a),i=r.major.enabled?pL(e):[],l=i.length,d=i[0],u=i[l-1],h=[];if(l>n)return xL(e,h,i,l/n),h;const g=mL(i,e,n);if(l>0){let x,y;const p=l>1?Math.round((u-d)/(l-1)):null;for(hg(e,h,g,jr(p)?0:d-p,d),x=0,y=l-1;x<y;x++)hg(e,h,g,i[x],i[x+1]);return hg(e,h,g,u,jr(p)?e.length:u+p),h}return hg(e,h,g),h}function gL(t){const e=t.options.offset,r=t._tickSize(),a=t._length/r+(e?0:1),n=t._maxLength/r;return Math.floor(Math.min(a,n))}function mL(t,e,r){const a=bL(t),n=e.length/r;if(!a)return Math.max(n,1);const i=r_(a);for(let l=0,d=i.length-1;l<d;l++){const u=i[l];if(u>n)return u}return Math.max(n,1)}function pL(t){const e=[];let r,a;for(r=0,a=t.length;r<a;r++)t[r].major&&e.push(r);return e}function xL(t,e,r,a){let n=0,i=r[0],l;for(a=Math.ceil(a),l=0;l<t.length;l++)l===i&&(e.push(t[l]),n++,i=r[n*a])}function hg(t,e,r,a,n){const i=$t(a,0),l=Math.min($t(n,t.length),t.length);let d=0,u,h,g;for(r=Math.ceil(r),n&&(u=n-a,r=u/Math.floor(u/r)),g=i;g<0;)d++,g=Math.round(i+d*r);for(h=Math.max(i,0);h<l;h++)h===g&&(e.push(t[h]),d++,g=Math.round(i+d*r))}function bL(t){const e=t.length;let r,a;if(e<2)return!1;for(a=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==a)return!1;return a}const yL=t=>t==="left"?"right":t==="right"?"left":t,G5=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,X5=(t,e)=>Math.min(e||t,t);function Z5(t,e){const r=[],a=t.length/e,n=t.length;let i=0;for(;i<n;i+=a)r.push(t[Math.floor(i)]);return r}function vL(t,e,r){const a=t.ticks.length,n=Math.min(e,a-1),i=t._startPixel,l=t._endPixel,d=1e-6;let u=t.getPixelForTick(n),h;if(!(r&&(a===1?h=Math.max(u-i,l-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(n-1))/2,u+=n<e?h:-h,u<i-d||u>l+d)))return u}function wL(t,e){gr(t,r=>{const a=r.gc,n=a.length/2;let i;if(n>e){for(i=0;i<n;++i)delete r.data[a[i]];a.splice(0,n)}})}function w0(t){return t.drawTicks?t.tickLength:0}function Q5(t,e){if(!t.display)return 0;const r=os(t.font,e),a=un(t.padding);return(ma(t.text)?t.text.length:1)*r.lineHeight+a.height}function NL(t,e){return Qc(t,{scale:e,type:"scale"})}function jL(t,e,r){return Qc(t,{tick:r,index:e,type:"tick"})}function kL(t,e,r){let a=g2(t);return(r&&e!=="right"||!r&&e==="right")&&(a=yL(a)),a}function SL(t,e,r,a){const{top:n,left:i,bottom:l,right:d,chart:u}=t,{chartArea:h,scales:g}=u;let x=0,y,p,w;const j=l-n,k=d-i;if(t.isHorizontal()){if(p=on(a,i,d),xr(r)){const C=Object.keys(r)[0],L=r[C];w=g[C].getPixelForValue(L)+j-e}else r==="center"?w=(h.bottom+h.top)/2+j-e:w=G5(t,r,e);y=d-i}else{if(xr(r)){const C=Object.keys(r)[0],L=r[C];p=g[C].getPixelForValue(L)-k+e}else r==="center"?p=(h.left+h.right)/2-k+e:p=G5(t,r,e);w=on(a,l,n),x=r==="left"?-Va:Va}return{titleX:p,titleY:w,maxWidth:y,rotation:x}}class Sh extends Kl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:a,_suggestedMax:n}=this;return e=Vo(e,Number.POSITIVE_INFINITY),r=Vo(r,Number.NEGATIVE_INFINITY),a=Vo(a,Number.POSITIVE_INFINITY),n=Vo(n,Number.NEGATIVE_INFINITY),{min:Vo(e,a),max:Vo(r,n),minDefined:Ns(e),maxDefined:Ns(r)}}getMinMax(e){let{min:r,max:a,minDefined:n,maxDefined:i}=this.getUserBounds(),l;if(n&&i)return{min:r,max:a};const d=this.getMatchingVisibleMetas();for(let u=0,h=d.length;u<h;++u)l=d[u].controller.getMinMax(this,e),n||(r=Math.min(r,l.min)),i||(a=Math.max(a,l.max));return r=i&&r>a?a:r,a=n&&r>a?r:a,{min:Vo(r,Vo(a,r)),max:Vo(a,Vo(r,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(e,r,a){const{beginAtZero:n,grace:i,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=T_(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=d<this.ticks.length;this._convertTicksToLabels(u?Z5(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=fL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,a;this.isHorizontal()?(r=this.left,a=this.right):(r=this.top,a=this.bottom,e=!e),this._startPixel=r,this._endPixel=a,this._reversePixels=e,this._length=a-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Bt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let a,n,i;for(a=0,n=e.length;a<n;a++)i=e[a],i.label=Bt(r.callback,[i.value,a,e],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,a=X5(this.ticks.length,e.ticks.maxTicksLimit),n=r.minRotation||0,i=r.maxRotation;let l=n,d,u,h;if(!this._isVisible()||!r.display||n>=i||a<=1||!this.isHorizontal()){this.labelRotation=n;return}const g=this._getLabelSizes(),x=g.widest.width,y=g.highest.height,p=dn(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/a:p/(a-1),x+6>d&&(d=p/(a-(e.offset?.5:1)),u=this.maxHeight-w0(e.grid)-r.padding-Q5(e.title,this.chart.options.font),h=Math.sqrt(x*x+y*y),l=h2(Math.min(Math.asin(dn((g.highest.height+6)/d,-1,1)),Math.asin(dn(u/h,-1,1))-Math.asin(dn(y/h,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:a,title:n,grid:i}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const u=Q5(n,r.options.font);if(d?(e.width=this.maxWidth,e.height=w0(i)+u):(e.height=this.maxHeight,e.width=w0(i)+u),a.display&&this.ticks.length){const{first:h,last:g,widest:x,highest:y}=this._getLabelSizes(),p=a.padding*2,w=Ko(this.labelRotation),j=Math.cos(w),k=Math.sin(w);if(d){const C=a.mirror?0:k*x.width+j*y.height;e.height=Math.min(this.maxHeight,e.height+C+p)}else{const C=a.mirror?0:j*x.width+k*y.height;e.width=Math.min(this.maxWidth,e.width+C+p)}this._calculatePadding(h,g,k,j)}}this._handleMargins(),d?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,a,n){const{ticks:{align:i,padding:l},position:d}=this.options,u=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,p=0;u?h?(y=n*e.width,p=a*r.height):(y=a*e.height,p=n*r.width):i==="start"?p=r.width:i==="end"?y=e.width:i!=="inner"&&(y=e.width/2,p=r.width/2),this.paddingLeft=Math.max((y-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((p-x+l)*this.width/(this.width-x),0)}else{let g=r.height/2,x=e.height/2;i==="start"?(g=0,x=e.height):i==="end"&&(g=r.height,x=0),this.paddingTop=g+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,a;for(r=0,a=e.length;r<a;r++)jr(e[r].label)&&(e.splice(r,1),a--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let a=this.ticks;r<a.length&&(a=Z5(a,r)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,a){const{ctx:n,_longestTextCache:i}=this,l=[],d=[],u=Math.floor(r/X5(r,a));let h=0,g=0,x,y,p,w,j,k,C,L,E,D,F;for(x=0;x<r;x+=u){if(w=e[x].label,j=this._resolveTickFontOptions(x),n.font=k=j.string,C=i[k]=i[k]||{data:{},gc:[]},L=j.lineHeight,E=D=0,!jr(w)&&!ma(w))E=sm(n,C.data,C.gc,E,w),D=L;else if(ma(w))for(y=0,p=w.length;y<p;++y)F=w[y],!jr(F)&&!ma(F)&&(E=sm(n,C.data,C.gc,E,F),D+=L);l.push(E),d.push(D),h=Math.max(E,h),g=Math.max(D,g)}wL(i,r);const se=l.indexOf(h),O=d.indexOf(g),U=T=>({width:l[T]||0,height:d[T]||0});return{first:U(0),last:U(r-1),widest:U(se),highest:U(O),widths:l,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return o_(this._alignToPixels?Ed(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const a=r[e];return a.$context||(a.$context=jL(this.getContext(),e,a))}return this.$context||(this.$context=NL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Ko(this.labelRotation),a=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),i=this._getLabelSizes(),l=e.autoSkipPadding||0,d=i?i.widest.width+l:0,u=i?i.highest.height+l:0;return this.isHorizontal()?u*a>d*n?d/a:u/n:u*n<d*a?u/a:d/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,a=this.chart,n=this.options,{grid:i,position:l,border:d}=n,u=i.offset,h=this.isHorizontal(),x=this.ticks.length+(u?1:0),y=w0(i),p=[],w=d.setContext(this.getContext()),j=w.display?w.width:0,k=j/2,C=function($){return Ed(a,$,j)};let L,E,D,F,se,O,U,T,W,I,B,X;if(l==="top")L=C(this.bottom),O=this.bottom-y,T=L-k,I=C(e.top)+k,X=e.bottom;else if(l==="bottom")L=C(this.top),I=e.top,X=C(e.bottom)-k,O=L+k,T=this.top+y;else if(l==="left")L=C(this.right),se=this.right-y,U=L-k,W=C(e.left)+k,B=e.right;else if(l==="right")L=C(this.left),W=e.left,B=C(e.right)-k,se=L+k,U=this.left+y;else if(r==="x"){if(l==="center")L=C((e.top+e.bottom)/2+.5);else if(xr(l)){const $=Object.keys(l)[0],de=l[$];L=C(this.chart.scales[$].getPixelForValue(de))}I=e.top,X=e.bottom,O=L+k,T=O+y}else if(r==="y"){if(l==="center")L=C((e.left+e.right)/2);else if(xr(l)){const $=Object.keys(l)[0],de=l[$];L=C(this.chart.scales[$].getPixelForValue(de))}se=L-k,U=se-y,W=e.left,B=e.right}const Q=$t(n.ticks.maxTicksLimit,x),ge=Math.max(1,Math.ceil(x/Q));for(E=0;E<x;E+=ge){const $=this.getContext(E),de=i.setContext($),ie=d.setContext($),ye=de.lineWidth,J=de.color,te=ie.dash||[],P=ie.dashOffset,Y=de.tickWidth,G=de.tickColor,ue=de.tickBorderDash||[],re=de.tickBorderDashOffset;D=vL(this,E,u),D!==void 0&&(F=Ed(a,D,ye),h?se=U=W=B=F:O=T=I=X=F,p.push({tx1:se,ty1:O,tx2:U,ty2:T,x1:W,y1:I,x2:B,y2:X,width:ye,color:J,borderDash:te,borderDashOffset:P,tickWidth:Y,tickColor:G,tickBorderDash:ue,tickBorderDashOffset:re}))}return this._ticksLength=x,this._borderValue=L,p}_computeLabelItems(e){const r=this.axis,a=this.options,{position:n,ticks:i}=a,l=this.isHorizontal(),d=this.ticks,{align:u,crossAlign:h,padding:g,mirror:x}=i,y=w0(a.grid),p=y+g,w=x?-g:p,j=-Ko(this.labelRotation),k=[];let C,L,E,D,F,se,O,U,T,W,I,B,X="middle";if(n==="top")se=this.bottom-w,O=this._getXAxisLabelAlignment();else if(n==="bottom")se=this.top+w,O=this._getXAxisLabelAlignment();else if(n==="left"){const ge=this._getYAxisLabelAlignment(y);O=ge.textAlign,F=ge.x}else if(n==="right"){const ge=this._getYAxisLabelAlignment(y);O=ge.textAlign,F=ge.x}else if(r==="x"){if(n==="center")se=(e.top+e.bottom)/2+p;else if(xr(n)){const ge=Object.keys(n)[0],$=n[ge];se=this.chart.scales[ge].getPixelForValue($)+p}O=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")F=(e.left+e.right)/2-p;else if(xr(n)){const ge=Object.keys(n)[0],$=n[ge];F=this.chart.scales[ge].getPixelForValue($)}O=this._getYAxisLabelAlignment(y).textAlign}r==="y"&&(u==="start"?X="top":u==="end"&&(X="bottom"));const Q=this._getLabelSizes();for(C=0,L=d.length;C<L;++C){E=d[C],D=E.label;const ge=i.setContext(this.getContext(C));U=this.getPixelForTick(C)+i.labelOffset,T=this._resolveTickFontOptions(C),W=T.lineHeight,I=ma(D)?D.length:1;const $=I/2,de=ge.color,ie=ge.textStrokeColor,ye=ge.textStrokeWidth;let J=O;l?(F=U,O==="inner"&&(C===L-1?J=this.options.reverse?"left":"right":C===0?J=this.options.reverse?"right":"left":J="center"),n==="top"?h==="near"||j!==0?B=-I*W+W/2:h==="center"?B=-Q.highest.height/2-$*W+W:B=-Q.highest.height+W/2:h==="near"||j!==0?B=W/2:h==="center"?B=Q.highest.height/2-$*W:B=Q.highest.height-I*W,x&&(B*=-1),j!==0&&!ge.showLabelBackdrop&&(F+=W/2*Math.sin(j))):(se=U,B=(1-I)*W/2);let te;if(ge.showLabelBackdrop){const P=un(ge.backdropPadding),Y=Q.heights[C],G=Q.widths[C];let ue=B-P.top,re=0-P.left;switch(X){case"middle":ue-=Y/2;break;case"bottom":ue-=Y;break}switch(O){case"center":re-=G/2;break;case"right":re-=G;break;case"inner":C===L-1?re-=G:C>0&&(re-=G/2);break}te={left:re,top:ue,width:G+P.width,height:Y+P.height,color:ge.backdropColor}}k.push({label:D,font:T,textOffset:B,options:{rotation:j,color:de,strokeColor:ie,strokeWidth:ye,textAlign:J,textBaseline:X,translation:[F,se],backdrop:te}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Ko(this.labelRotation))return e==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:a,mirror:n,padding:i}}=this.options,l=this._getLabelSizes(),d=e+i,u=l.widest.width;let h,g;return r==="left"?n?(g=this.right+i,a==="near"?h="left":a==="center"?(h="center",g+=u/2):(h="right",g+=u)):(g=this.right-d,a==="near"?h="right":a==="center"?(h="center",g-=u/2):(h="left",g=this.left)):r==="right"?n?(g=this.left+i,a==="near"?h="right":a==="center"?(h="center",g-=u/2):(h="left",g-=u)):(g=this.left+d,a==="near"?h="left":a==="center"?(h="center",g+=u/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:a,top:n,width:i,height:l}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(a,n,i,l),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const n=this.ticks.findIndex(i=>i.value===e);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const r=this.options.grid,a=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,l;const d=(u,h,g)=>{!g.width||!g.color||(a.save(),a.lineWidth=g.width,a.strokeStyle=g.color,a.setLineDash(g.borderDash||[]),a.lineDashOffset=g.borderDashOffset,a.beginPath(),a.moveTo(u.x,u.y),a.lineTo(h.x,h.y),a.stroke(),a.restore())};if(r.display)for(i=0,l=n.length;i<l;++i){const u=n[i];r.drawOnChartArea&&d({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),r.drawTicks&&d({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:a,grid:n}}=this,i=a.setContext(this.getContext()),l=a.display?i.width:0;if(!l)return;const d=n.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,g,x,y;this.isHorizontal()?(h=Ed(e,this.left,l)-l/2,g=Ed(e,this.right,d)+d/2,x=y=u):(x=Ed(e,this.top,l)-l/2,y=Ed(e,this.bottom,d)+d/2,h=g=u),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(h,x),r.lineTo(g,y),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,n=this._computeLabelArea();n&&km(a,n);const i=this.getLabelItems(e);for(const l of i){const d=l.options,u=l.font,h=l.label,g=l.textOffset;Zd(a,h,0,g,u,d)}n&&Sm(a)}drawTitle(){const{ctx:e,options:{position:r,title:a,reverse:n}}=this;if(!a.display)return;const i=os(a.font),l=un(a.padding),d=a.align;let u=i.lineHeight/2;r==="bottom"||r==="center"||xr(r)?(u+=l.bottom,ma(a.text)&&(u+=i.lineHeight*(a.text.length-1))):u+=l.top;const{titleX:h,titleY:g,maxWidth:x,rotation:y}=SL(this,u,r,d);Zd(e,a.text,0,0,i,{color:a.color,maxWidth:x,rotation:y,textAlign:kL(d,r,n),textBaseline:"middle",translation:[h,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,a=$t(e.grid&&e.grid.z,-1),n=$t(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Sh.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:a,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",n=[];let i,l;for(i=0,l=r.length;i<l;++i){const d=r[i];d[a]===this.id&&(!e||d.type===e)&&n.push(d)}return n}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return os(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fg{constructor(e,r,a){this.type=e,this.scope=r,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let a;AL(r)&&(a=this.register(r));const n=this.items,i=e.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in n||(n[i]=e,CL(e,l,a),this.override&&Da.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const r=this.items,a=e.id,n=this.scope;a in r&&delete r[a],n&&a in Da[n]&&(delete Da[n][a],this.override&&delete Xd[a])}}function CL(t,e,r){const a=U0(Object.create(null),[r?Da.get(r):{},Da.get(e),t.defaults]);Da.set(e,a),t.defaultRoutes&&_L(e,t.defaultRoutes),t.descriptors&&Da.describe(e,t.descriptors)}function _L(t,e){Object.keys(e).forEach(r=>{const a=r.split("."),n=a.pop(),i=[t].concat(a).join("."),l=e[r].split("."),d=l.pop(),u=l.join(".");Da.route(i,n,u,d)})}function AL(t){return"id"in t&&"defaults"in t}class LL{constructor(){this.controllers=new fg(Vl,"datasets",!0),this.elements=new fg(Kl,"elements"),this.plugins=new fg(Object,"plugins"),this.scales=new fg(Sh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,a){[...r].forEach(n=>{const i=a||this._getRegistryForType(n);a||i.isForType(n)||i===this.plugins&&n.id?this._exec(e,i,n):gr(n,l=>{const d=a||this._getRegistryForType(l);this._exec(e,d,l)})})}_exec(e,r,a){const n=u2(e);Bt(a["before"+n],[],a),r[e](a),Bt(a["after"+n],[],a)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const a=this._typedRegistries[r];if(a.isForType(e))return a}return this.plugins}_get(e,r,a){const n=r.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return n}}var Zo=new LL;class EL{constructor(){this._init=void 0}notify(e,r,a,n){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=n?this._descriptors(e).filter(n):this._descriptors(e),l=this._notify(i,e,r,a);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,r,a,n){n=n||{};for(const i of e){const l=i.plugin,d=l[a],u=[r,n,i.options];if(Bt(d,u,l)===!1&&n.cancelable)return!1}return!0}invalidate(){jr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const a=e&&e.config,n=$t(a.options&&a.options.plugins,{}),i=ML(a);return n===!1&&!r?[]:TL(e,i,n,r)}_notifyStateChanges(e){const r=this._oldCache||[],a=this._cache,n=(i,l)=>i.filter(d=>!l.some(u=>d.plugin.id===u.plugin.id));this._notify(n(r,a),e,"stop"),this._notify(n(a,r),e,"start")}}function ML(t){const e={},r=[],a=Object.keys(Zo.plugins.items);for(let i=0;i<a.length;i++)r.push(Zo.getPlugin(a[i]));const n=t.plugins||[];for(let i=0;i<n.length;i++){const l=n[i];r.indexOf(l)===-1&&(r.push(l),e[l.id]=!0)}return{plugins:r,localIds:e}}function RL(t,e){return!e&&t===!1?null:t===!0?{}:t}function TL(t,{plugins:e,localIds:r},a,n){const i=[],l=t.getContext();for(const d of e){const u=d.id,h=RL(a[u],n);h!==null&&i.push({plugin:d,options:PL(t.config,{plugin:d,local:r[u]},h,l)})}return i}function PL(t,{plugin:e,local:r},a,n){const i=t.pluginScopeKeys(e),l=t.getOptionScopes(a,i);return r&&e.defaults&&l.push(e.defaults),t.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function y1(t,e){const r=Da.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function DL(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function OL(t,e){return t===e?"_index_":"_value_"}function K5(t){if(t==="x"||t==="y"||t==="r")return t}function FL(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function v1(t,...e){if(K5(t))return t;for(const r of e){const a=r.axis||FL(r.position)||t.length>1&&K5(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function J5(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function BL(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(r.length)return J5(t,"x",r[0])||J5(t,"y",r[0])}return{}}function zL(t,e){const r=Xd[t.type]||{scales:{}},a=e.scales||{},n=y1(t.type,e),i=Object.create(null);return Object.keys(a).forEach(l=>{const d=a[l];if(!xr(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=v1(l,d,BL(l,t),Da.scales[d.type]),h=OL(u,n),g=r.scales||{};i[l]=E0(Object.create(null),[{axis:u},d,g[u],g[h]])}),t.data.datasets.forEach(l=>{const d=l.type||t.type,u=l.indexAxis||y1(d,e),g=(Xd[d]||{}).scales||{};Object.keys(g).forEach(x=>{const y=DL(x,u),p=l[y+"AxisID"]||y;i[p]=i[p]||Object.create(null),E0(i[p],[{axis:y},a[p],g[x]])})}),Object.keys(i).forEach(l=>{const d=i[l];E0(d,[Da.scales[d.type],Da.scale])}),i}function fN(t){const e=t.options||(t.options={});e.plugins=$t(e.plugins,{}),e.scales=zL(t,e)}function gN(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function IL(t){return t=t||{},t.data=gN(t.data),fN(t),t}const ev=new Map,mN=new Set;function gg(t,e){let r=ev.get(t);return r||(r=e(),ev.set(t,r),mN.add(r)),r}const N0=(t,e,r)=>{const a=Yc(e,r);a!==void 0&&t.add(a)};class UL{constructor(e){this._config=IL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return gg(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return gg(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,a=this.type;return gg(`${a}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const a=this._scopeCache;let n=a.get(e);return(!n||r)&&(n=new Map,a.set(e,n)),n}getOptionScopes(e,r,a){const{options:n,type:i}=this,l=this._cachedScopes(e,a),d=l.get(r);if(d)return d;const u=new Set;r.forEach(g=>{e&&(u.add(e),g.forEach(x=>N0(u,e,x))),g.forEach(x=>N0(u,n,x)),g.forEach(x=>N0(u,Xd[i]||{},x)),g.forEach(x=>N0(u,Da,x)),g.forEach(x=>N0(u,x1,x))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),mN.has(r)&&l.set(r,h),h}chartOptionScopes(){const{options:e,type:r}=this;return[e,Xd[r]||{},Da.datasets[r]||{},{type:r},Da,x1]}resolveNamedOptions(e,r,a,n=[""]){const i={$shared:!0},{resolver:l,subPrefixes:d}=tv(this._resolverCache,e,n);let u=l;if(qL(l,r)){i.$shared=!1,a=Gc(a)?a():a;const h=this.createResolver(e,a,d);u=gh(l,a,h)}for(const h of r)i[h]=u[h];return i}createResolver(e,r,a=[""],n){const{resolver:i}=tv(this._resolverCache,e,a);return xr(r)?gh(i,r,void 0,n):i}}function tv(t,e,r){let a=t.get(e);a||(a=new Map,t.set(e,a));const n=r.join();let i=a.get(n);return i||(i={resolver:y2(e,r),subPrefixes:r.filter(d=>!d.toLowerCase().includes("hover"))},a.set(n,i)),i}const HL=t=>xr(t)&&Object.getOwnPropertyNames(t).some(e=>Gc(t[e]));function qL(t,e){const{isScriptable:r,isIndexable:a}=G3(t);for(const n of e){const i=r(n),l=a(n),d=(l||i)&&t[n];if(i&&(Gc(d)||HL(d))||l&&ma(d))return!0}return!1}var VL="4.5.1";const $L=["top","bottom","left","right","chartArea"];function rv(t,e){return t==="top"||t==="bottom"||$L.indexOf(t)===-1&&e==="x"}function av(t,e){return function(r,a){return r[t]===a[t]?r[e]-a[e]:r[t]-a[t]}}function sv(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Bt(r&&r.onComplete,[t],e)}function WL(t){const e=t.chart,r=e.options.animation;Bt(r&&r.onProgress,[t],e)}function pN(t){return N2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const qg={},nv=t=>{const e=pN(t);return Object.values(qg).filter(r=>r.canvas===e).pop()};function YL(t,e,r){const a=Object.keys(t);for(const n of a){const i=+n;if(i>=e){const l=t[n];delete t[n],(r>0||i>e)&&(t[i+r]=l)}}}function GL(t,e,r,a){return!r||t.type==="mouseout"?null:a?e:t}var Fc;let rl=(Fc=class{static register(...e){Zo.add(...e),iv()}static unregister(...e){Zo.remove(...e),iv()}constructor(e,r){const a=this.config=new UL(r),n=pN(e),i=nv(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||hL(n)),this.platform.updateConfig(a);const d=this.platform.acquireContext(n,l.aspectRatio),u=d&&d.canvas,h=u&&u.height,g=u&&u.width;if(this.id=YC(),this.ctx=d,this.canvas=u,this.width=g,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new EL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=u_(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],qg[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Fl.listen(this,"complete",sv),Fl.listen(this,"progress",WL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:a,height:n,_aspectRatio:i}=this;return jr(e)?r&&i?i:n?a/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():A5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return S5(this.canvas,this.ctx),this}stop(){return Fl.stop(this),this}resize(e,r){Fl.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const a=this.options,n=this.canvas,i=a.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(n,e,r,i),d=a.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,A5(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Bt(a.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};gr(r,(a,n)=>{a.id=n})}buildOrUpdateScales(){const e=this.options,r=e.scales,a=this.scales,n=Object.keys(a).reduce((l,d)=>(l[d]=!1,l),{});let i=[];r&&(i=i.concat(Object.keys(r).map(l=>{const d=r[l],u=v1(l,d),h=u==="r",g=u==="x";return{options:d,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),gr(i,l=>{const d=l.options,u=d.id,h=v1(u,d),g=$t(d.type,l.dtype);(d.position===void 0||rv(d.position,h)!==rv(l.dposition))&&(d.position=l.dposition),n[u]=!0;let x=null;if(u in a&&a[u].type===g)x=a[u];else{const y=Zo.getScale(g);x=new y({id:u,type:g,ctx:this.ctx,chart:this}),a[x.id]=x}x.init(d,e)}),gr(n,(l,d)=>{l||delete a[d]}),gr(a,l=>{Ri.configure(this,l,l.options),Ri.addBox(this,l)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,a=e.length;if(e.sort((n,i)=>n.index-i.index),a>r){for(let n=r;n<a;++n)this._destroyDatasetMeta(n);e.splice(r,a-r)}this._sortedMetasets=e.slice(0).sort(av("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((a,n)=>{r.filter(i=>i===a._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let a,n;for(this._removeUnreferencedMetasets(),a=0,n=r.length;a<n;a++){const i=r[a];let l=this.getDatasetMeta(a);const d=i.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(a),l=this.getDatasetMeta(a)),l.type=d,l.indexAxis=i.indexAxis||y1(d,this.options),l.order=i.order||0,l.index=a,l.label=""+i.label,l.visible=this.isDatasetVisible(a),l.controller)l.controller.updateIndex(a),l.controller.linkScales();else{const u=Zo.getController(d),{datasetElementType:h,dataElementType:g}=Da.datasets[d];Object.assign(u,{dataElementType:Zo.getElement(g),datasetElementType:h&&Zo.getElement(h)}),l.controller=new u(this,a),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){gr(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const a=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:x}=this.getDatasetMeta(h),y=!n&&i.indexOf(x)===-1;x.buildOrUpdateElements(y),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=a.layout.autoPadding?l:0,this._updateLayout(l),n||gr(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(av("z","_idx"));const{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){gr(this.scales,e=>{Ri.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!p5(r,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:a,start:n,count:i}of r){const l=a==="_removeElements"?-i:i;YL(e,n,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,a=i=>new Set(e.filter(l=>l[0]===i).map((l,d)=>d+","+l.splice(1).join(","))),n=a(0);for(let i=1;i<r;i++)if(!p5(n,a(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ri.update(this,this.width,this.height,e);const r=this.chartArea,a=r.width<=0||r.height<=0;this._layers=[],gr(this.boxes,n=>{a&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,a=this.data.datasets.length;r<a;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,a=this.data.datasets.length;r<a;++r)this._updateDataset(r,Gc(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const a=this.getDatasetMeta(e),n={meta:a,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(a.controller._update(r),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fl.has(this)?this.attached&&!Fl.running(this)&&Fl.start(this):(this.draw(),sv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,a=[];let n,i;for(n=0,i=r.length;n<i;++n){const l=r[n];(!e||l.visible)&&a.push(l)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,a={meta:e,index:e.index,cancelable:!0},n=sN(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(n&&km(r,n),e.controller.draw(),n&&Sm(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Jo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,a,n){const i=$A.modes[r];return typeof i=="function"?i(this,e,a,n):[]}getDatasetMeta(e){const r=this.data.datasets[e],a=this._metasets;let n=a.filter(i=>i&&i._dataset===r).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},a.push(n)),n}getContext(){return this.$context||(this.$context=Qc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!r.hidden}setDatasetVisibility(e,r){const a=this.getDatasetMeta(e);a.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,a){const n=a?"show":"hide",i=this.getDatasetMeta(e),l=i.controller._resolveAnimations(void 0,n);H0(r)?(i.data[r].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),l.update(i,{visible:a}),this.update(d=>d.datasetIndex===e?n:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Fl.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),S5(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete qg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,a=(i,l)=>{r.addEventListener(this,i,l),e[i]=l},n=(i,l,d)=>{i.offsetX=l,i.offsetY=d,this._eventHandler(i)};gr(this.options.events,i=>a(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,a=(u,h)=>{r.addEventListener(this,u,h),e[u]=h},n=(u,h)=>{e[u]&&(r.removeEventListener(this,u,h),delete e[u])},i=(u,h)=>{this.canvas&&this.resize(u,h)};let l;const d=()=>{n("attach",d),this.attached=!0,this.resize(),a("resize",i),a("detach",l)};l=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),a("attach",d)},r.isAttached(this.canvas)?d():l()}unbindEvents(){gr(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},gr(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,a){const n=a?"set":"remove";let i,l,d,u;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),d=0,u=e.length;d<u;++d){l=e[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[n+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],a=e.map(({datasetIndex:i,index:l})=>{const d=this.getDatasetMeta(i);if(!d)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:d.data[l],index:l}});!tm(a,r)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,r))}notifyPlugins(e,r,a){return this._plugins.notify(this,e,r,a)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,a){const n=this.options.hover,i=(u,h)=>u.filter(g=>!h.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),l=i(r,e),d=a?e:i(e,r);l.length&&this.updateHoverStyle(l,n.mode,!1),d.length&&n.mode&&this.updateHoverStyle(d,n.mode,!0)}_eventHandler(e,r){const a={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},n=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,n)===!1)return;const i=this._handleEvent(e,r,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,n),(i||a.changed)&&this.render(),this}_handleEvent(e,r,a){const{_active:n=[],options:i}=this,l=r,d=this._getActiveElements(e,n,a,l),u=JC(e),h=GL(e,this._lastEvent,a,u);a&&(this._lastEvent=null,Bt(i.onHover,[e,d,this],this),u&&Bt(i.onClick,[e,d,this],this));const g=!tm(d,n);return(g||r)&&(this._active=d,this._updateHoverStyles(d,n,r)),this._lastEvent=h,g}_getActiveElements(e,r,a,n){if(e.type==="mouseout")return[];if(!a)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}},Ke(Fc,"defaults",Da),Ke(Fc,"instances",qg),Ke(Fc,"overrides",Xd),Ke(Fc,"registry",Zo),Ke(Fc,"version",VL),Ke(Fc,"getChart",nv),Fc);function iv(){return gr(rl.instances,t=>t._plugins.invalidate())}function XL(t,e,r){const{startAngle:a,x:n,y:i,outerRadius:l,innerRadius:d,options:u}=e,{borderWidth:h,borderJoinStyle:g}=u,x=Math.min(h/l,ln(a-r));if(t.beginPath(),t.arc(n,i,l-h/2,a+x/2,r-x/2),d>0){const y=Math.min(h/d,ln(a-r));t.arc(n,i,d+h/2,r-y/2,a+y/2,!0)}else{const y=Math.min(h/2,l*ln(a-r));if(g==="round")t.arc(n,i,y,r-Er/2,a+Er/2,!0);else if(g==="bevel"){const p=2*y*y,w=-p*Math.cos(r+Er/2)+n,j=-p*Math.sin(r+Er/2)+i,k=p*Math.cos(a+Er/2)+n,C=p*Math.sin(a+Er/2)+i;t.lineTo(w,j),t.lineTo(k,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function ZL(t,e,r){const{startAngle:a,pixelMargin:n,x:i,y:l,outerRadius:d,innerRadius:u}=e;let h=n/d;t.beginPath(),t.arc(i,l,d,a-h,r+h),u>n?(h=n/u,t.arc(i,l,u,r+h,a-h,!0)):t.arc(i,l,n,r+Va,a-Va),t.closePath(),t.clip()}function QL(t){return b2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function KL(t,e,r,a){const n=QL(t.options.borderRadius),i=(r-e)/2,l=Math.min(i,a*e/2),d=u=>{const h=(r-Math.min(i,u))*a/2;return dn(u,0,Math.min(i,h))};return{outerStart:d(n.outerStart),outerEnd:d(n.outerEnd),innerStart:dn(n.innerStart,0,l),innerEnd:dn(n.innerEnd,0,l)}}function Yu(t,e,r,a){return{x:r+t*Math.cos(e),y:a+t*Math.sin(e)}}function om(t,e,r,a,n,i){const{x:l,y:d,startAngle:u,pixelMargin:h,innerRadius:g}=e,x=Math.max(e.outerRadius+a+r-h,0),y=g>0?g+a+r+h:0;let p=0;const w=n-u;if(a){const ge=g>0?g-a:0,$=x>0?x-a:0,de=(ge+$)/2,ie=de!==0?w*de/(de+a):w;p=(w-ie)/2}const j=Math.max(.001,w*x-r/Er)/x,k=(w-j)/2,C=u+k+p,L=n-k-p,{outerStart:E,outerEnd:D,innerStart:F,innerEnd:se}=KL(e,y,x,L-C),O=x-E,U=x-D,T=C+E/O,W=L-D/U,I=y+F,B=y+se,X=C+F/I,Q=L-se/B;if(t.beginPath(),i){const ge=(T+W)/2;if(t.arc(l,d,x,T,ge),t.arc(l,d,x,ge,W),D>0){const ye=Yu(U,W,l,d);t.arc(ye.x,ye.y,D,W,L+Va)}const $=Yu(B,L,l,d);if(t.lineTo($.x,$.y),se>0){const ye=Yu(B,Q,l,d);t.arc(ye.x,ye.y,se,L+Va,Q+Math.PI)}const de=(L-se/y+(C+F/y))/2;if(t.arc(l,d,y,L-se/y,de,!0),t.arc(l,d,y,de,C+F/y,!0),F>0){const ye=Yu(I,X,l,d);t.arc(ye.x,ye.y,F,X+Math.PI,C-Va)}const ie=Yu(O,C,l,d);if(t.lineTo(ie.x,ie.y),E>0){const ye=Yu(O,T,l,d);t.arc(ye.x,ye.y,E,C-Va,T)}}else{t.moveTo(l,d);const ge=Math.cos(T)*x+l,$=Math.sin(T)*x+d;t.lineTo(ge,$);const de=Math.cos(W)*x+l,ie=Math.sin(W)*x+d;t.lineTo(de,ie)}t.closePath()}function JL(t,e,r,a,n){const{fullCircles:i,startAngle:l,circumference:d}=e;let u=e.endAngle;if(i){om(t,e,r,a,u,n);for(let h=0;h<i;++h)t.fill();isNaN(d)||(u=l+(d%ca||ca))}return om(t,e,r,a,u,n),t.fill(),u}function eE(t,e,r,a,n){const{fullCircles:i,startAngle:l,circumference:d,options:u}=e,{borderWidth:h,borderJoinStyle:g,borderDash:x,borderDashOffset:y,borderRadius:p}=u,w=u.borderAlign==="inner";if(!h)return;t.setLineDash(x||[]),t.lineDashOffset=y,w?(t.lineWidth=h*2,t.lineJoin=g||"round"):(t.lineWidth=h,t.lineJoin=g||"bevel");let j=e.endAngle;if(i){om(t,e,r,a,j,n);for(let k=0;k<i;++k)t.stroke();isNaN(d)||(j=l+(d%ca||ca))}w&&ZL(t,e,j),u.selfJoin&&j-l>=Er&&p===0&&g!=="miter"&&XL(t,e,j),i||(om(t,e,r,a,j,n),t.stroke())}class qc extends Kl{constructor(r){super();Ke(this,"circumference");Ke(this,"endAngle");Ke(this,"fullCircles");Ke(this,"innerRadius");Ke(this,"outerRadius");Ke(this,"pixelMargin");Ke(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,a,n){const i=this.getProps(["x","y"],n),{angle:l,distance:d}=z3(i,{x:r,y:a}),{startAngle:u,endAngle:h,innerRadius:g,outerRadius:x,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),p=(this.options.spacing+this.options.borderWidth)/2,w=$t(y,h-u),j=q0(l,u,h)&&u!==h,k=w>=ca||j,C=Ul(d,g+p,x+p);return k&&C}getCenterPoint(r){const{x:a,y:n,startAngle:i,endAngle:l,innerRadius:d,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:h,spacing:g}=this.options,x=(i+l)/2,y=(d+u+g+h)/2;return{x:a+Math.cos(x)*y,y:n+Math.sin(x)*y}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:a,circumference:n}=this,i=(a.offset||0)/4,l=(a.spacing||0)/2,d=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=n>ca?Math.floor(n/ca):0,n===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const u=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(u)*i,Math.sin(u)*i);const h=1-Math.sin(Math.min(Er,n||0)),g=i*h;r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,JL(r,this,g,l,d),eE(r,this,g,l,d),r.restore()}}Ke(qc,"id","arc"),Ke(qc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ke(qc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ke(qc,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function xN(t,e,r=e){t.lineCap=$t(r.borderCapStyle,e.borderCapStyle),t.setLineDash($t(r.borderDash,e.borderDash)),t.lineDashOffset=$t(r.borderDashOffset,e.borderDashOffset),t.lineJoin=$t(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=$t(r.borderWidth,e.borderWidth),t.strokeStyle=$t(r.borderColor,e.borderColor)}function tE(t,e,r){t.lineTo(r.x,r.y)}function rE(t){return t.stepped?k_:t.tension||t.cubicInterpolationMode==="monotone"?S_:tE}function bN(t,e,r={}){const a=t.length,{start:n=0,end:i=a-1}=r,{start:l,end:d}=e,u=Math.max(n,l),h=Math.min(i,d),g=n<l&&i<l||n>d&&i>d;return{count:a,start:u,loop:e.loop,ilen:h<u&&!g?a+h-u:h-u}}function aE(t,e,r,a){const{points:n,options:i}=e,{count:l,start:d,loop:u,ilen:h}=bN(n,r,a),g=rE(i);let{move:x=!0,reverse:y}=a||{},p,w,j;for(p=0;p<=h;++p)w=n[(d+(y?h-p:p))%l],!w.skip&&(x?(t.moveTo(w.x,w.y),x=!1):g(t,j,w,y,i.stepped),j=w);return u&&(w=n[(d+(y?h:0))%l],g(t,j,w,y,i.stepped)),!!u}function sE(t,e,r,a){const n=e.points,{count:i,start:l,ilen:d}=bN(n,r,a),{move:u=!0,reverse:h}=a||{};let g=0,x=0,y,p,w,j,k,C;const L=D=>(l+(h?d-D:D))%i,E=()=>{j!==k&&(t.lineTo(g,k),t.lineTo(g,j),t.lineTo(g,C))};for(u&&(p=n[L(0)],t.moveTo(p.x,p.y)),y=0;y<=d;++y){if(p=n[L(y)],p.skip)continue;const D=p.x,F=p.y,se=D|0;se===w?(F<j?j=F:F>k&&(k=F),g=(x*g+D)/++x):(E(),t.lineTo(D,F),w=se,x=0,j=k=F),C=F}E()}function w1(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?sE:aE}function nE(t){return t.stepped?sA:t.tension||t.cubicInterpolationMode==="monotone"?nA:Od}function iE(t,e,r,a){let n=e._path;n||(n=e._path=new Path2D,e.path(n,r,a)&&n.closePath()),xN(t,e.options),t.stroke(n)}function oE(t,e,r,a){const{segments:n,options:i}=e,l=w1(e);for(const d of n)xN(t,i,d.style),t.beginPath(),l(t,e,d,{start:r,end:r+a-1})&&t.closePath(),t.stroke()}const lE=typeof Path2D=="function";function cE(t,e,r,a){lE&&!e.options.segment?iE(t,e,r,a):oE(t,e,r,a)}class si extends Kl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const n=a.spanGaps?this._loop:this._fullLoop;Z_(this._points,a,e,n,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uA(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,a=e.length;return a&&r[e[a-1].end]}interpolate(e,r){const a=this.options,n=e[r],i=this.points,l=aN(this,{property:r,start:n,end:n});if(!l.length)return;const d=[],u=nE(a);let h,g;for(h=0,g=l.length;h<g;++h){const{start:x,end:y}=l[h],p=i[x],w=i[y];if(p===w){d.push(p);continue}const j=Math.abs((n-p[r])/(w[r]-p[r])),k=u(p,w,j,a.stepped);k[r]=e[r],d.push(k)}return d.length===1?d[0]:d}pathSegment(e,r,a){return w1(this)(e,this,r,a)}path(e,r,a){const n=this.segments,i=w1(this);let l=this._loop;r=r||0,a=a||this.points.length-r;for(const d of n)l&=i(e,this,d,{start:r,end:r+a-1});return!!l}draw(e,r,a,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),cE(e,this,a,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ke(si,"id","line"),Ke(si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ke(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ke(si,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ov(t,e,r,a){const n=t.options,{[r]:i}=t.getProps([r],a);return Math.abs(e-i)<n.radius+n.hitRadius}class $l extends Kl{constructor(r){super();Ke(this,"parsed");Ke(this,"skip");Ke(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,a,n){const i=this.options,{x:l,y:d}=this.getProps(["x","y"],n);return Math.pow(r-l,2)+Math.pow(a-d,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,a){return ov(this,r,"x",a)}inYRange(r,a){return ov(this,r,"y",a)}getCenterPoint(r){const{x:a,y:n}=this.getProps(["x","y"],r);return{x:a,y:n}}size(r){r=r||this.options||{};let a=r.radius||0;a=Math.max(a,a&&r.hoverRadius||0);const n=a&&r.borderWidth||0;return(a+n)*2}draw(r,a){const n=this.options;this.skip||n.radius<.1||!Jo(this,a,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,b1(r,n,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Ke($l,"id","point"),Ke($l,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ke($l,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yN(t,e){const{x:r,y:a,base:n,width:i,height:l}=t.getProps(["x","y","base","width","height"],e);let d,u,h,g,x;return t.horizontal?(x=l/2,d=Math.min(r,n),u=Math.max(r,n),h=a-x,g=a+x):(x=i/2,d=r-x,u=r+x,h=Math.min(a,n),g=Math.max(a,n)),{left:d,top:h,right:u,bottom:g}}function Vc(t,e,r,a){return t?0:dn(e,r,a)}function dE(t,e,r){const a=t.options.borderWidth,n=t.borderSkipped,i=Y3(a);return{t:Vc(n.top,i.top,0,r),r:Vc(n.right,i.right,0,e),b:Vc(n.bottom,i.bottom,0,r),l:Vc(n.left,i.left,0,e)}}function uE(t,e,r){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,i=$d(n),l=Math.min(e,r),d=t.borderSkipped,u=a||xr(n);return{topLeft:Vc(!u||d.top||d.left,i.topLeft,0,l),topRight:Vc(!u||d.top||d.right,i.topRight,0,l),bottomLeft:Vc(!u||d.bottom||d.left,i.bottomLeft,0,l),bottomRight:Vc(!u||d.bottom||d.right,i.bottomRight,0,l)}}function hE(t){const e=yN(t),r=e.right-e.left,a=e.bottom-e.top,n=dE(t,r/2,a/2),i=uE(t,r/2,a/2);return{outer:{x:e.left,y:e.top,w:r,h:a,radius:i},inner:{x:e.left+n.l,y:e.top+n.t,w:r-n.l-n.r,h:a-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function px(t,e,r,a){const n=e===null,i=r===null,d=t&&!(n&&i)&&yN(t,a);return d&&(n||Ul(e,d.left,d.right))&&(i||Ul(r,d.top,d.bottom))}function fE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function gE(t,e){t.rect(e.x,e.y,e.w,e.h)}function xx(t,e,r={}){const a=t.x!==r.x?-e:0,n=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-a,l=(t.y+t.h!==r.y+r.h?e:0)-n;return{x:t.x+a,y:t.y+n,w:t.w+i,h:t.h+l,radius:t.radius}}class tl extends Kl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:a,backgroundColor:n}}=this,{inner:i,outer:l}=hE(this),d=fE(l.radius)?V0:gE;e.save(),(l.w!==i.w||l.h!==i.h)&&(e.beginPath(),d(e,xx(l,r,i)),e.clip(),d(e,xx(i,-r,l)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),d(e,xx(i,r)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,r,a){return px(this,e,r,a)}inXRange(e,r){return px(this,e,null,r)}inYRange(e,r){return px(this,null,e,r)}getCenterPoint(e){const{x:r,y:a,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+n)/2:r,y:i?a:(a+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ke(tl,"id","bar"),Ke(tl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ke(tl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function mE(t,e,r){const a=t.segments,n=t.points,i=e.points,l=[];for(const d of a){let{start:u,end:h}=d;h=Am(u,h,n);const g=N1(r,n[u],n[h],d.loop);if(!e.segments){l.push({source:d,target:g,start:n[u],end:n[h]});continue}const x=aN(e,g);for(const y of x){const p=N1(r,i[y.start],i[y.end],y.loop),w=rN(d,n,p);for(const j of w)l.push({source:j,target:y,start:{[r]:lv(g,p,"start",Math.max)},end:{[r]:lv(g,p,"end",Math.min)}})}}return l}function N1(t,e,r,a){if(a)return;let n=e[t],i=r[t];return t==="angle"&&(n=ln(n),i=ln(i)),{property:t,start:n,end:i}}function pE(t,e){const{x:r=null,y:a=null}=t||{},n=e.points,i=[];return e.segments.forEach(({start:l,end:d})=>{d=Am(l,d,n);const u=n[l],h=n[d];a!==null?(i.push({x:u.x,y:a}),i.push({x:h.x,y:a})):r!==null&&(i.push({x:r,y:u.y}),i.push({x:r,y:h.y}))}),i}function Am(t,e,r){for(;e>t;e--){const a=r[e];if(!isNaN(a.x)&&!isNaN(a.y))break}return e}function lv(t,e,r,a){return t&&e?a(t[r],e[r]):t?t[r]:e?e[r]:0}function vN(t,e){let r=[],a=!1;return ma(t)?(a=!0,r=t):r=pE(t,e),r.length?new si({points:r,options:{tension:0},_loop:a,_fullLoop:a}):null}function cv(t){return t&&t.fill!==!1}function xE(t,e,r){let n=t[e].fill;const i=[e];let l;if(!r)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!Ns(n))return n;if(l=t[n],!l)return!1;if(l.visible)return n;i.push(n),n=l.fill}return!1}function bE(t,e,r){const a=NE(t);if(xr(a))return isNaN(a.value)?!1:a;let n=parseFloat(a);return Ns(n)&&Math.floor(n)===n?yE(a[0],e,n,r):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function yE(t,e,r,a){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=a?!1:r}function vE(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:xr(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function wE(t,e,r){let a;return t==="start"?a=r:t==="end"?a=e.options.reverse?e.min:e.max:xr(t)?a=t.value:a=e.getBaseValue(),a}function NE(t){const e=t.options,r=e.fill;let a=$t(r&&r.target,r);return a===void 0&&(a=!!e.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function jE(t){const{scale:e,index:r,line:a}=t,n=[],i=a.segments,l=a.points,d=kE(e,r);d.push(vN({x:null,y:e.bottom},a));for(let u=0;u<i.length;u++){const h=i[u];for(let g=h.start;g<=h.end;g++)SE(n,l[g],d)}return new si({points:n,options:{}})}function kE(t,e){const r=[],a=t.getMatchingVisibleMetas("line");for(let n=0;n<a.length;n++){const i=a[n];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function SE(t,e,r){const a=[];for(let n=0;n<r.length;n++){const i=r[n],{first:l,last:d,point:u}=CE(i,e,"x");if(!(!u||l&&d)){if(l)a.unshift(u);else if(t.push(u),!d)break}}t.push(...a)}function CE(t,e,r){const a=t.interpolate(e,r);if(!a)return{};const n=a[r],i=t.segments,l=t.points;let d=!1,u=!1;for(let h=0;h<i.length;h++){const g=i[h],x=l[g.start][r],y=l[g.end][r];if(Ul(n,x,y)){d=n===x,u=n===y;break}}return{first:d,last:u,point:a}}class wN{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,a){const{x:n,y:i,radius:l}=this;return r=r||{start:0,end:ca},e.arc(n,i,l,r.end,r.start,!0),!a.bounds}interpolate(e){const{x:r,y:a,radius:n}=this,i=e.angle;return{x:r+Math.cos(i)*n,y:a+Math.sin(i)*n,angle:i}}}function _E(t){const{chart:e,fill:r,line:a}=t;if(Ns(r))return AE(e,r);if(r==="stack")return jE(t);if(r==="shape")return!0;const n=LE(t);return n instanceof wN?n:vN(n,a)}function AE(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function LE(t){return(t.scale||{}).getPointPositionForValue?ME(t):EE(t)}function EE(t){const{scale:e={},fill:r}=t,a=vE(r,e);if(Ns(a)){const n=e.isHorizontal();return{x:n?a:null,y:n?null:a}}return null}function ME(t){const{scale:e,fill:r}=t,a=e.options,n=e.getLabels().length,i=a.reverse?e.max:e.min,l=wE(r,e,i),d=[];if(a.grid.circular){const u=e.getPointPositionForValue(0,i);return new wN({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(l)})}for(let u=0;u<n;++u)d.push(e.getPointPositionForValue(u,l));return d}function bx(t,e,r){const a=_E(e),{chart:n,index:i,line:l,scale:d,axis:u}=e,h=l.options,g=h.fill,x=h.backgroundColor,{above:y=x,below:p=x}=g||{},w=n.getDatasetMeta(i),j=sN(n,w);a&&l.points.length&&(km(t,r),RE(t,{line:l,target:a,above:y,below:p,area:r,scale:d,axis:u,clip:j}),Sm(t))}function RE(t,e){const{line:r,target:a,above:n,below:i,area:l,scale:d,clip:u}=e,h=r._loop?"angle":e.axis;t.save();let g=i;i!==n&&(h==="x"?(dv(t,a,l.top),yx(t,{line:r,target:a,color:n,scale:d,property:h,clip:u}),t.restore(),t.save(),dv(t,a,l.bottom)):h==="y"&&(uv(t,a,l.left),yx(t,{line:r,target:a,color:i,scale:d,property:h,clip:u}),t.restore(),t.save(),uv(t,a,l.right),g=n)),yx(t,{line:r,target:a,color:g,scale:d,property:h,clip:u}),t.restore()}function dv(t,e,r){const{segments:a,points:n}=e;let i=!0,l=!1;t.beginPath();for(const d of a){const{start:u,end:h}=d,g=n[u],x=n[Am(u,h,n)];i?(t.moveTo(g.x,g.y),i=!1):(t.lineTo(g.x,r),t.lineTo(g.x,g.y)),l=!!e.pathSegment(t,d,{move:l}),l?t.closePath():t.lineTo(x.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function uv(t,e,r){const{segments:a,points:n}=e;let i=!0,l=!1;t.beginPath();for(const d of a){const{start:u,end:h}=d,g=n[u],x=n[Am(u,h,n)];i?(t.moveTo(g.x,g.y),i=!1):(t.lineTo(r,g.y),t.lineTo(g.x,g.y)),l=!!e.pathSegment(t,d,{move:l}),l?t.closePath():t.lineTo(r,x.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function yx(t,e){const{line:r,target:a,property:n,color:i,scale:l,clip:d}=e,u=mE(r,a,n);for(const{source:h,target:g,start:x,end:y}of u){const{style:{backgroundColor:p=i}={}}=h,w=a!==!0;t.save(),t.fillStyle=p,TE(t,l,d,w&&N1(n,x,y)),t.beginPath();const j=!!r.pathSegment(t,h);let k;if(w){j?t.closePath():hv(t,a,y,n);const C=!!a.pathSegment(t,g,{move:j,reverse:!0});k=j&&C,k||hv(t,a,x,n)}t.closePath(),t.fill(k?"evenodd":"nonzero"),t.restore()}}function TE(t,e,r,a){const n=e.chart.chartArea,{property:i,start:l,end:d}=a||{};if(i==="x"||i==="y"){let u,h,g,x;i==="x"?(u=l,h=n.top,g=d,x=n.bottom):(u=n.left,h=l,g=n.right,x=d),t.beginPath(),r&&(u=Math.max(u,r.left),g=Math.min(g,r.right),h=Math.max(h,r.top),x=Math.min(x,r.bottom)),t.rect(u,h,g-u,x-h),t.clip()}}function hv(t,e,r,a){const n=e.interpolate(r,a);n&&t.lineTo(n.x,n.y)}var af={id:"filler",afterDatasetsUpdate(t,e,r){const a=(t.data.datasets||[]).length,n=[];let i,l,d,u;for(l=0;l<a;++l)i=t.getDatasetMeta(l),d=i.dataset,u=null,d&&d.options&&d instanceof si&&(u={visible:t.isDatasetVisible(l),index:l,fill:bE(d,l,a),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:d}),i.$filler=u,n.push(u);for(l=0;l<a;++l)u=n[l],!(!u||u.fill===!1)&&(u.fill=xE(n,l,r.propagate))},beforeDraw(t,e,r){const a=r.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let l=n.length-1;l>=0;--l){const d=n[l].$filler;d&&(d.line.updateControlPoints(i,d.axis),a&&d.fill&&bx(t.ctx,d,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const a=t.getSortedVisibleDatasetMetas();for(let n=a.length-1;n>=0;--n){const i=a[n].$filler;cv(i)&&bx(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const a=e.meta.$filler;!cv(a)||r.drawTime!=="beforeDatasetDraw"||bx(t.ctx,a,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fv=(t,e)=>{let{boxHeight:r=e,boxWidth:a=e}=t;return t.usePointStyle&&(r=Math.min(r,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:r,itemHeight:Math.max(e,r)}},PE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class gv extends Kl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,a){this.maxWidth=e,this.maxHeight=r,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Bt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(a=>e.filter(a,this.chart.data))),e.sort&&(r=r.sort((a,n)=>e.sort(a,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,n=os(a.font),i=n.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:u}=fv(a,i);let h,g;r.font=n.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(l,i,d,u)+10):(g=this.maxHeight,h=this._fitCols(l,n,d,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,r,a,n){const{ctx:i,maxWidth:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],g=n+d;let x=e;i.textAlign="left",i.textBaseline="middle";let y=-1,p=-g;return this.legendItems.forEach((w,j)=>{const k=a+r/2+i.measureText(w.text).width;(j===0||h[h.length-1]+k+2*d>l)&&(x+=g,h[h.length-(j>0?0:1)]=0,p+=g,y++),u[j]={left:0,top:p,row:y,width:k,height:n},h[h.length-1]+=k+d}),x}_fitCols(e,r,a,n){const{ctx:i,maxHeight:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],g=l-e;let x=d,y=0,p=0,w=0,j=0;return this.legendItems.forEach((k,C)=>{const{itemWidth:L,itemHeight:E}=DE(a,r,i,k,n);C>0&&p+E+2*d>g&&(x+=y+d,h.push({width:y,height:p}),w+=y+d,j++,y=p=0),u[C]={left:w,top:p,col:j,width:L,height:E},y=Math.max(y,L),p+=E+d}),x+=y,h.push({width:y,height:p}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:a,labels:{padding:n},rtl:i}}=this,l=ih(i,this.left,this.width);if(this.isHorizontal()){let d=0,u=on(a,this.left+n,this.right-this.lineWidths[d]);for(const h of r)d!==h.row&&(d=h.row,u=on(a,this.left+n,this.right-this.lineWidths[d])),h.top+=this.top+e+n,h.left=l.leftForLtr(l.x(u),h.width),u+=h.width+n}else{let d=0,u=on(a,this.top+e+n,this.bottom-this.columnSizes[d].height);for(const h of r)h.col!==d&&(d=h.col,u=on(a,this.top+e+n,this.bottom-this.columnSizes[d].height)),h.top=u,h.left+=this.left+n,h.left=l.leftForLtr(l.x(h.left),h.width),u+=h.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;km(e,this),this._draw(),Sm(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:a,ctx:n}=this,{align:i,labels:l}=e,d=Da.color,u=ih(e.rtl,this.left,this.width),h=os(l.font),{padding:g}=l,x=h.size,y=x/2;let p;this.drawTitle(),n.textAlign=u.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=h.string;const{boxWidth:w,boxHeight:j,itemHeight:k}=fv(l,x),C=function(se,O,U){if(isNaN(w)||w<=0||isNaN(j)||j<0)return;n.save();const T=$t(U.lineWidth,1);if(n.fillStyle=$t(U.fillStyle,d),n.lineCap=$t(U.lineCap,"butt"),n.lineDashOffset=$t(U.lineDashOffset,0),n.lineJoin=$t(U.lineJoin,"miter"),n.lineWidth=T,n.strokeStyle=$t(U.strokeStyle,d),n.setLineDash($t(U.lineDash,[])),l.usePointStyle){const W={radius:j*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:T},I=u.xPlus(se,w/2),B=O+y;W3(n,W,I,B,l.pointStyleWidth&&w)}else{const W=O+Math.max((x-j)/2,0),I=u.leftForLtr(se,w),B=$d(U.borderRadius);n.beginPath(),Object.values(B).some(X=>X!==0)?V0(n,{x:I,y:W,w,h:j,radius:B}):n.rect(I,W,w,j),n.fill(),T!==0&&n.stroke()}n.restore()},L=function(se,O,U){Zd(n,U.text,se,O+k/2,h,{strikethrough:U.hidden,textAlign:u.textAlign(U.textAlign)})},E=this.isHorizontal(),D=this._computeTitleHeight();E?p={x:on(i,this.left+g,this.right-a[0]),y:this.top+g+D,line:0}:p={x:this.left+g,y:on(i,this.top+D+g,this.bottom-r[0].height),line:0},J3(this.ctx,e.textDirection);const F=k+g;this.legendItems.forEach((se,O)=>{n.strokeStyle=se.fontColor,n.fillStyle=se.fontColor;const U=n.measureText(se.text).width,T=u.textAlign(se.textAlign||(se.textAlign=l.textAlign)),W=w+y+U;let I=p.x,B=p.y;u.setWidth(this.width),E?O>0&&I+W+g>this.right&&(B=p.y+=F,p.line++,I=p.x=on(i,this.left+g,this.right-a[p.line])):O>0&&B+F>this.bottom&&(I=p.x=I+r[p.line].width+g,p.line++,B=p.y=on(i,this.top+D+g,this.bottom-r[p.line].height));const X=u.x(I);if(C(X,B,se),I=h_(T,I+w+y,E?I+W:this.right,e.rtl),L(u.x(I),B,se),E)p.x+=W+g;else if(typeof se.text!="string"){const Q=h.lineHeight;p.y+=NN(se,Q)+g}else p.y+=F}),eN(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,a=os(r.font),n=un(r.padding);if(!r.display)return;const i=ih(e.rtl,this.left,this.width),l=this.ctx,d=r.position,u=a.size/2,h=n.top+u;let g,x=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),g=this.top+h,x=on(e.align,x,this.right-y);else{const w=this.columnSizes.reduce((j,k)=>Math.max(j,k.height),0);g=h+on(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const p=on(d,x,x+y);l.textAlign=i.textAlign(g2(d)),l.textBaseline="middle",l.strokeStyle=r.color,l.fillStyle=r.color,l.font=a.string,Zd(l,r.text,p,g,a)}_computeTitleHeight(){const e=this.options.title,r=os(e.font),a=un(e.padding);return e.display?r.lineHeight+a.height:0}_getLegendItemAt(e,r){let a,n,i;if(Ul(e,this.left,this.right)&&Ul(r,this.top,this.bottom)){for(i=this.legendHitBoxes,a=0;a<i.length;++a)if(n=i[a],Ul(e,n.left,n.left+n.width)&&Ul(r,n.top,n.top+n.height))return this.legendItems[a]}return null}handleEvent(e){const r=this.options;if(!BE(e.type,r))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,i=PE(n,a);n&&!i&&Bt(r.onLeave,[e,n,this],this),this._hoveredItem=a,a&&!i&&Bt(r.onHover,[e,a,this],this)}else a&&Bt(r.onClick,[e,a,this],this)}}function DE(t,e,r,a,n){const i=OE(a,t,e,r),l=FE(n,a,e.lineHeight);return{itemWidth:i,itemHeight:l}}function OE(t,e,r,a){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((i,l)=>i.length>l.length?i:l)),e+r.size/2+a.measureText(n).width}function FE(t,e,r){let a=t;return typeof e.text!="string"&&(a=NN(e,r)),a}function NN(t,e){const r=t.text?t.text.length:0;return e*r}function BE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var eu={id:"legend",_element:gv,start(t,e,r){const a=t.legend=new gv({ctx:t.ctx,options:r,chart:t});Ri.configure(t,a,r),Ri.addBox(t,a)},stop(t){Ri.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const a=t.legend;Ri.configure(t,a,r),a.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const a=e.datasetIndex,n=r.chart;n.isDatasetVisible(a)?(n.hide(a),e.hidden=!0):(n.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:a,textAlign:n,color:i,useBorderRadius:l,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(r?0:void 0),g=un(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:h.borderColor,pointStyle:a||h.pointStyle,rotation:h.rotation,textAlign:n||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class jN extends Kl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const n=ma(a.text)?a.text.length:1;this._padding=un(a.padding);const i=n*os(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:a,bottom:n,right:i,options:l}=this,d=l.align;let u=0,h,g,x;return this.isHorizontal()?(g=on(d,a,i),x=r+e,h=i-a):(l.position==="left"?(g=a+e,x=on(d,n,r),u=Er*-.5):(g=i-e,x=on(d,r,n),u=Er*.5),h=n-r),{titleX:g,titleY:x,maxWidth:h,rotation:u}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const a=os(r.font),i=a.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:u,rotation:h}=this._drawArgs(i);Zd(e,r.text,0,0,a,{color:r.color,maxWidth:u,rotation:h,textAlign:g2(r.align),textBaseline:"middle",translation:[l,d]})}}function zE(t,e){const r=new jN({ctx:t.ctx,options:e,chart:t});Ri.configure(t,r,e),Ri.addBox(t,r),t.titleBlock=r}var tu={id:"title",_element:jN,start(t,e,r){zE(t,r)},stop(t){const e=t.titleBlock;Ri.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const a=t.titleBlock;Ri.configure(t,a,r),a.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const A0={average(t){if(!t.length)return!1;let e,r,a=new Set,n=0,i=0;for(e=0,r=t.length;e<r;++e){const d=t[e].element;if(d&&d.hasValue()){const u=d.tooltipPosition();a.add(u.x),n+=u.y,++i}}return i===0||a.size===0?!1:{x:[...a].reduce((d,u)=>d+u)/a.size,y:n/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,a=e.y,n=Number.POSITIVE_INFINITY,i,l,d;for(i=0,l=t.length;i<l;++i){const u=t[i].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),g=p1(e,h);g<n&&(n=g,d=u)}}if(d){const u=d.tooltipPosition();r=u.x,a=u.y}return{x:r,y:a}}};function Go(t,e){return e&&(ma(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Bl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IE(t,e){const{element:r,datasetIndex:a,index:n}=e,i=t.getDatasetMeta(a).controller,{label:l,value:d}=i.getLabelAndValue(n);return{chart:t,label:l,parsed:i.getParsed(n),raw:t.data.datasets[a].data[n],formattedValue:d,dataset:i.getDataset(),dataIndex:n,datasetIndex:a,element:r}}function mv(t,e){const r=t.chart.ctx,{body:a,footer:n,title:i}=t,{boxWidth:l,boxHeight:d}=e,u=os(e.bodyFont),h=os(e.titleFont),g=os(e.footerFont),x=i.length,y=n.length,p=a.length,w=un(e.padding);let j=w.height,k=0,C=a.reduce((D,F)=>D+F.before.length+F.lines.length+F.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,x&&(j+=x*h.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),C){const D=e.displayColors?Math.max(d,u.lineHeight):u.lineHeight;j+=p*D+(C-p)*u.lineHeight+(C-1)*e.bodySpacing}y&&(j+=e.footerMarginTop+y*g.lineHeight+(y-1)*e.footerSpacing);let L=0;const E=function(D){k=Math.max(k,r.measureText(D).width+L)};return r.save(),r.font=h.string,gr(t.title,E),r.font=u.string,gr(t.beforeBody.concat(t.afterBody),E),L=e.displayColors?l+2+e.boxPadding:0,gr(a,D=>{gr(D.before,E),gr(D.lines,E),gr(D.after,E)}),L=0,r.font=g.string,gr(t.footer,E),r.restore(),k+=w.width,{width:k,height:j}}function UE(t,e){const{y:r,height:a}=e;return r<a/2?"top":r>t.height-a/2?"bottom":"center"}function HE(t,e,r,a){const{x:n,width:i}=a,l=r.caretSize+r.caretPadding;if(t==="left"&&n+i+l>e.width||t==="right"&&n-i-l<0)return!0}function qE(t,e,r,a){const{x:n,width:i}=r,{width:l,chartArea:{left:d,right:u}}=t;let h="center";return a==="center"?h=n<=(d+u)/2?"left":"right":n<=i/2?h="left":n>=l-i/2&&(h="right"),HE(h,t,e,r)&&(h="center"),h}function pv(t,e,r){const a=r.yAlign||e.yAlign||UE(t,r);return{xAlign:r.xAlign||e.xAlign||qE(t,e,r,a),yAlign:a}}function VE(t,e){let{x:r,width:a}=t;return e==="right"?r-=a:e==="center"&&(r-=a/2),r}function $E(t,e,r){let{y:a,height:n}=t;return e==="top"?a+=r:e==="bottom"?a-=n+r:a-=n/2,a}function xv(t,e,r,a){const{caretSize:n,caretPadding:i,cornerRadius:l}=t,{xAlign:d,yAlign:u}=r,h=n+i,{topLeft:g,topRight:x,bottomLeft:y,bottomRight:p}=$d(l);let w=VE(e,d);const j=$E(e,u,h);return u==="center"?d==="left"?w+=h:d==="right"&&(w-=h):d==="left"?w-=Math.max(g,y)+n:d==="right"&&(w+=Math.max(x,p)+n),{x:dn(w,0,a.width-e.width),y:dn(j,0,a.height-e.height)}}function mg(t,e,r){const a=un(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-a.right:t.x+a.left}function bv(t){return Go([],Bl(t))}function WE(t,e,r){return Qc(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function yv(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const kN={beforeTitle:Ml,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,a=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return r[e.dataIndex]}return""},afterTitle:Ml,beforeBody:Ml,beforeLabel:Ml,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return jr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ml,afterBody:Ml,beforeFooter:Ml,footer:Ml,afterFooter:Ml};function Mn(t,e,r,a){const n=t[e].call(r,a);return typeof n>"u"?kN[e].call(r,a):n}class j1 extends Kl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,a=this.options.setContext(this.getContext()),n=a.enabled&&r.options.animation&&a.animations,i=new nN(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=WE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:a}=r,n=Mn(a,"beforeTitle",this,e),i=Mn(a,"title",this,e),l=Mn(a,"afterTitle",this,e);let d=[];return d=Go(d,Bl(n)),d=Go(d,Bl(i)),d=Go(d,Bl(l)),d}getBeforeBody(e,r){return bv(Mn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:a}=r,n=[];return gr(e,i=>{const l={before:[],lines:[],after:[]},d=yv(a,i);Go(l.before,Bl(Mn(d,"beforeLabel",this,i))),Go(l.lines,Mn(d,"label",this,i)),Go(l.after,Bl(Mn(d,"afterLabel",this,i))),n.push(l)}),n}getAfterBody(e,r){return bv(Mn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:a}=r,n=Mn(a,"beforeFooter",this,e),i=Mn(a,"footer",this,e),l=Mn(a,"afterFooter",this,e);let d=[];return d=Go(d,Bl(n)),d=Go(d,Bl(i)),d=Go(d,Bl(l)),d}_createItems(e){const r=this._active,a=this.chart.data,n=[],i=[],l=[];let d=[],u,h;for(u=0,h=r.length;u<h;++u)d.push(IE(this.chart,r[u]));return e.filter&&(d=d.filter((g,x,y)=>e.filter(g,x,y,a))),e.itemSort&&(d=d.sort((g,x)=>e.itemSort(g,x,a))),gr(d,g=>{const x=yv(e.callbacks,g);n.push(Mn(x,"labelColor",this,g)),i.push(Mn(x,"labelPointStyle",this,g)),l.push(Mn(x,"labelTextColor",this,g))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=d,d}update(e,r){const a=this.options.setContext(this.getContext()),n=this._active;let i,l=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const d=A0[a.position].call(this,n,this._eventPosition);l=this._createItems(a),this.title=this.getTitle(l,a),this.beforeBody=this.getBeforeBody(l,a),this.body=this.getBody(l,a),this.afterBody=this.getAfterBody(l,a),this.footer=this.getFooter(l,a);const u=this._size=mv(this,a),h=Object.assign({},d,u),g=pv(this.chart,a,h),x=xv(a,h,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,i={opacity:1,x:x.x,y:x.y,width:u.width,height:u.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,a,n){const i=this.getCaretPosition(e,a,n);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,a){const{xAlign:n,yAlign:i}=this,{caretSize:l,cornerRadius:d}=a,{topLeft:u,topRight:h,bottomLeft:g,bottomRight:x}=$d(d),{x:y,y:p}=e,{width:w,height:j}=r;let k,C,L,E,D,F;return i==="center"?(D=p+j/2,n==="left"?(k=y,C=k-l,E=D+l,F=D-l):(k=y+w,C=k+l,E=D-l,F=D+l),L=k):(n==="left"?C=y+Math.max(u,g)+l:n==="right"?C=y+w-Math.max(h,x)-l:C=this.caretX,i==="top"?(E=p,D=E-l,k=C-l,L=C+l):(E=p+j,D=E+l,k=C+l,L=C-l),F=E),{x1:k,x2:C,x3:L,y1:E,y2:D,y3:F}}drawTitle(e,r,a){const n=this.title,i=n.length;let l,d,u;if(i){const h=ih(a.rtl,this.x,this.width);for(e.x=mg(this,a.titleAlign,a),r.textAlign=h.textAlign(a.titleAlign),r.textBaseline="middle",l=os(a.titleFont),d=a.titleSpacing,r.fillStyle=a.titleColor,r.font=l.string,u=0;u<i;++u)r.fillText(n[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,u+1===i&&(e.y+=a.titleMarginBottom-d)}}_drawColorBox(e,r,a,n,i){const l=this.labelColors[a],d=this.labelPointStyles[a],{boxHeight:u,boxWidth:h}=i,g=os(i.bodyFont),x=mg(this,"left",i),y=n.x(x),p=u<g.lineHeight?(g.lineHeight-u)/2:0,w=r.y+p;if(i.usePointStyle){const j={radius:Math.min(h,u)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},k=n.leftForLtr(y,h)+h/2,C=w+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,b1(e,j,k,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,b1(e,j,k,C)}else{e.lineWidth=xr(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const j=n.leftForLtr(y,h),k=n.leftForLtr(n.xPlus(y,1),h-2),C=$d(l.borderRadius);Object.values(C).some(L=>L!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,V0(e,{x:j,y:w,w:h,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),V0(e,{x:k,y:w+1,w:h-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(j,w,h,u),e.strokeRect(j,w,h,u),e.fillStyle=l.backgroundColor,e.fillRect(k,w+1,h-2,u-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,r,a){const{body:n}=this,{bodySpacing:i,bodyAlign:l,displayColors:d,boxHeight:u,boxWidth:h,boxPadding:g}=a,x=os(a.bodyFont);let y=x.lineHeight,p=0;const w=ih(a.rtl,this.x,this.width),j=function(U){r.fillText(U,w.x(e.x+p),e.y+y/2),e.y+=y+i},k=w.textAlign(l);let C,L,E,D,F,se,O;for(r.textAlign=l,r.textBaseline="middle",r.font=x.string,e.x=mg(this,k,a),r.fillStyle=a.bodyColor,gr(this.beforeBody,j),p=d&&k!=="right"?l==="center"?h/2+g:h+2+g:0,D=0,se=n.length;D<se;++D){for(C=n[D],L=this.labelTextColors[D],r.fillStyle=L,gr(C.before,j),E=C.lines,d&&E.length&&(this._drawColorBox(r,e,D,w,a),y=Math.max(x.lineHeight,u)),F=0,O=E.length;F<O;++F)j(E[F]),y=x.lineHeight;gr(C.after,j)}p=0,y=x.lineHeight,gr(this.afterBody,j),e.y-=i}drawFooter(e,r,a){const n=this.footer,i=n.length;let l,d;if(i){const u=ih(a.rtl,this.x,this.width);for(e.x=mg(this,a.footerAlign,a),e.y+=a.footerMarginTop,r.textAlign=u.textAlign(a.footerAlign),r.textBaseline="middle",l=os(a.footerFont),r.fillStyle=a.footerColor,r.font=l.string,d=0;d<i;++d)r.fillText(n[d],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+a.footerSpacing}}drawBackground(e,r,a,n){const{xAlign:i,yAlign:l}=this,{x:d,y:u}=e,{width:h,height:g}=a,{topLeft:x,topRight:y,bottomLeft:p,bottomRight:w}=$d(n.cornerRadius);r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.beginPath(),r.moveTo(d+x,u),l==="top"&&this.drawCaret(e,r,a,n),r.lineTo(d+h-y,u),r.quadraticCurveTo(d+h,u,d+h,u+y),l==="center"&&i==="right"&&this.drawCaret(e,r,a,n),r.lineTo(d+h,u+g-w),r.quadraticCurveTo(d+h,u+g,d+h-w,u+g),l==="bottom"&&this.drawCaret(e,r,a,n),r.lineTo(d+p,u+g),r.quadraticCurveTo(d,u+g,d,u+g-p),l==="center"&&i==="left"&&this.drawCaret(e,r,a,n),r.lineTo(d,u+x),r.quadraticCurveTo(d,u,d+x,u),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,a=this.$animations,n=a&&a.x,i=a&&a.y;if(n||i){const l=A0[e.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=mv(this,e),u=Object.assign({},l,this._size),h=pv(r,e,u),g=xv(e,u,h,r);(n._to!==g.x||i._to!==g.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(r);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const l=un(r.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&d&&(e.save(),e.globalAlpha=a,this.drawBackground(i,e,n,r),J3(e,r.textDirection),i.y+=l.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),eN(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const a=this._active,n=e.map(({datasetIndex:d,index:u})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[u],index:u}}),i=!tm(a,n),l=this._positionChanged(n,r);(i||l)&&(this._active=n,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,a=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],l=this._getActiveElements(e,i,r,a),d=this._positionChanged(l,e),u=r||!tm(l,i)||d;return u&&(this._active=l,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),u}_getActiveElements(e,r,a,n){const i=this.options;if(e.type==="mouseout")return[];if(!n)return r.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,i.mode,i,a);return i.reverse&&l.reverse(),l}_positionChanged(e,r){const{caretX:a,caretY:n,options:i}=this,l=A0[i.position].call(this,e,r);return l!==!1&&(a!==l.x||n!==l.y)}}Ke(j1,"positioners",A0);var ru={id:"tooltip",_element:j1,positioners:A0,afterInit(t,e,r){r&&(t.tooltip=new j1({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const YE=(t,e,r,a)=>(typeof e=="string"?(r=t.push(e)-1,a.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function GE(t,e,r,a){const n=t.indexOf(e);if(n===-1)return YE(t,e,r,a);const i=t.lastIndexOf(e);return n!==i?r:n}const XE=(t,e)=>t===null?null:dn(Math.round(t),0,e);function vv(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Gl extends Sh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const a=this.getLabels();for(const{index:n,label:i}of r)a[n]===i&&a.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(jr(e))return null;const a=this.getLabels();return r=isFinite(r)&&a[r]===e?r:GE(a,e,$t(r,e),this._addedLabels),XE(r,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:a,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),r||(n=this.getLabels().length-1)),this.min=a,this.max=n}buildTicks(){const e=this.min,r=this.max,a=this.options.offset,n=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let l=e;l<=r;l++)n.push({value:l});return n}getLabelForValue(e){return vv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ke(Gl,"id","category"),Ke(Gl,"defaults",{ticks:{callback:vv}});function ZE(t,e){const r=[],{bounds:n,step:i,min:l,max:d,precision:u,count:h,maxTicks:g,maxDigits:x,includeBounds:y}=t,p=i||1,w=g-1,{min:j,max:k}=e,C=!jr(l),L=!jr(d),E=!jr(h),D=(k-j)/(x+1);let F=b5((k-j)/w/p)*p,se,O,U,T;if(F<1e-14&&!C&&!L)return[{value:j},{value:k}];T=Math.ceil(k/F)-Math.floor(j/F),T>w&&(F=b5(T*F/w/p)*p),jr(u)||(se=Math.pow(10,u),F=Math.ceil(F*se)/se),n==="ticks"?(O=Math.floor(j/F)*F,U=Math.ceil(k/F)*F):(O=j,U=k),C&&L&&i&&s_((d-l)/i,F/1e3)?(T=Math.round(Math.min((d-l)/F,g)),F=(d-l)/T,O=l,U=d):E?(O=C?l:O,U=L?d:U,T=h-1,F=(U-O)/T):(T=(U-O)/F,Vd(T,Math.round(T),F/1e3)?T=Math.round(T):T=Math.ceil(T));const W=Math.max(y5(F),y5(O));se=Math.pow(10,jr(u)?W:u),O=Math.round(O*se)/se,U=Math.round(U*se)/se;let I=0;for(C&&(y&&O!==l?(r.push({value:l}),O<l&&I++,Vd(Math.round((O+I*F)*se)/se,l,wv(l,D,t))&&I++):O<l&&I++);I<T;++I){const B=Math.round((O+I*F)*se)/se;if(L&&B>d)break;r.push({value:B})}return L&&y&&U!==d?r.length&&Vd(r[r.length-1].value,d,wv(d,D,t))?r[r.length-1].value=d:r.push({value:d}):(!L||U===d)&&r.push({value:U}),r}function wv(t,e,{horizontal:r,minRotation:a}){const n=Ko(a),i=(r?Math.sin(n):Math.cos(n))||.001,l=.75*e*(""+t).length;return Math.min(e/i,l)}class k1 extends Sh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return jr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:a}=this.getUserBounds();let{min:n,max:i}=this;const l=u=>n=r?n:u,d=u=>i=a?i:u;if(e){const u=Ti(n),h=Ti(i);u<0&&h<0?d(0):u>0&&h>0&&l(0)}if(n===i){let u=i===0?1:Math.abs(i*.05);d(i+u),e||l(n-u)}this.min=n,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:a}=e,n;return a?(n=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const n={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,l=ZE(n,i);return e.bounds==="ticks"&&n_(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let r=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const n=(a-r)/Math.max(e.length-1,1)/2;r-=n,a+=n}this._startValue=r,this._endValue=a,this._valueRange=a-r}getLabelForValue(e){return p2(e,this.chart.options.locale,this.options.ticks.format)}}class Xl extends k1{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ns(e)?e:0,this.max=Ns(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,a=Ko(this.options.ticks.minRotation),n=(e?Math.sin(a):Math.cos(a))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ke(Xl,"id","linear"),Ke(Xl,"defaults",{ticks:{callback:x2.formatters.numeric}});function S1(t){const e=t.ticks;if(e.display&&t.display){const r=un(e.backdropPadding);return $t(e.font&&e.font.size,Da.font.size)+r.height}return 0}function QE(t,e,r){return r=ma(r)?r:[r],{w:j_(t,e.string,r),h:r.length*e.lineHeight}}function Nv(t,e,r,a,n){return t===a||t===n?{start:e-r/2,end:e+r/2}:t<a||t>n?{start:e-r,end:e}:{start:e,end:e+r}}function KE(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),a=[],n=[],i=t._pointLabels.length,l=t.options.pointLabels,d=l.centerPointLabels?Er/i:0;for(let u=0;u<i;u++){const h=l.setContext(t.getPointLabelContext(u));n[u]=h.padding;const g=t.getPointPosition(u,t.drawingArea+n[u],d),x=os(h.font),y=QE(t.ctx,x,t._pointLabels[u]);a[u]=y;const p=ln(t.getIndexAngle(u)+d),w=Math.round(h2(p)),j=Nv(w,g.x,y.w,0,180),k=Nv(w,g.y,y.h,90,270);JE(r,e,p,j,k)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=rM(t,a,n)}function JE(t,e,r,a,n){const i=Math.abs(Math.sin(r)),l=Math.abs(Math.cos(r));let d=0,u=0;a.start<e.l?(d=(e.l-a.start)/i,t.l=Math.min(t.l,e.l-d)):a.end>e.r&&(d=(a.end-e.r)/i,t.r=Math.max(t.r,e.r+d)),n.start<e.t?(u=(e.t-n.start)/l,t.t=Math.min(t.t,e.t-u)):n.end>e.b&&(u=(n.end-e.b)/l,t.b=Math.max(t.b,e.b+u))}function eM(t,e,r){const a=t.drawingArea,{extra:n,additionalAngle:i,padding:l,size:d}=r,u=t.getPointPosition(e,a+n+l,i),h=Math.round(h2(ln(u.angle+Va))),g=nM(u.y,d.h,h),x=aM(h),y=sM(u.x,d.w,x);return{visible:!0,x:u.x,y:g,textAlign:x,left:y,top:g,right:y+d.w,bottom:g+d.h}}function tM(t,e){if(!e)return!0;const{left:r,top:a,right:n,bottom:i}=t;return!(Jo({x:r,y:a},e)||Jo({x:r,y:i},e)||Jo({x:n,y:a},e)||Jo({x:n,y:i},e))}function rM(t,e,r){const a=[],n=t._pointLabels.length,i=t.options,{centerPointLabels:l,display:d}=i.pointLabels,u={extra:S1(i)/2,additionalAngle:l?Er/n:0};let h;for(let g=0;g<n;g++){u.padding=r[g],u.size=e[g];const x=eM(t,g,u);a.push(x),d==="auto"&&(x.visible=tM(x,h),x.visible&&(h=x))}return a}function aM(t){return t===0||t===180?"center":t<180?"left":"right"}function sM(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function nM(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function iM(t,e,r){const{left:a,top:n,right:i,bottom:l}=r,{backdropColor:d}=e;if(!jr(d)){const u=$d(e.borderRadius),h=un(e.backdropPadding);t.fillStyle=d;const g=a-h.left,x=n-h.top,y=i-a+h.width,p=l-n+h.height;Object.values(u).some(w=>w!==0)?(t.beginPath(),V0(t,{x:g,y:x,w:y,h:p,radius:u}),t.fill()):t.fillRect(g,x,y,p)}}function oM(t,e){const{ctx:r,options:{pointLabels:a}}=t;for(let n=e-1;n>=0;n--){const i=t._pointLabelItems[n];if(!i.visible)continue;const l=a.setContext(t.getPointLabelContext(n));iM(r,l,i);const d=os(l.font),{x:u,y:h,textAlign:g}=i;Zd(r,t._pointLabels[n],u,h+d.lineHeight/2,d,{color:l.color,textAlign:g,textBaseline:"middle"})}}function SN(t,e,r,a){const{ctx:n}=t;if(r)n.arc(t.xCenter,t.yCenter,e,0,ca);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let l=1;l<a;l++)i=t.getPointPosition(l,e),n.lineTo(i.x,i.y)}}function lM(t,e,r,a,n){const i=t.ctx,l=e.circular,{color:d,lineWidth:u}=e;!l&&!a||!d||!u||r<0||(i.save(),i.strokeStyle=d,i.lineWidth=u,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),SN(t,r,l,a),i.closePath(),i.stroke(),i.restore())}function cM(t,e,r){return Qc(t,{label:r,index:e,type:"pointLabel"})}class L0 extends k1{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=un(S1(this.options)/2),r=this.width=this.maxWidth-e.width,a=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+a/2+e.top),this.drawingArea=Math.floor(Math.min(r,a)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Ns(e)&&!isNaN(e)?e:0,this.max=Ns(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/S1(this.options))}generateTickLabels(e){k1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,a)=>{const n=Bt(this.options.pointLabels.callback,[r,a],this);return n||n===0?n:""}).filter((r,a)=>this.chart.getDataVisibility(a))}fit(){const e=this.options;e.display&&e.pointLabels.display?KE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,a,n){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((a-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,a,n))}getIndexAngle(e){const r=ca/(this._pointLabels.length||1),a=this.options.startAngle||0;return ln(e*r+Ko(a))}getDistanceFromCenterForValue(e){if(jr(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(jr(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const a=r[e];return cM(this.getContext(),e,a)}}getPointPosition(e,r,a=0){const n=this.getIndexAngle(e)-Va+a;return{x:Math.cos(n)*r+this.xCenter,y:Math.sin(n)*r+this.yCenter,angle:n}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:a,right:n,bottom:i}=this._pointLabelItems[e];return{left:r,top:a,right:n,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const a=this.ctx;a.save(),a.beginPath(),SN(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),a.closePath(),a.fillStyle=e,a.fill(),a.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:a,grid:n,border:i}=r,l=this._pointLabels.length;let d,u,h;if(r.pointLabels.display&&oM(this,l),n.display&&this.ticks.forEach((g,x)=>{if(x!==0||x===0&&this.min<0){u=this.getDistanceFromCenterForValue(g.value);const y=this.getContext(x),p=n.setContext(y),w=i.setContext(y);lM(this,p,u,l,w)}}),a.display){for(e.save(),d=l-1;d>=0;d--){const g=a.setContext(this.getPointLabelContext(d)),{color:x,lineWidth:y}=g;!y||!x||(e.lineWidth=y,e.strokeStyle=x,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,u=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),h=this.getPointPosition(d,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,a=r.ticks;if(!a.display)return;const n=this.getIndexAngle(0);let i,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((d,u)=>{if(u===0&&this.min>=0&&!r.reverse)return;const h=a.setContext(this.getContext(u)),g=os(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){e.font=g.string,l=e.measureText(d.label).width,e.fillStyle=h.backdropColor;const x=un(h.backdropPadding);e.fillRect(-l/2-x.left,-i-g.size/2-x.top,l+x.width,g.size+x.height)}Zd(e,d.label,0,-i,g,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}Ke(L0,"id","radialLinear"),Ke(L0,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:x2.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ke(L0,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ke(L0,"descriptors",{angleLines:{_fallback:"grid"}});const Lm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},On=Object.keys(Lm);function jv(t,e){return t-e}function kv(t,e){if(jr(e))return null;const r=t._adapter,{parser:a,round:n,isoWeekday:i}=t._parseOpts;let l=e;return typeof a=="function"&&(l=a(l)),Ns(l)||(l=typeof a=="string"?r.parse(l,a):r.parse(l)),l===null?null:(n&&(l=n==="week"&&(fh(i)||i===!0)?r.startOf(l,"isoWeek",i):r.startOf(l,n)),+l)}function Sv(t,e,r,a){const n=On.length;for(let i=On.indexOf(t);i<n-1;++i){const l=Lm[On[i]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((r-e)/(d*l.size))<=a)return On[i]}return On[n-1]}function dM(t,e,r,a,n){for(let i=On.length-1;i>=On.indexOf(r);i--){const l=On[i];if(Lm[l].common&&t._adapter.diff(n,a,l)>=e-1)return l}return On[r?On.indexOf(r):0]}function uM(t){for(let e=On.indexOf(t)+1,r=On.length;e<r;++e)if(Lm[On[e]].common)return On[e]}function Cv(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:a,hi:n}=f2(r,e),i=r[a]>=e?r[a]:r[n];t[i]=!0}}function hM(t,e,r,a){const n=t._adapter,i=+n.startOf(e[0].value,a),l=e[e.length-1].value;let d,u;for(d=i;d<=l;d=+n.add(d,1,a))u=r[d],u>=0&&(e[u].major=!0);return e}function _v(t,e,r){const a=[],n={},i=e.length;let l,d;for(l=0;l<i;++l)d=e[l],n[d]=l,a.push({value:d,major:!1});return i===0||!r?a:hM(t,a,n,r)}class lm extends Sh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const a=e.time||(e.time={}),n=this._adapter=new IA._date(e.adapters.date);n.init(r),E0(a.displayFormats,n.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:kv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,a=e.time.unit||"day";let{min:n,max:i,minDefined:l,maxDefined:d}=this.getUserBounds();function u(h){!l&&!isNaN(h.min)&&(n=Math.min(n,h.min)),!d&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!l||!d)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),n=Ns(n)&&!isNaN(n)?n:+r.startOf(Date.now(),a),i=Ns(i)&&!isNaN(i)?i:+r.endOf(Date.now(),a)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],a=e[e.length-1]),{min:r,max:a}}buildTicks(){const e=this.options,r=e.time,a=e.ticks,n=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,l=this.max,d=c_(n,i,l);return this._unit=r.unit||(a.autoSkip?Sv(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):dM(this,d.length,r.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:uM(this._unit),this.initOffsets(n),e.reverse&&d.reverse(),_v(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,a=0,n,i;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?r=1-n:r=(this.getDecimalForValue(e[1])-n)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?a=i:a=(i-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;r=dn(r,0,l),a=dn(a,0,l),this._offsets={start:r,end:a,factor:1/(r+1+a)}}_generate(){const e=this._adapter,r=this.min,a=this.max,n=this.options,i=n.time,l=i.unit||Sv(i.minUnit,r,a,this._getLabelCapacity(r)),d=$t(n.ticks.stepSize,1),u=l==="week"?i.isoWeekday:!1,h=fh(u)||u===!0,g={};let x=r,y,p;if(h&&(x=+e.startOf(x,"isoWeek",u)),x=+e.startOf(x,h?"day":l),e.diff(a,r,l)>1e5*d)throw new Error(r+" and "+a+" are too far apart with stepSize of "+d+" "+l);const w=n.ticks.source==="data"&&this.getDataTimestamps();for(y=x,p=0;y<a;y=+e.add(y,d,l),p++)Cv(g,y,w);return(y===a||n.bounds==="ticks"||p===1)&&Cv(g,y,w),Object.keys(g).sort(jv).map(j=>+j)}getLabelForValue(e){const r=this._adapter,a=this.options.time;return a.tooltipFormat?r.format(e,a.tooltipFormat):r.format(e,a.displayFormats.datetime)}format(e,r){const n=this.options.time.displayFormats,i=this._unit,l=r||n[i];return this._adapter.format(e,l)}_tickFormatFunction(e,r,a,n){const i=this.options,l=i.ticks.callback;if(l)return Bt(l,[e,r,a],this);const d=i.time.displayFormats,u=this._unit,h=this._majorUnit,g=u&&d[u],x=h&&d[h],y=a[r],p=h&&x&&y&&y.major;return this._adapter.format(e,n||(p?x:g))}generateTickLabels(e){let r,a,n;for(r=0,a=e.length;r<a;++r)n=e[r],n.label=this._tickFormatFunction(n.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+a)*r.factor)}getValueForPixel(e){const r=this._offsets,a=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,a=this.ctx.measureText(e).width,n=Ko(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(n),l=Math.sin(n),d=this._resolveTickFontOptions(0).size;return{w:a*i+d*l,h:a*l+d*i}}_getLabelCapacity(e){const r=this.options.time,a=r.displayFormats,n=a[r.unit]||a.millisecond,i=this._tickFormatFunction(e,0,_v(this,[e],this._majorUnit),n),l=this._getLabelSize(i),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],r,a;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(r=0,a=n.length;r<a;++r)e=e.concat(n[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,a;if(e.length)return e;const n=this.getLabels();for(r=0,a=n.length;r<a;++r)e.push(kv(this,n[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return U3(e.sort(jv))}}Ke(lm,"id","time"),Ke(lm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pg(t,e,r){let a=0,n=t.length-1,i,l,d,u;r?(e>=t[a].pos&&e<=t[n].pos&&({lo:a,hi:n}=Ud(t,"pos",e)),{pos:i,time:d}=t[a],{pos:l,time:u}=t[n]):(e>=t[a].time&&e<=t[n].time&&({lo:a,hi:n}=Ud(t,"time",e)),{time:i,pos:d}=t[a],{time:l,pos:u}=t[n]);const h=l-i;return h?d+(u-d)*(e-i)/h:d}class Av extends lm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=pg(r,this.min),this._tableRange=pg(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:a}=this,n=[],i=[];let l,d,u,h,g;for(l=0,d=e.length;l<d;++l)h=e[l],h>=r&&h<=a&&n.push(h);if(n.length<2)return[{time:r,pos:0},{time:a,pos:1}];for(l=0,d=n.length;l<d;++l)g=n[l+1],u=n[l-1],h=n[l],Math.round((g+u)/2)!==h&&i.push({time:h,pos:l/(d-1)});return i}_generate(){const e=this.min,r=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(r)||a.length===1)&&a.push(r),a.sort((n,i)=>n-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),a=this.getLabelTimestamps();return r.length&&a.length?e=this.normalize(r.concat(a)):e=r.length?r:a,e=this._cache.all=e,e}getDecimalForValue(e){return(pg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,a=this.getDecimalForPixel(e)/r.factor-r.end;return pg(this._table,a*this._tableRange+this._minPos,!0)}}Ke(Av,"id","timeseries"),Ke(Av,"defaults",lm.defaults);const CN="label";function Lv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function fM(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function _N(t,e){t.labels=e}function AN(t,e,r=CN){const a=[];t.datasets=e.map(n=>{const i=t.datasets.find(l=>l[r]===n[r]);return!i||!n.data||a.includes(i)?{...n}:(a.push(i),Object.assign(i,n),i)})}function gM(t,e=CN){const r={labels:[],datasets:[]};return _N(r,t.labels),AN(r,t.datasets,e),r}function mM(t,e){const{height:r=150,width:a=300,redraw:n=!1,datasetIdKey:i,type:l,data:d,options:u,plugins:h=[],fallbackContent:g,updateMode:x,...y}=t,p=R.useRef(null),w=R.useRef(null),j=()=>{p.current&&(w.current=new rl(p.current,{type:l,data:gM(d,i),options:u&&{...u},plugins:h}),Lv(e,w.current))},k=()=>{Lv(e,null),w.current&&(w.current.destroy(),w.current=null)};return R.useEffect(()=>{!n&&w.current&&u&&fM(w.current,u)},[n,u]),R.useEffect(()=>{!n&&w.current&&_N(w.current.config.data,d.labels)},[n,d.labels]),R.useEffect(()=>{!n&&w.current&&d.datasets&&AN(w.current.config.data,d.datasets,i)},[n,d.datasets]),R.useEffect(()=>{w.current&&(n?(k(),setTimeout(j)):w.current.update(x))},[n,u,d.labels,d.datasets,x]),R.useEffect(()=>{w.current&&(k(),setTimeout(j))},[l]),R.useEffect(()=>(j(),()=>k()),[]),s.jsx("canvas",{ref:p,role:"img",height:r,width:a,...y,children:g})}const pM=R.forwardRef(mM);function sf(t,e){return rl.register(e),R.forwardRef((r,a)=>s.jsx(pM,{...r,ref:a,type:t}))}const S2=sf("line",zg),Wl=sf("bar",Bg),xM=sf("radar",Ig),C2=sf("doughnut",C0),bM=sf("scatter",Ug),yM="http://localhost:8080/api",ea=Ie.create({baseURL:yM,timeout:1e4,headers:{"Content-Type":"application/json"}});ea.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});ea.interceptors.response.use(t=>t,t=>(t.response?console.error("API Error:",t.response.status,t.response.data):t.request?console.error("Network Error:",t.message):console.error("Error:",t.message),Promise.reject(t)));const vM=async()=>{try{return(await ea.get("/dashboard/stats")).data.data}catch(t){throw console.error("Error fetching dashboard stats:",t),t}},wM=async()=>(await ea.get("/admin/product-approvals/dashboard")).data.data,LN=async(t=0,e=1e3)=>{try{return(await ea.get("/products",{params:{page:t,size:e,sortBy:"ranking",direction:"asc"}})).data.data.content}catch(r){return console.error("Error fetching products:",r),[]}},NM=async t=>(await ea.post("/orders",t)).data.data,jM=async t=>(await ea.post(`/orders/${t}/confirm`)).data.data,kM=async()=>(await ea.get("/orders/my-orders")).data.data,SM=async t=>(await ea.post("/products",t)).data.data,CM=async(t,e)=>(await ea.put(`/products/${t}`,e)).data.data,_M=async(t,e=0,r=1e3)=>{var a,n,i,l;try{if(t.query&&t.query.trim()){const h=await ea.get("/products/search",{params:{q:t.query,page:e,size:r}});return(n=(a=h.data)==null?void 0:a.data)!=null&&n.content?h.data.data.content:[]}const d={page:e,size:r,sortBy:"ranking"};t.category&&(d.categoryName=t.category),t.minPrice&&(d.minPrice=t.minPrice),t.maxPrice&&(d.maxPrice=t.maxPrice),t.minRating&&(d.minRating=t.minRating);const u=await ea.get("/products/filter",{params:d});return(l=(i=u.data)==null?void 0:i.data)!=null&&l.content?u.data.data.content:[]}catch(d){return console.error("Error searching/filtering products:",d),[]}},AM=async t=>{await ea.delete(`/products/${t}`)},EN=async()=>{try{return(await ea.get("/categories")).data.data}catch(t){return console.error("Error fetching categories:",t),[]}},Qd={getStats:async()=>ea.get("/dashboard/stats"),getPriceDistribution:async()=>ea.get("/dashboard/price-distribution"),getRatingDistribution:async()=>ea.get("/dashboard/rating-distribution"),getCategoryDistribution:async()=>ea.get("/dashboard/category-distribution"),getCategoryRevenue:async()=>ea.get("/dashboard/category-revenue"),getBestsellers:async()=>ea.get("/dashboard/bestsellers"),getCorrelationData:async()=>ea.get("/dashboard/reviews-ranking-correlation"),getTrends:async()=>ea.get("/dashboard/trends"),getTopProducts:(t=10)=>ea.get(`/dashboard/top-products? limit=${t}`)},Kr="http://localhost:8080/api",Jr=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),Rr={getDashboard:async()=>(await Ie.get(`${Kr}/analyst/dashboard`,{headers:Jr()})).data.data,getKPIs:async()=>(await Ie.get(`${Kr}/analyst/kpis`,{headers:Jr()})).data.data,getSalesOverview:async(t,e)=>{const r={};return t&&(r.startDate=t),e&&(r.endDate=e),(await Ie.get(`${Kr}/analyst/sales/overview`,{headers:Jr(),params:r})).data.data},getSalesTrends:async(t="daily",e=30)=>(await Ie.get(`${Kr}/analyst/sales/trends`,{headers:Jr(),params:{period:t,days:e}})).data.data,getSalesByCategory:async()=>(await Ie.get(`${Kr}/analyst/sales/by-category`,{headers:Jr()})).data.data,getTopSellingProducts:async(t=10)=>(await Ie.get(`${Kr}/analyst/sales/top-products`,{headers:Jr(),params:{limit:t}})).data.data,getSalesGrowth:async()=>(await Ie.get(`${Kr}/analyst/sales/growth`,{headers:Jr()})).data.data,getPeakSalesTimes:async()=>(await Ie.get(`${Kr}/analyst/sales/peak-times`,{headers:Jr()})).data.data,getProductsOverview:async()=>(await Ie.get(`${Kr}/analyst/products/overview`,{headers:Jr()})).data.data,getProductPerformance:async(t=100)=>(await Ie.get(`${Kr}/analyst/products/performance`,{headers:Jr(),params:{limit:t}})).data.data,getPriceDistribution:async()=>(await Ie.get(`${Kr}/analyst/products/price-distribution`,{headers:Jr()})).data.data,getRatingDistribution:async()=>(await Ie.get(`${Kr}/analyst/products/rating-distribution`,{headers:Jr()})).data.data,getLowStockProducts:async(t=10)=>(await Ie.get(`${Kr}/analyst/products/low-stock`,{headers:Jr(),params:{threshold:t}})).data.data,getBestsellerTrends:async()=>(await ea.get("/analyst/products/bestseller-trends")).data.data||[],getSellersOverview:async()=>(await Ie.get(`${Kr}/analyst/sellers/overview`,{headers:Jr()})).data.data,getSellersRanking:async(t=10)=>(await Ie.get(`${Kr}/analyst/sellers/ranking`,{headers:Jr(),params:{limit:t}})).data.data,getSellerGrowth:async()=>(await Ie.get(`${Kr}/analyst/sellers/growth`,{headers:Jr()})).data.data,getPlatformComparison:async()=>(await Ie.get(`${Kr}/analyst/sellers/platform-comparison`,{headers:Jr()})).data.data,getSellerDetails:async t=>(await Ie.get(`${Kr}/analyst/sellers/${t}/details`,{headers:Jr()})).data.data,getCategoriesOverview:async()=>(await Ie.get(`${Kr}/analyst/categories/overview`,{headers:Jr()})).data.data,getCategoryMetrics:async t=>(await Ie.get(`${Kr}/analyst/categories/${t}/metrics`,{headers:Jr()})).data.data,getCategoryComparison:async()=>(await Ie.get(`${Kr}/analyst/categories/comparison`,{headers:Jr()})).data.data,getCategoryRevenueContribution:async()=>(await Ie.get(`${Kr}/analyst/categories/revenue-contribution`,{headers:Jr()})).data.data,getReportSummary:async(t,e)=>(await Ie.get(`${Kr}/analyst/reports/summary`,{headers:Jr(),params:{startDate:t,endDate:e}})).data.data,exportSalesData:async(t,e)=>(await Ie.get(`${Kr}/analyst/reports/export/sales`,{headers:Jr(),params:{startDate:t,endDate:e}})).data.data,exportProductsData:async()=>(await Ie.get(`${Kr}/analyst/reports/export/products`,{headers:Jr()})).data.data,exportSellersData:async()=>(await Ie.get(`${Kr}/analyst/reports/export/sellers`,{headers:Jr()})).data.data};rl.register(Gl,Xl,$l,si,tl,qc,tu,ru,eu,af);const LM=()=>{const[t,e]=R.useState(null),[r,a]=R.useState([]),[n,i]=R.useState([]),[l,d]=R.useState(!0);R.useEffect(()=>{u()},[]);const u=async()=>{try{d(!0);const[w,j,k]=await Promise.all([Rr.getKPIs(),Rr.getSalesTrends("daily",30),Rr.getSalesByCategory()]);e(w),a(j),i(k.slice(0,6))}catch(w){console.error("Error fetching dashboard data:",w)}finally{d(!1)}},h=w=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(w),g=w=>w>=1e6?(w/1e6).toFixed(1)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":w.toString(),x={labels:r.map(w=>new Date(w.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Revenue",data:r.map(w=>w.revenue),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},y={labels:n.map(w=>w.categoryName),datasets:[{data:n.map(w=>w.revenue),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"],borderWidth:0}]},p=({title:w,value:j,growth:k,trend:C,icon:L,color:E})=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl ${E} flex items-center justify-center`,children:L}),s.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${C==="up"?"text-green-500":C==="down"?"text-red-500":"text-gray-500"}`,children:[C==="up"&&"",C==="down"&&"",Math.abs(k).toFixed(1),"%"]})]}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:j}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:w})]});return l?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics Overview"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Real-time insights into your business performance"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live Data"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsx(p,{title:"Total Revenue",value:h(t.totalRevenue.value),growth:t.totalRevenue.growth,trend:t.totalRevenue.trend,icon:s.jsx("span",{className:"text-2xl",children:""}),color:"bg-green-100 dark:bg-green-900/30"}),s.jsx(p,{title:"Total Orders",value:g(t.totalOrders.value),growth:t.totalOrders.growth,trend:t.totalOrders.trend,icon:s.jsx("span",{className:"text-2xl",children:""}),color:"bg-blue-100 dark:bg-blue-900/30"}),s.jsx(p,{title:"Products",value:g(t.totalProducts.value),growth:t.totalProducts.growth,trend:t.totalProducts.trend,icon:s.jsx("span",{className:"text-2xl",children:""}),color:"bg-purple-100 dark:bg-purple-900/30"}),s.jsx(p,{title:"Sellers",value:g(t.totalSellers.value),growth:t.totalSellers.growth,trend:t.totalSellers.trend,icon:s.jsx("span",{className:"text-2xl",children:""}),color:"bg-orange-100 dark:bg-orange-900/30"}),s.jsx(p,{title:"Avg Order Value",value:h(t.avgOrderValue.value),growth:t.avgOrderValue.growth,trend:t.avgOrderValue.trend,icon:s.jsx("span",{className:"text-2xl",children:""}),color:"bg-pink-100 dark:bg-pink-900/30"}),s.jsx(p,{title:"Buyers",value:g(t.totalBuyers.value),growth:t.totalBuyers.growth,trend:t.totalBuyers.trend,icon:s.jsx("span",{className:"text-2xl",children:""}),color:"bg-cyan-100 dark:bg-cyan-900/30"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last 30 days"})]})}),s.jsx("div",{className:"h-80",children:s.jsx(S2,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:w=>`Revenue: ${h(w.parsed.y??0)}`}}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}},y:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)",callback:w=>h(w)}}}}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue by Category"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Top 6 categories"})]}),s.jsx("div",{className:"h-64",children:s.jsx(C2,{data:y,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgb(156, 163, 175)",padding:10,usePointStyle:!0}},tooltip:{callbacks:{label:w=>{const j=w.dataset.data.reduce((C,L)=>C+L,0),k=(w.parsed/j*100).toFixed(1);return`${w.label}: ${h(w.parsed)} (${k}%)`}}}},cutout:"60%"}})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-6 text-white",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Today's Orders"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:r.length>0?r[r.length-1].orders:0})]})})}),s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-xl p-6 text-white",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Today's Revenue"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:r.length>0?h(r[r.length-1].revenue):"$0"})]})})}),s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-xl p-6 text-white",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm",children:"Top Category"}),s.jsx("p",{className:"text-xl font-bold mt-1 truncate",children:n.length>0?n[0].categoryName:"N/A"})]})})}),s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 rounded-xl p-6 text-white",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm",children:"Items Sold Today"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:r.length>0?r[r.length-1].items:0})]})})})]})]})};rl.register(Gl,Xl,$l,si,tl,tu,ru,eu,af);const EM=()=>{const[t,e]=R.useState([]),[r,a]=R.useState([]),[n,i]=R.useState([]),[l,d]=R.useState(null),[u,h]=R.useState(null),[g,x]=R.useState([]),[y,p]=R.useState(!0),[w,j]=R.useState(30),[k,C]=R.useState("line");R.useEffect(()=>{L()},[w]);const L=async()=>{try{p(!0);const[O,U,T,W,I,B]=await Promise.all([Rr.getSalesTrends("daily",w),Rr.getSalesByCategory(),Rr.getTopSellingProducts(10),Rr.getSalesOverview(),Rr.getSalesGrowth(),Rr.getPeakSalesTimes()]);e(O),a(U),i(T),d(W),h(I),x(B)}catch(O){console.error("Error fetching sales data:",O)}finally{p(!1)}},E=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(O),D={labels:t.map(O=>new Date(O.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Revenue",data:t.map(O=>O.revenue),borderColor:"rgb(59, 130, 246)",backgroundColor:k==="line"?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.8)",fill:k==="line",tension:.4,borderRadius:k==="bar"?6:0}]},F={labels:t.map(O=>new Date(O.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Orders",data:t.map(O=>O.orders),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.8)",borderRadius:6}]},se={labels:r.slice(0,8).map(O=>O.categoryName),datasets:[{label:"Revenue",data:r.slice(0,8).map(O=>O.revenue),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)","rgba(20, 184, 166, 0.8)","rgba(251, 146, 60, 0.8)"],borderRadius:6}]};return y?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Analytics"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Deep dive into your sales performance"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:w,onChange:O=>j(Number(O.target.value)),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:7,children:"Last 7 days"}),s.jsx("option",{value:30,children:"Last 30 days"}),s.jsx("option",{value:60,children:"Last 60 days"}),s.jsx("option",{value:90,children:"Last 90 days"})]}),s.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600",children:[s.jsx("button",{onClick:()=>C("line"),className:`px-3 py-2 text-sm ${k==="line"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:"Line"}),s.jsx("button",{onClick:()=>C("bar"),className:`px-3 py-2 text-sm ${k==="bar"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:"Bar"})]})]})]}),l&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:E(l.totalRevenue)}),u&&s.jsxs("p",{className:`text-sm mt-2 ${u.weekly.growth>=0?"text-green-500":"text-red-500"}`,children:[u.weekly.growth>=0?"":""," ",Math.abs(u.weekly.growth).toFixed(1),"% vs last week"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:l.totalOrders})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Items Sold"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:l.totalItems})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Order Value"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:E(l.avgOrderValue)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue Trend"}),s.jsx("div",{className:"h-80",children:k==="line"?s.jsx(S2,{data:D,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}},y:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)",callback:O=>E(O)}}}}}):s.jsx(Wl,{data:D,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}},y:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)",callback:O=>E(O)}}}}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Orders Trend"}),s.jsx("div",{className:"h-80",children:s.jsx(Wl,{data:F,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}},y:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)"}}}}})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue by Category"}),s.jsx("div",{className:"h-80",children:s.jsx(Wl,{data:se,options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)",callback:O=>E(O)}},y:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}}}}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Peak Sales Days"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:g.map((O,U)=>{const T=Math.max(...g.map(I=>I.orders)),W=T>0?O.orders/T:0;return s.jsxs("div",{className:"text-center p-4 rounded-lg",style:{backgroundColor:`rgba(59, 130, 246, ${.1+W*.7})`},children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:O.day.substring(0,3)}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-1",children:O.orders}),s.jsx("p",{className:"text-xs text-gray-500",children:"orders"})]},U)})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Selling Products"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-sm text-gray-500 dark:text-gray-400",children:[s.jsx("th",{className:"pb-4 font-medium",children:"Rank"}),s.jsx("th",{className:"pb-4 font-medium",children:"Product"}),s.jsx("th",{className:"pb-4 font-medium",children:"Category"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Price"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Units Sold"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Revenue"})]})}),s.jsx("tbody",{children:n.map((O,U)=>s.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"py-4",children:s.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold ${U===0?"bg-yellow-100 text-yellow-700":U===1?"bg-gray-100 text-gray-700":U===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-600"}`,children:U+1})}),s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:O.imageUrl||"https://via.placeholder.com/40",alt:O.productName,className:"w-10 h-10 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate max-w-xs",children:O.productName}),s.jsx("p",{className:"text-xs text-gray-500",children:O.asin})]})]})}),s.jsx("td",{className:"py-4",children:s.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-sm",children:O.categoryName})}),s.jsx("td",{className:"py-4 text-right font-medium text-gray-900 dark:text-white",children:E(O.price)}),s.jsx("td",{className:"py-4 text-right text-gray-600 dark:text-gray-400",children:O.salesCount.toLocaleString()}),s.jsx("td",{className:"py-4 text-right font-bold text-green-600",children:E(O.revenue)})]},O.asin))})]})})]})]})};rl.register(Gl,Xl,$l,si,tl,qc,tu,ru,eu);const MM=()=>{const[t,e]=R.useState(null),[r,a]=R.useState([]),[n,i]=R.useState({}),[l,d]=R.useState({}),[u,h]=R.useState([]),[g,x]=R.useState([]),[y,p]=R.useState(!0);R.useEffect(()=>{w()},[]);const w=async()=>{try{p(!0);const[E,D,F,se,O,U]=await Promise.all([Rr.getProductsOverview(),Rr.getProductPerformance(50),Rr.getPriceDistribution(),Rr.getRatingDistribution(),Rr.getLowStockProducts(10),Rr.getBestsellerTrends()]);e(E),a(D),i(F),d(se),h(O),x(U)}catch(E){console.error("Error fetching product data:",E)}finally{p(!1)}},j=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(E),k={labels:Object.keys(n),datasets:[{label:"Products",data:Object.values(n),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)"],borderRadius:6}]},C={labels:Object.keys(l),datasets:[{data:Object.values(l),backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(59, 130, 246, 0.8)","rgba(245, 158, 11, 0.8)","rgba(251, 146, 60, 0.8)","rgba(239, 68, 68, 0.8)"],borderWidth:0}]},L={datasets:[{label:"Products",data:r.map(E=>({x:E.price,y:E.rating,r:Math.min(Math.max(E.sales/10,5),20)})),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)"}]};return y?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Product Analytics"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Comprehensive analysis of your product catalog"})]}),t&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalProducts}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Products"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j(t.avgPrice)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Avg Price"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.avgRating}),s.jsx("p",{className:"text-xs text-gray-500",children:"Avg Rating"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalReviews.toLocaleString()}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Reviews"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j(t.inventoryValue)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Inventory Value"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.lowStockCount}),s.jsx("p",{className:"text-xs text-gray-500",children:"Low Stock"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Price Distribution"}),s.jsx("div",{className:"h-72",children:s.jsx(Wl,{data:k,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}},y:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)"}}}}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Rating Distribution"}),s.jsx("div",{className:"h-72",children:s.jsx(C2,{data:C,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"rgb(156, 163, 175)",padding:15}}},cutout:"50%"}})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Product Performance Matrix"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Price vs Rating (bubble size = sales volume)"})]}),s.jsx("div",{className:"h-96",children:s.jsx(bM,{data:L,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:E=>{const D=r[E.dataIndex];return[`Product: ${D.name}`,`Price: ${j(D.price)}`,`Rating: ${D.rating}`,`Sales: ${D.sales}`]}}}},scales:{x:{title:{display:!0,text:"Price ($)",color:"rgb(156, 163, 175)"},grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)"}},y:{title:{display:!0,text:"Rating",color:"rgb(156, 163, 175)"},grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)"},min:0,max:5}}}})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Low Stock Alert"}),s.jsxs("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-sm font-medium",children:[u.length," items"]})]}),s.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:u.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No low stock items "}):u.map(E=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[s.jsx("img",{src:E.imageUrl||"https://via.placeholder.com/40",alt:E.productName,className:"w-10 h-10 rounded-lg object-cover"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:E.productName}),s.jsx("p",{className:"text-xs text-gray-500",children:E.asin})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold ${E.stockQuantity===0?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:E.stockQuantity===0?"OUT OF STOCK":`${E.stockQuantity} left`})})]},E.asin))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Bestseller Rankings"}),s.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:g.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No bestsellers data"}):g.map((E,D)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D===0?"bg-yellow-400 text-yellow-900":D===1?"bg-gray-300 text-gray-700":D===2?"bg-orange-400 text-orange-900":"bg-gray-100 text-gray-600"}`,children:D+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:E.productName}),s.jsx("p",{className:"text-xs text-gray-500",children:E.category})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-bold text-green-600",children:[E.salesCount," sold"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[" ",E.rating]})]})]},E.asin))})]})]})]})};var vx={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var Ev;function RM(){return Ev||(Ev=1,(function(t){(function(e,r,a,n){var i=["","webkit","Moz","MS","ms","o"],l=r.createElement("div"),d="function",u=Math.round,h=Math.abs,g=Date.now;function x(K,le,pe){return setTimeout(E(K,pe),le)}function y(K,le,pe){return Array.isArray(K)?(p(K,pe[le],pe),!0):!1}function p(K,le,pe){var De;if(K)if(K.forEach)K.forEach(le,pe);else if(K.length!==n)for(De=0;De<K.length;)le.call(pe,K[De],De,K),De++;else for(De in K)K.hasOwnProperty(De)&&le.call(pe,K[De],De,K)}function w(K,le,pe){var De="DEPRECATED METHOD: "+le+`
`+pe+` AT 
`;return function(){var Je=new Error("get-stack-trace"),ct=Je&&Je.stack?Je.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Vt=e.console&&(e.console.warn||e.console.log);return Vt&&Vt.call(e.console,De,ct),K.apply(this,arguments)}}var j;typeof Object.assign!="function"?j=function(le){if(le===n||le===null)throw new TypeError("Cannot convert undefined or null to object");for(var pe=Object(le),De=1;De<arguments.length;De++){var Je=arguments[De];if(Je!==n&&Je!==null)for(var ct in Je)Je.hasOwnProperty(ct)&&(pe[ct]=Je[ct])}return pe}:j=Object.assign;var k=w(function(le,pe,De){for(var Je=Object.keys(pe),ct=0;ct<Je.length;)(!De||De&&le[Je[ct]]===n)&&(le[Je[ct]]=pe[Je[ct]]),ct++;return le},"extend","Use `assign`."),C=w(function(le,pe){return k(le,pe,!0)},"merge","Use `assign`.");function L(K,le,pe){var De=le.prototype,Je;Je=K.prototype=Object.create(De),Je.constructor=K,Je._super=De,pe&&j(Je,pe)}function E(K,le){return function(){return K.apply(le,arguments)}}function D(K,le){return typeof K==d?K.apply(le&&le[0]||n,le):K}function F(K,le){return K===n?le:K}function se(K,le,pe){p(W(le),function(De){K.addEventListener(De,pe,!1)})}function O(K,le,pe){p(W(le),function(De){K.removeEventListener(De,pe,!1)})}function U(K,le){for(;K;){if(K==le)return!0;K=K.parentNode}return!1}function T(K,le){return K.indexOf(le)>-1}function W(K){return K.trim().split(/\s+/g)}function I(K,le,pe){if(K.indexOf&&!pe)return K.indexOf(le);for(var De=0;De<K.length;){if(pe&&K[De][pe]==le||!pe&&K[De]===le)return De;De++}return-1}function B(K){return Array.prototype.slice.call(K,0)}function X(K,le,pe){for(var De=[],Je=[],ct=0;ct<K.length;){var Vt=K[ct][le];I(Je,Vt)<0&&De.push(K[ct]),Je[ct]=Vt,ct++}return De=De.sort(function(da,_r){return da[le]>_r[le]}),De}function Q(K,le){for(var pe,De,Je=le[0].toUpperCase()+le.slice(1),ct=0;ct<i.length;){if(pe=i[ct],De=pe?pe+Je:le,De in K)return De;ct++}return n}var ge=1;function $(){return ge++}function de(K){var le=K.ownerDocument||K;return le.defaultView||le.parentWindow||e}var ie=/mobile|tablet|ip(ad|hone|od)|android/i,ye="ontouchstart"in e,J=Q(e,"PointerEvent")!==n,te=ye&&ie.test(navigator.userAgent),P="touch",Y="pen",G="mouse",ue="kinect",re=25,xe=1,je=2,Se=4,Le=8,be=1,Ge=2,Ve=4,ze=8,V=16,Pe=Ge|Ve,st=ze|V,rt=Pe|st,We=["x","y"],ut=["clientX","clientY"];function at(K,le){var pe=this;this.manager=K,this.callback=le,this.element=K.element,this.target=K.options.inputTarget,this.domHandler=function(De){D(K.options.enable,[K])&&pe.handler(De)},this.init()}at.prototype={handler:function(){},init:function(){this.evEl&&se(this.element,this.evEl,this.domHandler),this.evTarget&&se(this.target,this.evTarget,this.domHandler),this.evWin&&se(de(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(de(this.element),this.evWin,this.domHandler)}};function jt(K){var le,pe=K.options.inputClass;return pe?le=pe:J?le=kt:te?le=Hs:ye?le=ra:le=kr,new le(K,pt)}function pt(K,le,pe){var De=pe.pointers.length,Je=pe.changedPointers.length,ct=le&xe&&De-Je===0,Vt=le&(Se|Le)&&De-Je===0;pe.isFirst=!!ct,pe.isFinal=!!Vt,ct&&(K.session={}),pe.eventType=le,qt(K,pe),K.emit("hammer.input",pe),K.recognize(pe),K.session.prevInput=pe}function qt(K,le){var pe=K.session,De=le.pointers,Je=De.length;pe.firstInput||(pe.firstInput=er(le)),Je>1&&!pe.firstMultiple?pe.firstMultiple=er(le):Je===1&&(pe.firstMultiple=!1);var ct=pe.firstInput,Vt=pe.firstMultiple,Gr=Vt?Vt.center:ct.center,da=le.center=Wt(De);le.timeStamp=g(),le.deltaTime=le.timeStamp-ct.timeStamp,le.angle=qr(Gr,da),le.distance=bt(Gr,da),ar(pe,le),le.offsetDirection=Dt(le.deltaX,le.deltaY);var _r=xt(le.deltaTime,le.deltaX,le.deltaY);le.overallVelocityX=_r.x,le.overallVelocityY=_r.y,le.overallVelocity=h(_r.x)>h(_r.y)?_r.x:_r.y,le.scale=Vt?Et(Vt.pointers,De):1,le.rotation=Vt?tr(Vt.pointers,De):0,le.maxPointers=pe.prevInput?le.pointers.length>pe.prevInput.maxPointers?le.pointers.length:pe.prevInput.maxPointers:le.pointers.length,Pt(pe,le);var fs=K.element;U(le.srcEvent.target,fs)&&(fs=le.srcEvent.target),le.target=fs}function ar(K,le){var pe=le.center,De=K.offsetDelta||{},Je=K.prevDelta||{},ct=K.prevInput||{};(le.eventType===xe||ct.eventType===Se)&&(Je=K.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},De=K.offsetDelta={x:pe.x,y:pe.y}),le.deltaX=Je.x+(pe.x-De.x),le.deltaY=Je.y+(pe.y-De.y)}function Pt(K,le){var pe=K.lastInterval||le,De=le.timeStamp-pe.timeStamp,Je,ct,Vt,Gr;if(le.eventType!=Le&&(De>re||pe.velocity===n)){var da=le.deltaX-pe.deltaX,_r=le.deltaY-pe.deltaY,fs=xt(De,da,_r);ct=fs.x,Vt=fs.y,Je=h(fs.x)>h(fs.y)?fs.x:fs.y,Gr=Dt(da,_r),K.lastInterval=le}else Je=pe.velocity,ct=pe.velocityX,Vt=pe.velocityY,Gr=pe.direction;le.velocity=Je,le.velocityX=ct,le.velocityY=Vt,le.direction=Gr}function er(K){for(var le=[],pe=0;pe<K.pointers.length;)le[pe]={clientX:u(K.pointers[pe].clientX),clientY:u(K.pointers[pe].clientY)},pe++;return{timeStamp:g(),pointers:le,center:Wt(le),deltaX:K.deltaX,deltaY:K.deltaY}}function Wt(K){var le=K.length;if(le===1)return{x:u(K[0].clientX),y:u(K[0].clientY)};for(var pe=0,De=0,Je=0;Je<le;)pe+=K[Je].clientX,De+=K[Je].clientY,Je++;return{x:u(pe/le),y:u(De/le)}}function xt(K,le,pe){return{x:le/K||0,y:pe/K||0}}function Dt(K,le){return K===le?be:h(K)>=h(le)?K<0?Ge:Ve:le<0?ze:V}function bt(K,le,pe){pe||(pe=We);var De=le[pe[0]]-K[pe[0]],Je=le[pe[1]]-K[pe[1]];return Math.sqrt(De*De+Je*Je)}function qr(K,le,pe){pe||(pe=We);var De=le[pe[0]]-K[pe[0]],Je=le[pe[1]]-K[pe[1]];return Math.atan2(Je,De)*180/Math.PI}function tr(K,le){return qr(le[1],le[0],ut)+qr(K[1],K[0],ut)}function Et(K,le){return bt(le[0],le[1],ut)/bt(K[0],K[1],ut)}var Qt={mousedown:xe,mousemove:je,mouseup:Se},br="mousedown",ht="mousemove mouseup";function kr(){this.evEl=br,this.evWin=ht,this.pressed=!1,at.apply(this,arguments)}L(kr,at,{handler:function(le){var pe=Qt[le.type];pe&xe&&le.button===0&&(this.pressed=!0),pe&je&&le.which!==1&&(pe=Se),this.pressed&&(pe&Se&&(this.pressed=!1),this.callback(this.manager,pe,{pointers:[le],changedPointers:[le],pointerType:G,srcEvent:le}))}});var Rt={pointerdown:xe,pointermove:je,pointerup:Se,pointercancel:Le,pointerout:Le},zt={2:P,3:Y,4:G,5:ue},Cr="pointerdown",Ht="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Cr="MSPointerDown",Ht="MSPointerMove MSPointerUp MSPointerCancel");function kt(){this.evEl=Cr,this.evWin=Ht,at.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}L(kt,at,{handler:function(le){var pe=this.store,De=!1,Je=le.type.toLowerCase().replace("ms",""),ct=Rt[Je],Vt=zt[le.pointerType]||le.pointerType,Gr=Vt==P,da=I(pe,le.pointerId,"pointerId");ct&xe&&(le.button===0||Gr)?da<0&&(pe.push(le),da=pe.length-1):ct&(Se|Le)&&(De=!0),!(da<0)&&(pe[da]=le,this.callback(this.manager,ct,{pointers:pe,changedPointers:[le],pointerType:Vt,srcEvent:le}),De&&pe.splice(da,1))}});var ur={touchstart:xe,touchmove:je,touchend:Se,touchcancel:Le},fn="touchstart",$a="touchstart touchmove touchend touchcancel";function gn(){this.evTarget=fn,this.evWin=$a,this.started=!1,at.apply(this,arguments)}L(gn,at,{handler:function(le){var pe=ur[le.type];if(pe===xe&&(this.started=!0),!!this.started){var De=mn.call(this,le,pe);pe&(Se|Le)&&De[0].length-De[1].length===0&&(this.started=!1),this.callback(this.manager,pe,{pointers:De[0],changedPointers:De[1],pointerType:P,srcEvent:le})}}});function mn(K,le){var pe=B(K.touches),De=B(K.changedTouches);return le&(Se|Le)&&(pe=X(pe.concat(De),"identifier")),[pe,De]}var At={touchstart:xe,touchmove:je,touchend:Se,touchcancel:Le},ks="touchstart touchmove touchend touchcancel";function Hs(){this.evTarget=ks,this.targetIds={},at.apply(this,arguments)}L(Hs,at,{handler:function(le){var pe=At[le.type],De=Ss.call(this,le,pe);De&&this.callback(this.manager,pe,{pointers:De[0],changedPointers:De[1],pointerType:P,srcEvent:le})}});function Ss(K,le){var pe=B(K.touches),De=this.targetIds;if(le&(xe|je)&&pe.length===1)return De[pe[0].identifier]=!0,[pe,pe];var Je,ct,Vt=B(K.changedTouches),Gr=[],da=this.target;if(ct=pe.filter(function(_r){return U(_r.target,da)}),le===xe)for(Je=0;Je<ct.length;)De[ct[Je].identifier]=!0,Je++;for(Je=0;Je<Vt.length;)De[Vt[Je].identifier]&&Gr.push(Vt[Je]),le&(Se|Le)&&delete De[Vt[Je].identifier],Je++;if(Gr.length)return[X(ct.concat(Gr),"identifier"),Gr]}var Cs=2500,zr=25;function ra(){at.apply(this,arguments);var K=E(this.handler,this);this.touch=new Hs(this.manager,K),this.mouse=new kr(this.manager,K),this.primaryTouch=null,this.lastTouches=[]}L(ra,at,{handler:function(le,pe,De){var Je=De.pointerType==P,ct=De.pointerType==G;if(!(ct&&De.sourceCapabilities&&De.sourceCapabilities.firesTouchEvents)){if(Je)Oa.call(this,pe,De);else if(ct&&Vr.call(this,De))return;this.callback(le,pe,De)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Oa(K,le){K&xe?(this.primaryTouch=le.changedPointers[0].identifier,es.call(this,le)):K&(Se|Le)&&es.call(this,le)}function es(K){var le=K.changedPointers[0];if(le.identifier===this.primaryTouch){var pe={x:le.clientX,y:le.clientY};this.lastTouches.push(pe);var De=this.lastTouches,Je=function(){var ct=De.indexOf(pe);ct>-1&&De.splice(ct,1)};setTimeout(Je,Cs)}}function Vr(K){for(var le=K.srcEvent.clientX,pe=K.srcEvent.clientY,De=0;De<this.lastTouches.length;De++){var Je=this.lastTouches[De],ct=Math.abs(le-Je.x),Vt=Math.abs(pe-Je.y);if(ct<=zr&&Vt<=zr)return!0}return!1}var Tr=Q(l.style,"touchAction"),Wa=Tr!==n,ls="compute",qs="auto",cs="manipulation",ds="none",Sa="pan-x",_s="pan-y",ts=ii();function As(K,le){this.manager=K,this.set(le)}As.prototype={set:function(K){K==ls&&(K=this.compute()),Wa&&this.manager.element.style&&ts[K]&&(this.manager.element.style[Tr]=K),this.actions=K.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var K=[];return p(this.manager.recognizers,function(le){D(le.options.enable,[le])&&(K=K.concat(le.getTouchAction()))}),wn(K.join(" "))},preventDefaults:function(K){var le=K.srcEvent,pe=K.offsetDirection;if(this.manager.session.prevented){le.preventDefault();return}var De=this.actions,Je=T(De,ds)&&!ts[ds],ct=T(De,_s)&&!ts[_s],Vt=T(De,Sa)&&!ts[Sa];if(Je){var Gr=K.pointers.length===1,da=K.distance<2,_r=K.deltaTime<250;if(Gr&&da&&_r)return}if(!(Vt&&ct)&&(Je||ct&&pe&Pe||Vt&&pe&st))return this.preventSrc(le)},preventSrc:function(K){this.manager.session.prevented=!0,K.preventDefault()}};function wn(K){if(T(K,ds))return ds;var le=T(K,Sa),pe=T(K,_s);return le&&pe?ds:le||pe?le?Sa:_s:T(K,cs)?cs:qs}function ii(){if(!Wa)return!1;var K={},le=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(pe){K[pe]=le?e.CSS.supports("touch-action",pe):!0}),K}var Pr=1,Ya=2,Nn=4,Dr=8,Ca=Dr,Ga=16,us=32;function Ls(K){this.options=j({},this.defaults,K||{}),this.id=$(),this.manager=null,this.options.enable=F(this.options.enable,!0),this.state=Pr,this.simultaneous={},this.requireFail=[]}Ls.prototype={defaults:{},set:function(K){return j(this.options,K),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(K){if(y(K,"recognizeWith",this))return this;var le=this.simultaneous;return K=Xa(K,this),le[K.id]||(le[K.id]=K,K.recognizeWith(this)),this},dropRecognizeWith:function(K){return y(K,"dropRecognizeWith",this)?this:(K=Xa(K,this),delete this.simultaneous[K.id],this)},requireFailure:function(K){if(y(K,"requireFailure",this))return this;var le=this.requireFail;return K=Xa(K,this),I(le,K)===-1&&(le.push(K),K.requireFailure(this)),this},dropRequireFailure:function(K){if(y(K,"dropRequireFailure",this))return this;K=Xa(K,this);var le=I(this.requireFail,K);return le>-1&&this.requireFail.splice(le,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(K){return!!this.simultaneous[K.id]},emit:function(K){var le=this,pe=this.state;function De(Je){le.manager.emit(Je,K)}pe<Dr&&De(le.options.event+yo(pe)),De(le.options.event),K.additionalEvent&&De(K.additionalEvent),pe>=Dr&&De(le.options.event+yo(pe))},tryEmit:function(K){if(this.canEmit())return this.emit(K);this.state=us},canEmit:function(){for(var K=0;K<this.requireFail.length;){if(!(this.requireFail[K].state&(us|Pr)))return!1;K++}return!0},recognize:function(K){var le=j({},K);if(!D(this.options.enable,[this,le])){this.reset(),this.state=us;return}this.state&(Ca|Ga|us)&&(this.state=Pr),this.state=this.process(le),this.state&(Ya|Nn|Dr|Ga)&&this.tryEmit(le)},process:function(K){},getTouchAction:function(){},reset:function(){}};function yo(K){return K&Ga?"cancel":K&Dr?"end":K&Nn?"move":K&Ya?"start":""}function sl(K){return K==V?"down":K==ze?"up":K==Ge?"left":K==Ve?"right":""}function Xa(K,le){var pe=le.manager;return pe?pe.get(K):K}function xa(){Ls.apply(this,arguments)}L(xa,Ls,{defaults:{pointers:1},attrTest:function(K){var le=this.options.pointers;return le===0||K.pointers.length===le},process:function(K){var le=this.state,pe=K.eventType,De=le&(Ya|Nn),Je=this.attrTest(K);return De&&(pe&Le||!Je)?le|Ga:De||Je?pe&Se?le|Dr:le&Ya?le|Nn:Ya:us}});function hs(){xa.apply(this,arguments),this.pX=null,this.pY=null}L(hs,xa,{defaults:{event:"pan",threshold:10,pointers:1,direction:rt},getTouchAction:function(){var K=this.options.direction,le=[];return K&Pe&&le.push(_s),K&st&&le.push(Sa),le},directionTest:function(K){var le=this.options,pe=!0,De=K.distance,Je=K.direction,ct=K.deltaX,Vt=K.deltaY;return Je&le.direction||(le.direction&Pe?(Je=ct===0?be:ct<0?Ge:Ve,pe=ct!=this.pX,De=Math.abs(K.deltaX)):(Je=Vt===0?be:Vt<0?ze:V,pe=Vt!=this.pY,De=Math.abs(K.deltaY))),K.direction=Je,pe&&De>le.threshold&&Je&le.direction},attrTest:function(K){return xa.prototype.attrTest.call(this,K)&&(this.state&Ya||!(this.state&Ya)&&this.directionTest(K))},emit:function(K){this.pX=K.deltaX,this.pY=K.deltaY;var le=sl(K.direction);le&&(K.additionalEvent=this.options.event+le),this._super.emit.call(this,K)}});function hr(){xa.apply(this,arguments)}L(hr,xa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ds]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.scale-1)>this.options.threshold||this.state&Ya)},emit:function(K){if(K.scale!==1){var le=K.scale<1?"in":"out";K.additionalEvent=this.options.event+le}this._super.emit.call(this,K)}});function zi(){Ls.apply(this,arguments),this._timer=null,this._input=null}L(zi,Ls,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qs]},process:function(K){var le=this.options,pe=K.pointers.length===le.pointers,De=K.distance<le.threshold,Je=K.deltaTime>le.time;if(this._input=K,!De||!pe||K.eventType&(Se|Le)&&!Je)this.reset();else if(K.eventType&xe)this.reset(),this._timer=x(function(){this.state=Ca,this.tryEmit()},le.time,this);else if(K.eventType&Se)return Ca;return us},reset:function(){clearTimeout(this._timer)},emit:function(K){this.state===Ca&&(K&&K.eventType&Se?this.manager.emit(this.options.event+"up",K):(this._input.timeStamp=g(),this.manager.emit(this.options.event,this._input)))}});function Vs(){xa.apply(this,arguments)}L(Vs,xa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ds]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.rotation)>this.options.threshold||this.state&Ya)}});function pn(){xa.apply(this,arguments)}L(pn,xa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pe|st,pointers:1},getTouchAction:function(){return hs.prototype.getTouchAction.call(this)},attrTest:function(K){var le=this.options.direction,pe;return le&(Pe|st)?pe=K.overallVelocity:le&Pe?pe=K.overallVelocityX:le&st&&(pe=K.overallVelocityY),this._super.attrTest.call(this,K)&&le&K.offsetDirection&&K.distance>this.options.threshold&&K.maxPointers==this.options.pointers&&h(pe)>this.options.velocity&&K.eventType&Se},emit:function(K){var le=sl(K.offsetDirection);le&&this.manager.emit(this.options.event+le,K),this.manager.emit(this.options.event,K)}});function oi(){Ls.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}L(oi,Ls,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[cs]},process:function(K){var le=this.options,pe=K.pointers.length===le.pointers,De=K.distance<le.threshold,Je=K.deltaTime<le.time;if(this.reset(),K.eventType&xe&&this.count===0)return this.failTimeout();if(De&&Je&&pe){if(K.eventType!=Se)return this.failTimeout();var ct=this.pTime?K.timeStamp-this.pTime<le.interval:!0,Vt=!this.pCenter||bt(this.pCenter,K.center)<le.posThreshold;this.pTime=K.timeStamp,this.pCenter=K.center,!Vt||!ct?this.count=1:this.count+=1,this._input=K;var Gr=this.count%le.taps;if(Gr===0)return this.hasRequireFailures()?(this._timer=x(function(){this.state=Ca,this.tryEmit()},le.interval,this),Ya):Ca}return us},failTimeout:function(){return this._timer=x(function(){this.state=us},this.options.interval,this),us},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ca&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Yr(K,le){return le=le||{},le.recognizers=F(le.recognizers,Yr.defaults.preset),new li(K,le)}Yr.VERSION="2.0.7",Yr.defaults={domEvents:!1,touchAction:ls,enable:!0,inputTarget:null,inputClass:null,preset:[[Vs,{enable:!1}],[hr,{enable:!1},["rotate"]],[pn,{direction:Pe}],[hs,{direction:Pe},["swipe"]],[oi],[oi,{event:"doubletap",taps:2},["tap"]],[zi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ba=1,aa=2;function li(K,le){this.options=j({},Yr.defaults,le||{}),this.options.inputTarget=this.options.inputTarget||K,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=K,this.input=jt(this),this.touchAction=new As(this,this.options.touchAction),nl(this,!0),p(this.options.recognizers,function(pe){var De=this.add(new pe[0](pe[1]));pe[2]&&De.recognizeWith(pe[2]),pe[3]&&De.requireFailure(pe[3])},this)}li.prototype={set:function(K){return j(this.options,K),K.touchAction&&this.touchAction.update(),K.inputTarget&&(this.input.destroy(),this.input.target=K.inputTarget,this.input.init()),this},stop:function(K){this.session.stopped=K?aa:ba},recognize:function(K){var le=this.session;if(!le.stopped){this.touchAction.preventDefaults(K);var pe,De=this.recognizers,Je=le.curRecognizer;(!Je||Je&&Je.state&Ca)&&(Je=le.curRecognizer=null);for(var ct=0;ct<De.length;)pe=De[ct],le.stopped!==aa&&(!Je||pe==Je||pe.canRecognizeWith(Je))?pe.recognize(K):pe.reset(),!Je&&pe.state&(Ya|Nn|Dr)&&(Je=le.curRecognizer=pe),ct++}},get:function(K){if(K instanceof Ls)return K;for(var le=this.recognizers,pe=0;pe<le.length;pe++)if(le[pe].options.event==K)return le[pe];return null},add:function(K){if(y(K,"add",this))return this;var le=this.get(K.options.event);return le&&this.remove(le),this.recognizers.push(K),K.manager=this,this.touchAction.update(),K},remove:function(K){if(y(K,"remove",this))return this;if(K=this.get(K),K){var le=this.recognizers,pe=I(le,K);pe!==-1&&(le.splice(pe,1),this.touchAction.update())}return this},on:function(K,le){if(K!==n&&le!==n){var pe=this.handlers;return p(W(K),function(De){pe[De]=pe[De]||[],pe[De].push(le)}),this}},off:function(K,le){if(K!==n){var pe=this.handlers;return p(W(K),function(De){le?pe[De]&&pe[De].splice(I(pe[De],le),1):delete pe[De]}),this}},emit:function(K,le){this.options.domEvents&&il(K,le);var pe=this.handlers[K]&&this.handlers[K].slice();if(!(!pe||!pe.length)){le.type=K,le.preventDefault=function(){le.srcEvent.preventDefault()};for(var De=0;De<pe.length;)pe[De](le),De++}},destroy:function(){this.element&&nl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function nl(K,le){var pe=K.element;if(pe.style){var De;p(K.options.cssProps,function(Je,ct){De=Q(pe.style,ct),le?(K.oldCssProps[De]=pe.style[De],pe.style[De]=Je):pe.style[De]=K.oldCssProps[De]||""}),le||(K.oldCssProps={})}}function il(K,le){var pe=r.createEvent("Event");pe.initEvent(K,!0,!0),pe.gesture=le,le.target.dispatchEvent(pe)}j(Yr,{INPUT_START:xe,INPUT_MOVE:je,INPUT_END:Se,INPUT_CANCEL:Le,STATE_POSSIBLE:Pr,STATE_BEGAN:Ya,STATE_CHANGED:Nn,STATE_ENDED:Dr,STATE_RECOGNIZED:Ca,STATE_CANCELLED:Ga,STATE_FAILED:us,DIRECTION_NONE:be,DIRECTION_LEFT:Ge,DIRECTION_RIGHT:Ve,DIRECTION_UP:ze,DIRECTION_DOWN:V,DIRECTION_HORIZONTAL:Pe,DIRECTION_VERTICAL:st,DIRECTION_ALL:rt,Manager:li,Input:at,TouchAction:As,TouchInput:Hs,MouseInput:kr,PointerEventInput:kt,TouchMouseInput:ra,SingleTouchInput:gn,Recognizer:Ls,AttrRecognizer:xa,Tap:oi,Pan:hs,Swipe:pn,Pinch:hr,Rotate:Vs,Press:zi,on:se,off:O,each:p,merge:C,extend:k,assign:j,inherit:L,bindFn:E,prefixed:Q});var rs=typeof e<"u"?e:typeof self<"u"?self:{};rs.Hammer=Yr,t.exports?t.exports=Yr:e[a]=Yr})(window,document,"Hammer")})(vx)),vx.exports}var TM=RM();const T0=X0(TM);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const W0=t=>t&&t.enabled&&t.modifierKey,MN=(t,e)=>t&&e[t+"Key"],_2=(t,e)=>t&&!e[t+"Key"];function Xc(t,e,r){return t===void 0?!0:typeof t=="string"?t.indexOf(e)!==-1:typeof t=="function"?t({chart:r}).indexOf(e)!==-1:!1}function wx(t,e){return typeof t=="function"&&(t=t({chart:e})),typeof t=="string"?{x:t.indexOf("x")!==-1,y:t.indexOf("y")!==-1}:{x:!1,y:!1}}function PM(t,e){let r;return function(){return clearTimeout(r),r=setTimeout(t,e),e}}function DM({x:t,y:e},r){const a=r.scales,n=Object.keys(a);for(let i=0;i<n.length;i++){const l=a[n[i]];if(e>=l.top&&e<=l.bottom&&t>=l.left&&t<=l.right)return l}return null}function RN(t,e,r){const{mode:a="xy",scaleMode:n,overScaleMode:i}=t||{},l=DM(e,r),d=wx(a,r),u=wx(n,r);if(i){const g=wx(i,r);for(const x of["x","y"])g[x]&&(u[x]=d[x],d[x]=!1)}if(l&&u[l.axis])return[l];const h=[];return gr(r.scales,function(g){d[g.axis]&&h.push(g)}),h}const C1=new WeakMap;function ka(t){let e=C1.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},C1.set(t,e)),e}function OM(t){C1.delete(t)}function TN(t,e,r,a){const n=Math.max(0,Math.min(1,(t-e)/r||0)),i=1-n;return{min:a*n,max:a*i}}function PN(t,e){const r=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(r)}function DN(t,e,r){const a=t.max-t.min,n=a*(e-1),i=PN(t,r);return TN(i,t.min,a,n)}function FM(t,e,r){const a=PN(t,r);if(a===void 0)return{min:t.min,max:t.max};const n=Math.log10(t.min),i=Math.log10(t.max),l=Math.log10(a),d=i-n,u=d*(e-1),h=TN(l,n,d,u);return{min:Math.pow(10,n+h.min),max:Math.pow(10,i-h.max)}}function BM(t,e){return e&&(e[t.id]||e[t.axis])||{}}function Mv(t,e,r,a,n){let i=r[a];if(i==="original"){const l=t.originalScaleLimits[e.id][a];i=$t(l.options,l.scale)}return $t(i,n)}function zM(t,e,r){const a=t.getValueForPixel(e),n=t.getValueForPixel(r);return{min:Math.min(a,n),max:Math.max(a,n)}}function IM(t,{min:e,max:r,minLimit:a,maxLimit:n},i){const l=(t-r+e)/2;e-=l,r+=l;const d=i.min.options??i.min.scale,u=i.max.options??i.max.scale,h=t/1e6;return Vd(e,d,h)&&(e=d),Vd(r,u,h)&&(r=u),e<a?(e=a,r=Math.min(a+t,n)):r>n&&(r=n,e=Math.max(n-t,a)),{min:e,max:r}}function au(t,{min:e,max:r},a,n=!1){const i=ka(t.chart),{options:l}=t,d=BM(t,a),{minRange:u=0}=d,h=Mv(i,t,d,"min",-1/0),g=Mv(i,t,d,"max",1/0);if(n==="pan"&&(e<h||r>g))return!0;const x=t.max-t.min,y=n?Math.max(r-e,u):x;if(n&&y===u&&x<=u)return!0;const p=IM(y,{min:e,max:r,minLimit:h,maxLimit:g},i.originalScaleLimits[t.id]);return l.min=p.min,l.max=p.max,i.updatedScaleLimits[t.id]=p,t.parse(p.min)!==t.min||t.parse(p.max)!==t.max}function UM(t,e,r,a){const n=DN(t,e,r),i={min:t.min+n.min,max:t.max-n.max};return au(t,i,a,!0)}function HM(t,e,r,a){const n=FM(t,e,r);return au(t,n,a,!0)}function qM(t,e,r,a){au(t,zM(t,e,r),a,!0)}const Rv=t=>t===0||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);function VM(t){const r=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<r&&(t.max+=1)}function $M(t,e,r,a){const n=DN(t,e,r);t.min===t.max&&e<1&&VM(t);const i={min:t.min+Rv(n.min),max:t.max-Rv(n.max)};return au(t,i,a,!0)}function WM(t){return t.isHorizontal()?t.width:t.height}function YM(t,e,r){const n=t.getLabels().length-1;let{min:i,max:l}=t;const d=Math.max(l-i,1),u=Math.round(WM(t)/Math.max(d,10)),h=Math.round(Math.abs(e/u));let g;return e<-u?(l=Math.min(l+h,n),i=d===1?l:l-d,g=l===n):e>u&&(i=Math.max(0,i-h),l=d===1?i:i+d,g=i===0),au(t,{min:i,max:l},r)||g}const GM={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function ON(t,e,r,a=!1){const{min:n,max:i,options:l}=t,d=l.time&&l.time.round,u=GM[d]||0,h=t.getValueForPixel(t.getPixelForValue(n+u)-e),g=t.getValueForPixel(t.getPixelForValue(i+u)-e);return isNaN(h)||isNaN(g)?!0:au(t,{min:h,max:g},r,a?"pan":!1)}function Tv(t,e,r){return ON(t,e,r,!0)}const _1={category:$M,default:UM,logarithmic:HM},A1={default:qM},L1={category:YM,default:ON,logarithmic:Tv,timeseries:Tv};function XM(t,e,r){const{id:a,options:{min:n,max:i}}=t;if(!e[a]||!r[a])return!0;const l=r[a];return l.min!==n||l.max!==i}function Pv(t,e){gr(t,(r,a)=>{e[a]||delete t[a]})}function Ch(t,e){const{scales:r}=t,{originalScaleLimits:a,updatedScaleLimits:n}=e;return gr(r,function(i){XM(i,a,n)&&(a[i.id]={min:{scale:i.min,options:i.options.min},max:{scale:i.max,options:i.options.max}})}),Pv(a,r),Pv(n,r),a}function Dv(t,e,r,a){const n=_1[t.type]||_1.default;Bt(n,[t,e,r,a])}function Ov(t,e,r,a){const n=A1[t.type]||A1.default;Bt(n,[t,e,r,a])}function ZM(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function A2(t,e,r="none",a="api"){const{x:n=1,y:i=1,focalPoint:l=ZM(t)}=typeof e=="number"?{x:e,y:e}:e,d=ka(t),{options:{limits:u,zoom:h}}=d;Ch(t,d);const g=n!==1,x=i!==1,y=RN(h,l,t);gr(y||t.scales,function(p){p.isHorizontal()&&g?Dv(p,n,l,u):!p.isHorizontal()&&x&&Dv(p,i,l,u)}),t.update(r),Bt(h.onZoom,[{chart:t,trigger:a}])}function FN(t,e,r,a="none",n="api"){const i=ka(t),{options:{limits:l,zoom:d}}=i,{mode:u="xy"}=d;Ch(t,i);const h=Xc(u,"x",t),g=Xc(u,"y",t);gr(t.scales,function(x){x.isHorizontal()&&h?Ov(x,e.x,r.x,l):!x.isHorizontal()&&g&&Ov(x,e.y,r.y,l)}),t.update(a),Bt(d.onZoom,[{chart:t,trigger:n}])}function QM(t,e,r,a="none",n="api"){var d;const i=ka(t);Ch(t,i);const l=t.scales[e];au(l,r,void 0,!0),t.update(a),Bt((d=i.options.zoom)==null?void 0:d.onZoom,[{chart:t,trigger:n}])}function KM(t,e="default"){const r=ka(t),a=Ch(t,r);gr(t.scales,function(n){const i=n.options;a[n.id]?(i.min=a[n.id].min.options,i.max=a[n.id].max.options):(delete i.min,delete i.max),delete r.updatedScaleLimits[n.id]}),t.update(e),Bt(r.options.zoom.onZoomComplete,[{chart:t}])}function JM(t,e){const r=t.originalScaleLimits[e];if(!r)return;const{min:a,max:n}=r;return $t(n.options,n.scale)-$t(a.options,a.scale)}function eR(t){const e=ka(t);let r=1,a=1;return gr(t.scales,function(n){const i=JM(e,n.id);if(i){const l=Math.round(i/(n.max-n.min)*100)/100;r=Math.min(r,l),a=Math.max(a,l)}}),r<1?r:a}function Fv(t,e,r,a){const{panDelta:n}=a,i=n[t.id]||0;Ti(i)===Ti(e)&&(e+=i);const l=L1[t.type]||L1.default;Bt(l,[t,e,r])?n[t.id]=0:n[t.id]=e}function BN(t,e,r,a="none"){const{x:n=0,y:i=0}=typeof e=="number"?{x:e,y:e}:e,l=ka(t),{options:{pan:d,limits:u}}=l,{onPan:h}=d||{};Ch(t,l);const g=n!==0,x=i!==0;gr(r||t.scales,function(y){y.isHorizontal()&&g?Fv(y,n,u,l):!y.isHorizontal()&&x&&Fv(y,i,u,l)}),t.update(a),Bt(h,[{chart:t}])}function zN(t){const e=ka(t);Ch(t,e);const r={};for(const a of Object.keys(t.scales)){const{min:n,max:i}=e.originalScaleLimits[a]||{min:{},max:{}};r[a]={min:n.scale,max:i.scale}}return r}function tR(t){const e=ka(t),r={};for(const a of Object.keys(t.scales))r[a]=e.updatedScaleLimits[a];return r}function rR(t){const e=zN(t);for(const r of Object.keys(t.scales)){const{min:a,max:n}=e[r];if(a!==void 0&&t.scales[r].min!==a||n!==void 0&&t.scales[r].max!==n)return!0}return!1}function Bv(t){const e=ka(t);return e.panning||e.dragging}const zv=(t,e,r)=>Math.min(r,Math.max(e,t));function Dn(t,e){const{handlers:r}=ka(t),a=r[e];a&&a.target&&(a.target.removeEventListener(e,a),delete r[e])}function P0(t,e,r,a){const{handlers:n,options:i}=ka(t),l=n[r];if(l&&l.target===e)return;Dn(t,r),n[r]=u=>a(t,u,i),n[r].target=e;const d=r==="wheel"?!1:void 0;e.addEventListener(r,n[r],{passive:d})}function aR(t,e){const r=ka(t);r.dragStart&&(r.dragging=!0,r.dragEnd=e,t.update("none"))}function sR(t,e){const r=ka(t);!r.dragStart||e.key!=="Escape"||(Dn(t,"keydown"),r.dragging=!1,r.dragStart=r.dragEnd=null,t.update("none"))}function E1(t,e){if(t.target!==e.canvas){const r=e.canvas.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top}}return Qo(t,e)}function IN(t,e,r){const{onZoomStart:a,onZoomRejected:n}=r;if(a){const i=E1(e,t);if(Bt(a,[{chart:t,event:e,point:i}])===!1)return Bt(n,[{chart:t,event:e}]),!1}}function nR(t,e){if(t.legend){const i=Qo(e,t);if(Jo(i,t.legend))return}const r=ka(t),{pan:a,zoom:n={}}=r.options;if(e.button!==0||MN(W0(a),e)||_2(W0(n.drag),e))return Bt(n.onZoomRejected,[{chart:t,event:e}]);IN(t,e,n)!==!1&&(r.dragStart=e,P0(t,t.canvas.ownerDocument,"mousemove",aR),P0(t,window.document,"keydown",sR))}function iR({begin:t,end:e},r){let a=e.x-t.x,n=e.y-t.y;const i=Math.abs(a/n);i>r?a=Math.sign(a)*Math.abs(n*r):i<r&&(n=Math.sign(n)*Math.abs(a/r)),e.x=t.x+a,e.y=t.y+n}function Iv(t,e,r,{min:a,max:n,prop:i}){t[a]=zv(Math.min(r.begin[i],r.end[i]),e[a],e[n]),t[n]=zv(Math.max(r.begin[i],r.end[i]),e[a],e[n])}function oR(t,e,r){const a={begin:E1(e.dragStart,t),end:E1(e.dragEnd,t)};if(r){const n=t.chartArea.width/t.chartArea.height;iR(a,n)}return a}function UN(t,e,r,a){const n=Xc(e,"x",t),i=Xc(e,"y",t),{top:l,left:d,right:u,bottom:h,width:g,height:x}=t.chartArea,y={top:l,left:d,right:u,bottom:h},p=oR(t,r,a&&n&&i);n&&Iv(y,t.chartArea,p,{min:"left",max:"right",prop:"x"}),i&&Iv(y,t.chartArea,p,{min:"top",max:"bottom",prop:"y"});const w=y.right-y.left,j=y.bottom-y.top;return{...y,width:w,height:j,zoomX:n&&w?1+(g-w)/g:1,zoomY:i&&j?1+(x-j)/x:1}}function lR(t,e){const r=ka(t);if(!r.dragStart)return;Dn(t,"mousemove");const{mode:a,onZoomComplete:n,drag:{threshold:i=0,maintainAspectRatio:l}}=r.options.zoom,d=UN(t,a,{dragStart:r.dragStart,dragEnd:e},l),u=Xc(a,"x",t)?d.width:0,h=Xc(a,"y",t)?d.height:0,g=Math.sqrt(u*u+h*h);if(r.dragStart=r.dragEnd=null,g<=i){r.dragging=!1,t.update("none");return}FN(t,{x:d.left,y:d.top},{x:d.right,y:d.bottom},"zoom","drag"),r.dragging=!1,r.filterNextClick=!0,Bt(n,[{chart:t}])}function cR(t,e,r){if(_2(W0(r.wheel),e)){Bt(r.onZoomRejected,[{chart:t,event:e}]);return}if(IN(t,e,r)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function dR(t,e){const{handlers:{onZoomComplete:r},options:{zoom:a}}=ka(t);if(!cR(t,e,a))return;const n=e.target.getBoundingClientRect(),i=a.wheel.speed,l=e.deltaY>=0?2-1/(1-i):1+i,d={x:l,y:l,focalPoint:{x:e.clientX-n.left,y:e.clientY-n.top}};A2(t,d,"zoom","wheel"),Bt(r,[{chart:t}])}function uR(t,e,r,a){r&&(ka(t).handlers[e]=PM(()=>Bt(r,[{chart:t}]),a))}function hR(t,e){const r=t.canvas,{wheel:a,drag:n,onZoomComplete:i}=e.zoom;a.enabled?(P0(t,r,"wheel",dR),uR(t,"onZoomComplete",i,250)):Dn(t,"wheel"),n.enabled?(P0(t,r,"mousedown",nR),P0(t,r.ownerDocument,"mouseup",lR)):(Dn(t,"mousedown"),Dn(t,"mousemove"),Dn(t,"mouseup"),Dn(t,"keydown"))}function fR(t){Dn(t,"mousedown"),Dn(t,"mousemove"),Dn(t,"mouseup"),Dn(t,"wheel"),Dn(t,"click"),Dn(t,"keydown")}function gR(t,e){return function(r,a){const{pan:n,zoom:i={}}=e.options;if(!n||!n.enabled)return!1;const l=a&&a.srcEvent;return l&&!e.panning&&a.pointerType==="mouse"&&(_2(W0(n),l)||MN(W0(i.drag),l))?(Bt(n.onPanRejected,[{chart:t,event:a}]),!1):!0}}function mR(t,e){const r=Math.abs(t.clientX-e.clientX),a=Math.abs(t.clientY-e.clientY),n=r/a;let i,l;return n>.3&&n<1.7?i=l=!0:r>a?i=!0:l=!0,{x:i,y:l}}function HN(t,e,r){if(e.scale){const{center:a,pointers:n}=r,i=1/e.scale*r.scale,l=r.target.getBoundingClientRect(),d=mR(n[0],n[1]),u=e.options.zoom.mode,h={x:d.x&&Xc(u,"x",t)?i:1,y:d.y&&Xc(u,"y",t)?i:1,focalPoint:{x:a.x-l.left,y:a.y-l.top}};A2(t,h,"zoom","pinch"),e.scale=r.scale}}function pR(t,e,r){if(e.options.zoom.pinch.enabled){const a=Qo(r,t);Bt(e.options.zoom.onZoomStart,[{chart:t,event:r,point:a}])===!1?(e.scale=null,Bt(e.options.zoom.onZoomRejected,[{chart:t,event:r}])):e.scale=1}}function xR(t,e,r){e.scale&&(HN(t,e,r),e.scale=null,Bt(e.options.zoom.onZoomComplete,[{chart:t}]))}function qN(t,e,r){const a=e.delta;a&&(e.panning=!0,BN(t,{x:r.deltaX-a.x,y:r.deltaY-a.y},e.panScales),e.delta={x:r.deltaX,y:r.deltaY})}function bR(t,e,r){const{enabled:a,onPanStart:n,onPanRejected:i}=e.options.pan;if(!a)return;const l=r.target.getBoundingClientRect(),d={x:r.center.x-l.left,y:r.center.y-l.top};if(Bt(n,[{chart:t,event:r,point:d}])===!1)return Bt(i,[{chart:t,event:r}]);e.panScales=RN(e.options.pan,d,t),e.delta={x:0,y:0},qN(t,e,r)}function yR(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,Bt(e.options.pan.onPanComplete,[{chart:t}]))}const M1=new WeakMap;function Uv(t,e){const r=ka(t),a=t.canvas,{pan:n,zoom:i}=e,l=new T0.Manager(a);i&&i.pinch.enabled&&(l.add(new T0.Pinch),l.on("pinchstart",d=>pR(t,r,d)),l.on("pinch",d=>HN(t,r,d)),l.on("pinchend",d=>xR(t,r,d))),n&&n.enabled&&(l.add(new T0.Pan({threshold:n.threshold,enable:gR(t,r)})),l.on("panstart",d=>bR(t,r,d)),l.on("panmove",d=>qN(t,r,d)),l.on("panend",()=>yR(t,r))),M1.set(t,l)}function Hv(t){const e=M1.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),M1.delete(t))}function vR(t,e){var l,d,u,h;const{pan:r,zoom:a}=t,{pan:n,zoom:i}=e;return((d=(l=a==null?void 0:a.zoom)==null?void 0:l.pinch)==null?void 0:d.enabled)!==((h=(u=i==null?void 0:i.zoom)==null?void 0:u.pinch)==null?void 0:h.enabled)||(r==null?void 0:r.enabled)!==(n==null?void 0:n.enabled)||(r==null?void 0:r.threshold)!==(n==null?void 0:n.threshold)}var wR="2.2.0";function xg(t,e,r){const a=r.zoom.drag,{dragStart:n,dragEnd:i}=ka(t);if(a.drawTime!==e||!i)return;const{left:l,top:d,width:u,height:h}=UN(t,r.zoom.mode,{dragStart:n,dragEnd:i},a.maintainAspectRatio),g=t.ctx;g.save(),g.beginPath(),g.fillStyle=a.backgroundColor||"rgba(225,225,225,0.3)",g.fillRect(l,d,u,h),a.borderWidth>0&&(g.lineWidth=a.borderWidth,g.strokeStyle=a.borderColor||"rgba(225,225,225)",g.strokeRect(l,d,u,h)),g.restore()}var NR={id:"zoom",version:wR,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,r){const a=ka(t);a.options=r,Object.prototype.hasOwnProperty.call(r.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(r.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(r.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),T0&&Uv(t,r),t.pan=(n,i,l)=>BN(t,n,i,l),t.zoom=(n,i)=>A2(t,n,i),t.zoomRect=(n,i,l)=>FN(t,n,i,l),t.zoomScale=(n,i,l)=>QM(t,n,i,l),t.resetZoom=n=>KM(t,n),t.getZoomLevel=()=>eR(t),t.getInitialScaleBounds=()=>zN(t),t.getZoomedScaleBounds=()=>tR(t),t.isZoomedOrPanned=()=>rR(t),t.isZoomingOrPanning=()=>Bv(t)},beforeEvent(t,{event:e}){if(Bv(t))return!1;if(e.type==="click"||e.type==="mouseup"){const r=ka(t);if(r.filterNextClick)return r.filterNextClick=!1,!1}},beforeUpdate:function(t,e,r){const a=ka(t),n=a.options;a.options=r,vR(n,r)&&(Hv(t),Uv(t,r)),hR(t,r)},beforeDatasetsDraw(t,e,r){xg(t,"beforeDatasetsDraw",r)},afterDatasetsDraw(t,e,r){xg(t,"afterDatasetsDraw",r)},beforeDraw(t,e,r){xg(t,"beforeDraw",r)},afterDraw(t,e,r){xg(t,"afterDraw",r)},stop:function(t){fR(t),T0&&Hv(t),OM(t)},panFunctions:L1,zoomFunctions:_1,zoomRectFunctions:A1};rl.register(Gl,Xl,tl,$l,si,qc,tu,ru,eu,af,NR);const jR=()=>{var B,X,Q,ge,$,de,ie,ye,J;const[t,e]=R.useState(null),[r,a]=R.useState([]),[n,i]=R.useState([]),[l,d]=R.useState(null),[u,h]=R.useState(null),[g,x]=R.useState(!0),[y,p]=R.useState("months"),w=R.useRef(null);R.useEffect(()=>{j()},[]);const j=async()=>{try{x(!0);const[te,P,Y,G]=await Promise.all([Rr.getSellersOverview(),Rr.getSellersRanking(10),Rr.getSellerGrowth(),Rr.getPlatformComparison()]);e(te),a(P),i(Y),d(G)}catch(te){console.error("Error fetching seller data:",te)}finally{x(!1)}},k=R.useCallback(()=>{const te=new Date("2025-09-01"),P=new Date("2025-12-15"),Y=[],G={};n.forEach(xe=>{const je=new Date(`${xe.month} 1, ${xe.year}`).getMonth(),Se=`${xe.year}-${String(je+1).padStart(2,"0")}`;G[Se]=xe.newSellers||0});let ue=0;const re=new Date(te);for(;re<=P;){const xe=`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}`,je=re.getDate(),Se=new Date(re.getFullYear(),re.getMonth()+1,0).getDate(),Le=G[xe]||0;let be=0;if(Le>0){const Ge=Le/Se;(Math.random()<Ge||je===Se&&ue<Le)&&(be=Math.random()<.3?Math.ceil(Ge*3):0,be>Le&&(be=Le))}je===1?be=G[xe]||0:be=0,ue+=be,Y.push({date:re.toISOString().split("T")[0],newSellers:be,cumulativeSellers:ue}),re.setDate(re.getDate()+1)}return Y},[n]),C=R.useCallback(()=>{const te=k();if(te.length===0)return{labels:[],newSellers:[],cumulative:[]};if(y==="days")return{labels:te.map(P=>P.date),newSellers:te.map(P=>P.newSellers),cumulative:te.map(P=>P.cumulativeSellers)};if(y==="weeks"){const P={};te.forEach(G=>{const ue=new Date(G.date),re=new Date(ue);re.setDate(ue.getDate()-ue.getDay());const xe=re.toISOString().split("T")[0];P[xe]||(P[xe]={newSellers:0,cumulative:0}),P[xe].newSellers+=G.newSellers,P[xe].cumulative=G.cumulativeSellers});const Y=Object.keys(P).sort();return{labels:Y,newSellers:Y.map(G=>P[G].newSellers),cumulative:Y.map(G=>P[G].cumulative)}}else{const P={};te.forEach(G=>{const ue=new Date(G.date),re=`${ue.getFullYear()}-${String(ue.getMonth()+1).padStart(2,"0")}-01`;P[re]||(P[re]={newSellers:0,cumulative:0}),P[re].newSellers+=G.newSellers,P[re].cumulative=G.cumulativeSellers});const Y=Object.keys(P).sort();return{labels:Y,newSellers:Y.map(G=>P[G].newSellers),cumulative:Y.map(G=>P[G].cumulative)}}},[y,k]),L=async te=>{try{const P=await Rr.getSellerDetails(te);h(P)}catch(P){console.error("Error fetching seller details:",P)}},E=te=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(te),D=()=>{y==="months"?p("weeks"):y==="weeks"&&p("days")},F=()=>{y==="days"?p("weeks"):y==="weeks"&&p("months")},se=()=>{p("months")},O={labels:r.map(te=>te.storeName||te.sellerName),datasets:[{label:"Revenue",data:r.map(te=>te.totalRevenue),backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:6}]},U=C(),T={labels:U.labels,datasets:[{type:"bar",label:"New Sellers",data:U.newSellers,backgroundColor:"rgba(16, 185, 129, 0.8)",borderRadius:6,yAxisID:"y",order:2},{type:"line",label:"Total Sellers (Cumulative)",data:U.cumulative,borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4,pointRadius:y==="days"?0:4,pointBackgroundColor:"rgba(59, 130, 246, 1)",pointHoverRadius:6,yAxisID:"y1",order:1}]},W=te=>{const P=new Date(te);return y==="days"?P.toLocaleDateString("en-US",{month:"short",day:"numeric"}):y==="weeks"?`W${Math.ceil(P.getDate()/7)} ${P.toLocaleDateString("en-US",{month:"short",year:"2-digit"})}`:P.toLocaleDateString("en-US",{month:"short",year:"numeric"})},I={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"rgb(156, 163, 175)",usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.95)",titleColor:"#fff",bodyColor:"#fff",padding:12,cornerRadius:8,displayColors:!0,callbacks:{title:te=>{if(!te.length)return"";const P=new Date(te[0].label);if(y==="months")return P.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(y==="weeks"){const Y=new Date(P);return Y.setDate(P.getDate()+6),`${P.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${Y.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}return P.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}},scales:{x:{type:"category",grid:{display:!1},ticks:{color:"rgb(156, 163, 175)",maxRotation:45,minRotation:0,autoSkip:!0,maxTicksLimit:y==="days"?15:y==="weeks"?20:14,callback:function(te,P){const Y=U.labels[P];return Y?W(Y):""}}},y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(16, 185, 129)",stepSize:1},title:{display:!0,text:"New Sellers",color:"rgb(16, 185, 129)",font:{size:12,weight:"bold"}},min:0},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"rgb(59, 130, 246)",stepSize:1},title:{display:!0,text:"Total Sellers",color:"rgb(59, 130, 246)",font:{size:12,weight:"bold"}},min:0}}};return g?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:"Seller Performance"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Analyze seller performance and marketplace health"})]}),t&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalSellers}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Sellers"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.verifiedSellers}),s.jsx("p",{className:"text-xs text-gray-500",children:"Verified"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.activeSellers}),s.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E(t.totalSellerRevenue)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Revenue"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E(t.platformCommission)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Commission"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.sellerProducts}),s.jsx("p",{className:"text-xs text-gray-500",children:"Products"})]})]}),l&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Platform vs Sellers Comparison"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-5 border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"MouadVision (Platform)"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:E(((B=l.platform)==null?void 0:B.revenue)||0)}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[s.jsxs("span",{children:[((X=l.platform)==null?void 0:X.products)||0," products"]}),s.jsxs("span",{children:[((Q=l.platform)==null?void 0:Q.sales)||0," sales"]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-5 border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"All Sellers"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:E(((ge=l.sellers)==null?void 0:ge.revenue)||0)}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[s.jsxs("span",{children:[(($=l.sellers)==null?void 0:$.products)||0," products"]}),s.jsxs("span",{children:[((de=l.sellers)==null?void 0:de.sales)||0," sales"]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-5 border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-4",children:"Revenue Share"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Platform"}),s.jsxs("span",{className:"font-medium text-gray-900 dark: text-white",children:[((ie=l.platformShare)==null?void 0:ie.toFixed(1))||0,"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gray-500 dark:bg-gray-400 rounded-full transition-all",style:{width:`${l.platformShare||0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sellers"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[((ye=l.sellersShare)==null?void 0:ye.toFixed(1))||0,"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${l.sellersShare||0}%`}})})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark: text-white mb-4",children:"Top Sellers by Revenue"}),s.jsx("div",{className:"h-80",children:s.jsx(Wl,{data:O,options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)",callback:te=>E(te)}},y:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}}}}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark: border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Seller Growth"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:F,disabled:y==="months",className:`p-2 rounded-lg transition-colors ${y==="months"?"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:"Zoom Out",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),s.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>p("months"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${y==="months"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Months"}),s.jsx("button",{onClick:()=>p("weeks"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${y==="weeks"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark: text-gray-400 hover: text-gray-900 dark: hover:text-white"}`,children:"Weeks"}),s.jsx("button",{onClick:()=>p("days"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${y==="days"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Days"})]}),s.jsx("button",{onClick:D,disabled:y==="days",className:`p-2 rounded-lg transition-colors ${y==="days"?"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:"Zoom In",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),s.jsx("button",{onClick:se,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Reset Zoom",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-emerald-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"New Sellers (Bar)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-blue-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cumulative Total (Line)"})]})]}),s.jsx("div",{className:"h-72",children:s.jsx(Wl,{ref:w,data:T,options:I})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Sellers Ranking"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-sm text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"pb-4 font-medium w-16",children:"#"}),s.jsx("th",{className:"pb-4 font-medium",children:"Seller"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Revenue"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Products Sold"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Orders"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Action"})]})}),s.jsx("tbody",{children:r.map(te=>{var P;return s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[s.jsx("td",{className:"py-4",children:s.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:te.rank})}),s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 font-semibold",children:(P=te.storeName||te.sellerName)==null?void 0:P.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:te.storeName||"No Store Name"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:te.sellerName})]})]})}),s.jsx("td",{className:"py-4 text-right font-bold text-green-600 dark:text-green-400",children:E(te.totalRevenue)}),s.jsx("td",{className:"py-4 text-right text-gray-600 dark:text-gray-400",children:te.productsSold.toLocaleString()}),s.jsx("td",{className:"py-4 text-right text-gray-600 dark:text-gray-400",children:te.totalOrders}),s.jsx("td",{className:"py-4 text-right",children:s.jsx("button",{onClick:()=>L(te.sellerId),className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors font-medium",children:"Details"})})]},te.sellerId)})})]})})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white dark: bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Seller Details"}),s.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-500 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 text-2xl font-bold",children:((J=u.name)==null?void 0:J.charAt(0).toUpperCase())||"S"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-bold text-gray-900 dark: text-white",children:u.storeName||u.name}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:u.email}),u.isVerified&&s.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-xs mt-1",children:" Verified Seller"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:E(u.totalRevenue||0)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:u.totalProducts||0})]})]}),u.topProducts&&u.topProducts.length>0&&s.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Top Products"}),s.jsx("div",{className:"space-y-2",children:u.topProducts.map((te,P)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-gray-400 font-medium text-sm",children:P+1}),s.jsx("span",{className:"text-sm text-gray-900 dark:text-white truncate max-w-[180px]",children:te.name})]}),s.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[te.sales," sold"]})]},P))})]}),s.jsx("button",{onClick:()=>h(null),className:"w-full py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium transition-colors",children:"Close"})]})]})})})]})};rl.register(Gl,Xl,tl,qc,L0,$l,si,tu,ru,eu,af);const kR=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(null),[n,i]=R.useState([]),[l,d]=R.useState(!0),[u,h]=R.useState(!1);R.useEffect(()=>{g()},[]);const g=async()=>{try{d(!0);const[k,C]=await Promise.all([Rr.getCategoriesOverview(),Rr.getCategoryRevenueContribution()]);e(k),i(C)}catch(k){console.error("Error fetching category data:",k)}finally{d(!1)}},x=async k=>{try{h(!0);const C=await Rr.getCategoryMetrics(k);a(C)}catch(C){console.error("Error fetching category metrics:",C)}finally{h(!1)}},y=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(k),p={labels:n.slice(0,8).map(k=>k.name),datasets:[{data:n.slice(0,8).map(k=>k.revenue),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)","rgba(20, 184, 166, 0.8)","rgba(251, 146, 60, 0.8)"],borderWidth:0}]},w={labels:["Products","Avg Price","Avg Rating","Sales","Revenue"],datasets:t.slice(0,5).map((k,C)=>{const L=["rgba(59, 130, 246, 0.5)","rgba(16, 185, 129, 0.5)","rgba(245, 158, 11, 0.5)","rgba(239, 68, 68, 0.5)","rgba(139, 92, 246, 0.5)"],E=["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(239, 68, 68)","rgb(139, 92, 246)"],D=Math.max(...t.map(U=>U.productCount)),F=Math.max(...t.map(U=>U.avgPrice)),se=Math.max(...t.map(U=>U.totalSales)),O=Math.max(...t.map(U=>U.revenue));return{label:k.name,data:[k.productCount/D*100,k.avgPrice/F*100,k.avgRating/5*100,k.totalSales/se*100,k.revenue/O*100],backgroundColor:L[C],borderColor:E[C],borderWidth:2}})},j={labels:t.map(k=>k.name),datasets:[{label:"Products",data:t.map(k=>k.productCount),backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:6}]};return l?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Category Analysis"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Deep dive into category performance and metrics"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Select Category for Detailed Analysis"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:t.map(k=>s.jsxs("button",{onClick:()=>x(k.id),className:`p-4 rounded-xl border-2 transition-all text-left ${(r==null?void 0:r.id)===k.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700"}`,children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:k.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.productCount," products"]})]},k.id))})]}),r&&s.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark: border-gray-700",children:u?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600 dark:border-gray-400"})}):s.jsxs(s.Fragment,{children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-900 dark: text-white",children:[r.name," - Detailed Metrics"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 border border-gray-200 dark: border-gray-600",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Products"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-gray-900 dark: text-white",children:r.productCount})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Avg Price"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-gray-900 dark:text-white",children:y(r.avgPrice||0)})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Price Range"}),s.jsxs("p",{className:"text-lg font-bold mt-1 text-gray-900 dark:text-white",children:[y(r.minPrice||0)," - ",y(r.maxPrice||0)]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 border border-gray-200 dark: border-gray-600",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Avg Rating"}),s.jsxs("p",{className:"text-2xl font-bold mt-1 text-gray-900 dark:text-white",children:[" ",r.avgRating||"N/A"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.bestRated&&s.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-2",children:"Best Rated"}),s.jsx("p",{className:"font-medium truncate text-gray-900 dark:text-white",children:r.bestRated.name}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",r.bestRated.rating]})]}),r.bestSelling&&s.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-2",children:"Best Selling"}),s.jsx("p",{className:"font-medium truncate text-gray-900 dark:text-white",children:r.bestSelling.name}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.bestSelling.sales," sold"]})]})]}),r.ratingDistribution&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-2",children:"Rating Distribution"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(r.ratingDistribution).map(([k,C])=>s.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-2 text-center border border-gray-200 dark: border-gray-600",children:[s.jsx("p",{className:"text-xs text-gray-500 dark: text-gray-400",children:k}),s.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:C})]},k))})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue by Category"}),s.jsx("div",{className:"h-80",children:s.jsx(C2,{data:p,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"rgb(156, 163, 175)",padding:10}},tooltip:{callbacks:{label:k=>{const C=n[k.dataIndex];return`${k.label}: ${y(C.revenue)} (${C.percentage}%)`}}}},cutout:"50%"}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top 5 Categories Comparison"}),s.jsx("div",{className:"h-80",children:s.jsx(xM,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgb(156, 163, 175)",padding:10}}},scales:{r:{ticks:{display:!1},grid:{color:"rgba(156, 163, 175, 0.2)"},pointLabels:{color:"rgb(156, 163, 175)"}}}}})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Products by Category"}),s.jsx("div",{className:"h-80",children:s.jsx(Wl,{data:j,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)",maxRotation:45,minRotation:45}},y:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgb(156, 163, 175)"}}}}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"All Categories Overview"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-sm text-gray-500 dark:text-gray-400",children:[s.jsx("th",{className:"pb-4 font-medium",children:"Category"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Products"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Avg Price"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Avg Rating"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Total Sales"}),s.jsx("th",{className:"pb-4 font-medium text-right",children:"Revenue"})]})}),s.jsx("tbody",{children:t.map((k,C)=>s.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium w-6 text-center",children:C+1}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:k.name})]})}),s.jsx("td",{className:"py-4 text-right text-gray-600 dark:text-gray-400",children:k.productCount}),s.jsx("td",{className:"py-4 text-right text-gray-600 dark:text-gray-400",children:y(k.avgPrice)}),s.jsx("td",{className:"py-4 text-right",children:s.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-600",children:[" ",k.avgRating]})}),s.jsx("td",{className:"py-4 text-right text-gray-600 dark:text-gray-400",children:k.totalSales.toLocaleString()}),s.jsx("td",{className:"py-4 text-right font-bold text-green-600",children:y(k.revenue)})]},k.id))})]})})]})]})},SR="modulepreload",CR=function(t){return"/"+t},qv={},Nx=function(e,r,a){let n=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));n=l(r.map(h=>{if(h=CR(h),h in qv)return;qv[h]=!0;const g=h.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":SR,g||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),g)return new Promise((p,w)=>{y.addEventListener("load",p),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return n.then(l=>{for(const d of l||[])d.status==="rejected"&&i(d.reason);return e().catch(i)})};function Br(t){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(t)}var go=Uint8Array,ni=Uint16Array,L2=Int32Array,E2=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M2=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vv=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VN=function(t,e){for(var r=new ni(31),a=0;a<31;++a)r[a]=e+=1<<t[a-1];for(var n=new L2(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)n[i]=i-r[a]<<5|a;return{b:r,r:n}},$N=VN(E2,2),_R=$N.b,R1=$N.r;_R[28]=258,R1[258]=28;var AR=VN(M2,0),$v=AR.r,T1=new ni(32768);for(var la=0;la<32768;++la){var Dc=(la&43690)>>1|(la&21845)<<1;Dc=(Dc&52428)>>2|(Dc&13107)<<2,Dc=(Dc&61680)>>4|(Dc&3855)<<4,T1[la]=((Dc&65280)>>8|(Dc&255)<<8)>>1}var D0=(function(t,e,r){for(var a=t.length,n=0,i=new ni(e);n<a;++n)t[n]&&++i[t[n]-1];var l=new ni(e);for(n=1;n<e;++n)l[n]=l[n-1]+i[n-1]<<1;var d;if(r){d=new ni(1<<e);var u=15-e;for(n=0;n<a;++n)if(t[n])for(var h=n<<4|t[n],g=e-t[n],x=l[t[n]-1]++<<g,y=x|(1<<g)-1;x<=y;++x)d[T1[x]>>u]=h}else for(d=new ni(a),n=0;n<a;++n)t[n]&&(d[n]=T1[l[t[n]-1]++]>>15-t[n]);return d}),Kd=new go(288);for(var la=0;la<144;++la)Kd[la]=8;for(var la=144;la<256;++la)Kd[la]=9;for(var la=256;la<280;++la)Kd[la]=7;for(var la=280;la<288;++la)Kd[la]=8;var cm=new go(32);for(var la=0;la<32;++la)cm[la]=5;var LR=D0(Kd,9,0),ER=D0(cm,5,0),WN=function(t){return(t+7)/8|0},MR=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new go(t.subarray(e,r))},Rl=function(t,e,r){r<<=e&7;var a=e/8|0;t[a]|=r,t[a+1]|=r>>8},j0=function(t,e,r){r<<=e&7;var a=e/8|0;t[a]|=r,t[a+1]|=r>>8,t[a+2]|=r>>16},jx=function(t,e){for(var r=[],a=0;a<t.length;++a)t[a]&&r.push({s:a,f:t[a]});var n=r.length,i=r.slice();if(!n)return{t:GN,l:0};if(n==1){var l=new go(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(F,se){return F.f-se.f}),r.push({s:-1,f:25001});var d=r[0],u=r[1],h=0,g=1,x=2;for(r[0]={s:-1,f:d.f+u.f,l:d,r:u};g!=n-1;)d=r[r[h].f<r[x].f?h++:x++],u=r[h!=g&&r[h].f<r[x].f?h++:x++],r[g++]={s:-1,f:d.f+u.f,l:d,r:u};for(var y=i[0].s,a=1;a<n;++a)i[a].s>y&&(y=i[a].s);var p=new ni(y+1),w=P1(r[g-1],p,0);if(w>e){var a=0,j=0,k=w-e,C=1<<k;for(i.sort(function(se,O){return p[O.s]-p[se.s]||se.f-O.f});a<n;++a){var L=i[a].s;if(p[L]>e)j+=C-(1<<w-p[L]),p[L]=e;else break}for(j>>=k;j>0;){var E=i[a].s;p[E]<e?j-=1<<e-p[E]++-1:++a}for(;a>=0&&j;--a){var D=i[a].s;p[D]==e&&(--p[D],++j)}w=e}return{t:new go(p),l:w}},P1=function(t,e,r){return t.s==-1?Math.max(P1(t.l,e,r+1),P1(t.r,e,r+1)):e[t.s]=r},Wv=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ni(++e),a=0,n=t[0],i=1,l=function(u){r[a++]=u},d=1;d<=e;++d)if(t[d]==n&&d!=e)++i;else{if(!n&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(n),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(n);i=1,n=t[d]}return{c:r.subarray(0,a),n:e}},k0=function(t,e){for(var r=0,a=0;a<e.length;++a)r+=t[a]*e[a];return r},YN=function(t,e,r){var a=r.length,n=WN(e+2);t[n]=a&255,t[n+1]=a>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var i=0;i<a;++i)t[n+i+4]=r[i];return(n+4+a)*8},Yv=function(t,e,r,a,n,i,l,d,u,h,g){Rl(e,g++,r),++n[256];for(var x=jx(n,15),y=x.t,p=x.l,w=jx(i,15),j=w.t,k=w.l,C=Wv(y),L=C.c,E=C.n,D=Wv(j),F=D.c,se=D.n,O=new ni(19),U=0;U<L.length;++U)++O[L[U]&31];for(var U=0;U<F.length;++U)++O[F[U]&31];for(var T=jx(O,7),W=T.t,I=T.l,B=19;B>4&&!W[Vv[B-1]];--B);var X=h+5<<3,Q=k0(n,Kd)+k0(i,cm)+l,ge=k0(n,y)+k0(i,j)+l+14+3*B+k0(O,W)+2*O[16]+3*O[17]+7*O[18];if(u>=0&&X<=Q&&X<=ge)return YN(e,g,t.subarray(u,u+h));var $,de,ie,ye;if(Rl(e,g,1+(ge<Q)),g+=2,ge<Q){$=D0(y,p,0),de=y,ie=D0(j,k,0),ye=j;var J=D0(W,I,0);Rl(e,g,E-257),Rl(e,g+5,se-1),Rl(e,g+10,B-4),g+=14;for(var U=0;U<B;++U)Rl(e,g+3*U,W[Vv[U]]);g+=3*B;for(var te=[L,F],P=0;P<2;++P)for(var Y=te[P],U=0;U<Y.length;++U){var G=Y[U]&31;Rl(e,g,J[G]),g+=W[G],G>15&&(Rl(e,g,Y[U]>>5&127),g+=Y[U]>>12)}}else $=LR,de=Kd,ie=ER,ye=cm;for(var U=0;U<d;++U){var ue=a[U];if(ue>255){var G=ue>>18&31;j0(e,g,$[G+257]),g+=de[G+257],G>7&&(Rl(e,g,ue>>23&31),g+=E2[G]);var re=ue&31;j0(e,g,ie[re]),g+=ye[re],re>3&&(j0(e,g,ue>>5&8191),g+=M2[re])}else j0(e,g,$[ue]),g+=de[ue]}return j0(e,g,$[256]),g+de[256]},RR=new L2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GN=new go(0),TR=function(t,e,r,a,n,i){var l=i.z||t.length,d=new go(a+l+5*(1+Math.ceil(l/7e3))+n),u=d.subarray(a,d.length-n),h=i.l,g=(i.r||0)&7;if(e){g&&(u[0]=i.r>>3);for(var x=RR[e-1],y=x>>13,p=x&8191,w=(1<<r)-1,j=i.p||new ni(32768),k=i.h||new ni(w+1),C=Math.ceil(r/3),L=2*C,E=function(ze){return(t[ze]^t[ze+1]<<C^t[ze+2]<<L)&w},D=new L2(25e3),F=new ni(288),se=new ni(32),O=0,U=0,T=i.i||0,W=0,I=i.w||0,B=0;T+2<l;++T){var X=E(T),Q=T&32767,ge=k[X];if(j[Q]=ge,k[X]=Q,I<=T){var $=l-T;if((O>7e3||W>24576)&&($>423||!h)){g=Yv(t,u,0,D,F,se,U,W,B,T-B,g),W=O=U=0,B=T;for(var de=0;de<286;++de)F[de]=0;for(var de=0;de<30;++de)se[de]=0}var ie=2,ye=0,J=p,te=Q-ge&32767;if($>2&&X==E(T-te))for(var P=Math.min(y,$)-1,Y=Math.min(32767,T),G=Math.min(258,$);te<=Y&&--J&&Q!=ge;){if(t[T+ie]==t[T+ie-te]){for(var ue=0;ue<G&&t[T+ue]==t[T+ue-te];++ue);if(ue>ie){if(ie=ue,ye=te,ue>P)break;for(var re=Math.min(te,ue-2),xe=0,de=0;de<re;++de){var je=T-te+de&32767,Se=j[je],Le=je-Se&32767;Le>xe&&(xe=Le,ge=je)}}}Q=ge,ge=j[Q],te+=Q-ge&32767}if(ye){D[W++]=268435456|R1[ie]<<18|$v[ye];var be=R1[ie]&31,Ge=$v[ye]&31;U+=E2[be]+M2[Ge],++F[257+be],++se[Ge],I=T+ie,++O}else D[W++]=t[T],++F[t[T]]}}for(T=Math.max(T,I);T<l;++T)D[W++]=t[T],++F[t[T]];g=Yv(t,u,h,D,F,se,U,W,B,T-B,g),h||(i.r=g&7|u[g/8|0]<<3,g-=7,i.h=k,i.p=j,i.i=T,i.w=I)}else{for(var T=i.w||0;T<l+h;T+=65535){var Ve=T+65535;Ve>=l&&(u[g/8|0]=h,Ve=l),g=YN(u,g+1,t.subarray(T,Ve))}i.i=l}return MR(d,0,a+WN(g)+n)},XN=function(){var t=1,e=0;return{p:function(r){for(var a=t,n=e,i=r.length|0,l=0;l!=i;){for(var d=Math.min(l+2655,i);l<d;++l)n+=a+=r[l];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}t=a,e=n},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},PR=function(t,e,r,a,n){if(!n&&(n={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),l=new go(i.length+t.length);l.set(i),l.set(t,i.length),t=l,n.w=i.length}return TR(t,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,a,n)},ZN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},DR=function(t,e){var r=e.level,a=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var n=XN();n.p(e.dictionary),ZN(t,2,n.d())}};function D1(t,e){e||(e={});var r=XN();r.p(t);var a=PR(t,e,e.dictionary?6:2,4);return DR(a,e),ZN(a,a.length-4,r.d()),a}var OR=typeof TextDecoder<"u"&&new TextDecoder,FR=0;try{OR.decode(GN,{stream:!0}),FR=1}catch{}function BR(t){if(Array.isArray(t))return t}function zR(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,d=[],u=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(a=i.call(r)).done)&&(d.push(a.value),d.length!==e);u=!0);}catch(g){h=!0,n=g}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw n}}return d}}function Gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function IR(t,e){if(t){if(typeof t=="string")return Gv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gv(t,e):void 0}}function UR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xv(t,e){return BR(t)||zR(t,e)||IR(t,e)||UR()}function Zv(t,e="utf8"){return new TextDecoder(e).decode(t)}const HR=new TextEncoder;function qR(t){return HR.encode(t)}const VR=1024*8,$R=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),kx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class R2{constructor(e=VR,r={}){Ke(this,"buffer");Ke(this,"byteLength");Ke(this,"byteOffset");Ke(this,"length");Ke(this,"offset");Ke(this,"lastWrittenByte");Ke(this,"littleEndian");Ke(this,"_data");Ke(this,"_mark");Ke(this,"_marks");let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const n=r.offset?r.offset>>>0:0,i=e.byteLength-n;let l=n;(ArrayBuffer.isView(e)||e instanceof R2)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+n),e=e.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const a=kx[r].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+a);if(this.littleEndian===$R&&r!=="uint8"&&r!=="int8"){const d=new Uint8Array(this.buffer.slice(n,n+a));d.reverse();const u=new kx[r](d.buffer);return this.offset+=a,u.reverse(),u}const l=new kx[r](i);return this.offset+=a,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let a=0;a<e;a++)r+=this.readChar();return r}readUtf8(e=1){return Zv(this.readBytes(e))}decodeText(e=1,r="utf8"){return Zv(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(qR(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _h(t){let e=t.length;for(;--e>=0;)t[e]=0}const WR=3,YR=258,QN=29,GR=256,XR=GR+1+QN,KN=30,ZR=512,QR=new Array((XR+2)*2);_h(QR);const KR=new Array(KN*2);_h(KR);const JR=new Array(ZR);_h(JR);const eT=new Array(YR-WR+1);_h(eT);const tT=new Array(QN);_h(tT);const rT=new Array(KN);_h(rT);const aT=(t,e,r,a)=>{let n=t&65535|0,i=t>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do n=n+e[a++]|0,i=i+n|0;while(--l);n%=65521,i%=65521}return n|i<<16|0};var O1=aT;const sT=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},nT=new Uint32Array(sT()),iT=(t,e,r,a)=>{const n=nT,i=a+r;t^=-1;for(let l=a;l<i;l++)t=t>>>8^n[(t^e[l])&255];return t^-1};var $o=iT,F1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},JN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oT=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var lT=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)oT(r,a)&&(t[a]=r[a])}}return t},cT=t=>{let e=0;for(let a=0,n=t.length;a<n;a++)e+=t[a].length;const r=new Uint8Array(e);for(let a=0,n=0,i=t.length;a<i;a++){let l=t[a];r.set(l,n),n+=l.length}return r},e6={assign:lT,flattenChunks:cT};let t6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t6=!1}const Y0=new Uint8Array(256);for(let t=0;t<256;t++)Y0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Y0[254]=Y0[254]=1;var dT=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,a,n,i,l=t.length,d=0;for(n=0;n<l;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<l&&(a=t.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(d),i=0,n=0;i<d;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<l&&(a=t.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const uT=(t,e)=>{if(e<65534&&t.subarray&&t6)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r};var hT=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,n;const i=new Array(r*2);for(n=0,a=0;a<r;){let l=t[a++];if(l<128){i[n++]=l;continue}let d=Y0[l];if(d>4){i[n++]=65533,a+=d-1;continue}for(l&=d===2?31:d===3?15:7;d>1&&a<r;)l=l<<6|t[a++]&63,d--;if(d>1){i[n++]=65533;continue}l<65536?i[n++]=l:(l-=65536,i[n++]=55296|l>>10&1023,i[n++]=56320|l&1023)}return uT(i,n)},fT=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Y0[t[r]]>e?r:e},B1={string2buf:dT,buf2string:hT,utf8border:fT};function gT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mT=gT;const bg=16209,pT=16191;var xT=function(e,r){let a,n,i,l,d,u,h,g,x,y,p,w,j,k,C,L,E,D,F,se,O,U,T,W;const I=e.state;a=e.next_in,T=e.input,n=a+(e.avail_in-5),i=e.next_out,W=e.output,l=i-(r-e.avail_out),d=i+(e.avail_out-257),u=I.dmax,h=I.wsize,g=I.whave,x=I.wnext,y=I.window,p=I.hold,w=I.bits,j=I.lencode,k=I.distcode,C=(1<<I.lenbits)-1,L=(1<<I.distbits)-1;e:do{w<15&&(p+=T[a++]<<w,w+=8,p+=T[a++]<<w,w+=8),E=j[p&C];t:for(;;){if(D=E>>>24,p>>>=D,w-=D,D=E>>>16&255,D===0)W[i++]=E&65535;else if(D&16){F=E&65535,D&=15,D&&(w<D&&(p+=T[a++]<<w,w+=8),F+=p&(1<<D)-1,p>>>=D,w-=D),w<15&&(p+=T[a++]<<w,w+=8,p+=T[a++]<<w,w+=8),E=k[p&L];r:for(;;){if(D=E>>>24,p>>>=D,w-=D,D=E>>>16&255,D&16){if(se=E&65535,D&=15,w<D&&(p+=T[a++]<<w,w+=8,w<D&&(p+=T[a++]<<w,w+=8)),se+=p&(1<<D)-1,se>u){e.msg="invalid distance too far back",I.mode=bg;break e}if(p>>>=D,w-=D,D=i-l,se>D){if(D=se-D,D>g&&I.sane){e.msg="invalid distance too far back",I.mode=bg;break e}if(O=0,U=y,x===0){if(O+=h-D,D<F){F-=D;do W[i++]=y[O++];while(--D);O=i-se,U=W}}else if(x<D){if(O+=h+x-D,D-=x,D<F){F-=D;do W[i++]=y[O++];while(--D);if(O=0,x<F){D=x,F-=D;do W[i++]=y[O++];while(--D);O=i-se,U=W}}}else if(O+=x-D,D<F){F-=D;do W[i++]=y[O++];while(--D);O=i-se,U=W}for(;F>2;)W[i++]=U[O++],W[i++]=U[O++],W[i++]=U[O++],F-=3;F&&(W[i++]=U[O++],F>1&&(W[i++]=U[O++]))}else{O=i-se;do W[i++]=W[O++],W[i++]=W[O++],W[i++]=W[O++],F-=3;while(F>2);F&&(W[i++]=W[O++],F>1&&(W[i++]=W[O++]))}}else if((D&64)===0){E=k[(E&65535)+(p&(1<<D)-1)];continue r}else{e.msg="invalid distance code",I.mode=bg;break e}break}}else if((D&64)===0){E=j[(E&65535)+(p&(1<<D)-1)];continue t}else if(D&32){I.mode=pT;break e}else{e.msg="invalid literal/length code",I.mode=bg;break e}break}}while(a<n&&i<d);F=w>>3,a-=F,w-=F<<3,p&=(1<<w)-1,e.next_in=a,e.next_out=i,e.avail_in=a<n?5+(n-a):5-(a-n),e.avail_out=i<d?257+(d-i):257-(i-d),I.hold=p,I.bits=w};const Gu=15,Qv=852,Kv=592,Jv=0,Sx=1,e4=2,bT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yT=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wT=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NT=(t,e,r,a,n,i,l,d)=>{const u=d.bits;let h=0,g=0,x=0,y=0,p=0,w=0,j=0,k=0,C=0,L=0,E,D,F,se,O,U=null,T;const W=new Uint16Array(Gu+1),I=new Uint16Array(Gu+1);let B=null,X,Q,ge;for(h=0;h<=Gu;h++)W[h]=0;for(g=0;g<a;g++)W[e[r+g]]++;for(p=u,y=Gu;y>=1&&W[y]===0;y--);if(p>y&&(p=y),y===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<y&&W[x]===0;x++);for(p<x&&(p=x),k=1,h=1;h<=Gu;h++)if(k<<=1,k-=W[h],k<0)return-1;if(k>0&&(t===Jv||y!==1))return-1;for(I[1]=0,h=1;h<Gu;h++)I[h+1]=I[h]+W[h];for(g=0;g<a;g++)e[r+g]!==0&&(l[I[e[r+g]]++]=g);if(t===Jv?(U=B=l,T=20):t===Sx?(U=bT,B=yT,T=257):(U=vT,B=wT,T=0),L=0,g=0,h=x,O=i,w=p,j=0,F=-1,C=1<<p,se=C-1,t===Sx&&C>Qv||t===e4&&C>Kv)return 1;for(;;){X=h-j,l[g]+1<T?(Q=0,ge=l[g]):l[g]>=T?(Q=B[l[g]-T],ge=U[l[g]-T]):(Q=96,ge=0),E=1<<h-j,D=1<<w,x=D;do D-=E,n[O+(L>>j)+D]=X<<24|Q<<16|ge|0;while(D!==0);for(E=1<<h-1;L&E;)E>>=1;if(E!==0?(L&=E-1,L+=E):L=0,g++,--W[h]===0){if(h===y)break;h=e[r+l[g]]}if(h>p&&(L&se)!==F){for(j===0&&(j=p),O+=x,w=h-j,k=1<<w;w+j<y&&(k-=W[w+j],!(k<=0));)w++,k<<=1;if(C+=1<<w,t===Sx&&C>Qv||t===e4&&C>Kv)return 1;F=L&se,n[F]=p<<24|w<<16|O-i|0}}return L!==0&&(n[O+L]=h-j<<24|64<<16|0),d.bits=p,0};var O0=NT;const jT=0,r6=1,a6=2,{Z_FINISH:t4,Z_BLOCK:kT,Z_TREES:yg,Z_OK:Jd,Z_STREAM_END:ST,Z_NEED_DICT:CT,Z_STREAM_ERROR:Oi,Z_DATA_ERROR:s6,Z_MEM_ERROR:n6,Z_BUF_ERROR:_T,Z_DEFLATED:r4}=JN,Em=16180,a4=16181,s4=16182,n4=16183,i4=16184,o4=16185,l4=16186,c4=16187,d4=16188,u4=16189,dm=16190,Tl=16191,Cx=16192,h4=16193,_x=16194,f4=16195,g4=16196,m4=16197,p4=16198,vg=16199,wg=16200,x4=16201,b4=16202,y4=16203,v4=16204,w4=16205,Ax=16206,N4=16207,j4=16208,fa=16209,i6=16210,o6=16211,AT=852,LT=592,ET=15,MT=ET,k4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function RT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const su=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Em||e.mode>o6?1:0},l6=t=>{if(su(t))return Oi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Em,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(AT),e.distcode=e.distdyn=new Int32Array(LT),e.sane=1,e.back=-1,Jd},c6=t=>{if(su(t))return Oi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,l6(t)},d6=(t,e)=>{let r;if(su(t))return Oi;const a=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Oi:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=r,a.wbits=e,c6(t))},u6=(t,e)=>{if(!t)return Oi;const r=new RT;t.state=r,r.strm=t,r.window=null,r.mode=Em;const a=d6(t,e);return a!==Jd&&(t.state=null),a},TT=t=>u6(t,MT);let S4=!0,Lx,Ex;const PT=t=>{if(S4){Lx=new Int32Array(512),Ex=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(O0(r6,t.lens,0,288,Lx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;O0(a6,t.lens,0,32,Ex,0,t.work,{bits:5}),S4=!1}t.lencode=Lx,t.lenbits=9,t.distcode=Ex,t.distbits=5},h6=(t,e,r,a)=>{let n;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>a&&(n=a),i.window.set(e.subarray(r-a,r-a+n),i.wnext),a-=n,a?(i.window.set(e.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},DT=(t,e)=>{let r,a,n,i,l,d,u,h,g,x,y,p,w,j,k=0,C,L,E,D,F,se,O,U;const T=new Uint8Array(4);let W,I;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(su(t)||!t.output||!t.input&&t.avail_in!==0)return Oi;r=t.state,r.mode===Tl&&(r.mode=Cx),l=t.next_out,n=t.output,u=t.avail_out,i=t.next_in,a=t.input,d=t.avail_in,h=r.hold,g=r.bits,x=d,y=u,U=Jd;e:for(;;)switch(r.mode){case Em:if(r.wrap===0){r.mode=Cx;break}for(;g<16;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=h&255,T[1]=h>>>8&255,r.check=$o(r.check,T,2,0),h=0,g=0,r.mode=a4;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=fa;break}if((h&15)!==r4){t.msg="unknown compression method",r.mode=fa;break}if(h>>>=4,g-=4,O=(h&15)+8,r.wbits===0&&(r.wbits=O),O>15||O>r.wbits){t.msg="invalid window size",r.mode=fa;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?u4:Tl,h=0,g=0;break;case a4:for(;g<16;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(r.flags=h,(r.flags&255)!==r4){t.msg="unknown compression method",r.mode=fa;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=fa;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(T[0]=h&255,T[1]=h>>>8&255,r.check=$o(r.check,T,2,0)),h=0,g=0,r.mode=s4;case s4:for(;g<32;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(T[0]=h&255,T[1]=h>>>8&255,T[2]=h>>>16&255,T[3]=h>>>24&255,r.check=$o(r.check,T,4,0)),h=0,g=0,r.mode=n4;case n4:for(;g<16;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(T[0]=h&255,T[1]=h>>>8&255,r.check=$o(r.check,T,2,0)),h=0,g=0,r.mode=i4;case i4:if(r.flags&1024){for(;g<16;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(T[0]=h&255,T[1]=h>>>8&255,r.check=$o(r.check,T,2,0)),h=0,g=0}else r.head&&(r.head.extra=null);r.mode=o4;case o4:if(r.flags&1024&&(p=r.length,p>d&&(p=d),p&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+p),O)),r.flags&512&&r.wrap&4&&(r.check=$o(r.check,a,p,i)),d-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=l4;case l4:if(r.flags&2048){if(d===0)break e;p=0;do O=a[i+p++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O));while(O&&p<d);if(r.flags&512&&r.wrap&4&&(r.check=$o(r.check,a,p,i)),d-=p,i+=p,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=c4;case c4:if(r.flags&4096){if(d===0)break e;p=0;do O=a[i+p++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O));while(O&&p<d);if(r.flags&512&&r.wrap&4&&(r.check=$o(r.check,a,p,i)),d-=p,i+=p,O)break e}else r.head&&(r.head.comment=null);r.mode=d4;case d4:if(r.flags&512){for(;g<16;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=fa;break}h=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Tl;break;case u4:for(;g<32;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}t.adler=r.check=k4(h),h=0,g=0,r.mode=dm;case dm:if(r.havedict===0)return t.next_out=l,t.avail_out=u,t.next_in=i,t.avail_in=d,r.hold=h,r.bits=g,CT;t.adler=r.check=1,r.mode=Tl;case Tl:if(e===kT||e===yg)break e;case Cx:if(r.last){h>>>=g&7,g-=g&7,r.mode=Ax;break}for(;g<3;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}switch(r.last=h&1,h>>>=1,g-=1,h&3){case 0:r.mode=h4;break;case 1:if(PT(r),r.mode=vg,e===yg){h>>>=2,g-=2;break e}break;case 2:r.mode=g4;break;case 3:t.msg="invalid block type",r.mode=fa}h>>>=2,g-=2;break;case h4:for(h>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=fa;break}if(r.length=h&65535,h=0,g=0,r.mode=_x,e===yg)break e;case _x:r.mode=f4;case f4:if(p=r.length,p){if(p>d&&(p=d),p>u&&(p=u),p===0)break e;n.set(a.subarray(i,i+p),l),d-=p,i+=p,u-=p,l+=p,r.length-=p;break}r.mode=Tl;break;case g4:for(;g<14;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(r.nlen=(h&31)+257,h>>>=5,g-=5,r.ndist=(h&31)+1,h>>>=5,g-=5,r.ncode=(h&15)+4,h>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=fa;break}r.have=0,r.mode=m4;case m4:for(;r.have<r.ncode;){for(;g<3;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}r.lens[B[r.have++]]=h&7,h>>>=3,g-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,W={bits:r.lenbits},U=O0(jT,r.lens,0,19,r.lencode,0,r.work,W),r.lenbits=W.bits,U){t.msg="invalid code lengths set",r.mode=fa;break}r.have=0,r.mode=p4;case p4:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[h&(1<<r.lenbits)-1],C=k>>>24,L=k>>>16&255,E=k&65535,!(C<=g);){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(E<16)h>>>=C,g-=C,r.lens[r.have++]=E;else{if(E===16){for(I=C+2;g<I;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(h>>>=C,g-=C,r.have===0){t.msg="invalid bit length repeat",r.mode=fa;break}O=r.lens[r.have-1],p=3+(h&3),h>>>=2,g-=2}else if(E===17){for(I=C+3;g<I;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}h>>>=C,g-=C,O=0,p=3+(h&7),h>>>=3,g-=3}else{for(I=C+7;g<I;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}h>>>=C,g-=C,O=0,p=11+(h&127),h>>>=7,g-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=fa;break}for(;p--;)r.lens[r.have++]=O}}if(r.mode===fa)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=fa;break}if(r.lenbits=9,W={bits:r.lenbits},U=O0(r6,r.lens,0,r.nlen,r.lencode,0,r.work,W),r.lenbits=W.bits,U){t.msg="invalid literal/lengths set",r.mode=fa;break}if(r.distbits=6,r.distcode=r.distdyn,W={bits:r.distbits},U=O0(a6,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,W),r.distbits=W.bits,U){t.msg="invalid distances set",r.mode=fa;break}if(r.mode=vg,e===yg)break e;case vg:r.mode=wg;case wg:if(d>=6&&u>=258){t.next_out=l,t.avail_out=u,t.next_in=i,t.avail_in=d,r.hold=h,r.bits=g,xT(t,y),l=t.next_out,n=t.output,u=t.avail_out,i=t.next_in,a=t.input,d=t.avail_in,h=r.hold,g=r.bits,r.mode===Tl&&(r.back=-1);break}for(r.back=0;k=r.lencode[h&(1<<r.lenbits)-1],C=k>>>24,L=k>>>16&255,E=k&65535,!(C<=g);){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(L&&(L&240)===0){for(D=C,F=L,se=E;k=r.lencode[se+((h&(1<<D+F)-1)>>D)],C=k>>>24,L=k>>>16&255,E=k&65535,!(D+C<=g);){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}h>>>=D,g-=D,r.back+=D}if(h>>>=C,g-=C,r.back+=C,r.length=E,L===0){r.mode=w4;break}if(L&32){r.back=-1,r.mode=Tl;break}if(L&64){t.msg="invalid literal/length code",r.mode=fa;break}r.extra=L&15,r.mode=x4;case x4:if(r.extra){for(I=r.extra;g<I;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=b4;case b4:for(;k=r.distcode[h&(1<<r.distbits)-1],C=k>>>24,L=k>>>16&255,E=k&65535,!(C<=g);){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if((L&240)===0){for(D=C,F=L,se=E;k=r.distcode[se+((h&(1<<D+F)-1)>>D)],C=k>>>24,L=k>>>16&255,E=k&65535,!(D+C<=g);){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}h>>>=D,g-=D,r.back+=D}if(h>>>=C,g-=C,r.back+=C,L&64){t.msg="invalid distance code",r.mode=fa;break}r.offset=E,r.extra=L&15,r.mode=y4;case y4:if(r.extra){for(I=r.extra;g<I;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=fa;break}r.mode=v4;case v4:if(u===0)break e;if(p=y-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=fa;break}p>r.wnext?(p-=r.wnext,w=r.wsize-p):w=r.wnext-p,p>r.length&&(p=r.length),j=r.window}else j=n,w=l-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do n[l++]=j[w++];while(--p);r.length===0&&(r.mode=wg);break;case w4:if(u===0)break e;n[l++]=r.length,u--,r.mode=wg;break;case Ax:if(r.wrap){for(;g<32;){if(d===0)break e;d--,h|=a[i++]<<g,g+=8}if(y-=u,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?$o(r.check,n,y,l-y):O1(r.check,n,y,l-y)),y=u,r.wrap&4&&(r.flags?h:k4(h))!==r.check){t.msg="incorrect data check",r.mode=fa;break}h=0,g=0}r.mode=N4;case N4:if(r.wrap&&r.flags){for(;g<32;){if(d===0)break e;d--,h+=a[i++]<<g,g+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=fa;break}h=0,g=0}r.mode=j4;case j4:U=ST;break e;case fa:U=s6;break e;case i6:return n6;case o6:default:return Oi}return t.next_out=l,t.avail_out=u,t.next_in=i,t.avail_in=d,r.hold=h,r.bits=g,(r.wsize||y!==t.avail_out&&r.mode<fa&&(r.mode<Ax||e!==t4))&&h6(t,t.output,t.next_out,y-t.avail_out),x-=t.avail_in,y-=t.avail_out,t.total_in+=x,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?$o(r.check,n,y,t.next_out-y):O1(r.check,n,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Tl?128:0)+(r.mode===vg||r.mode===_x?256:0),(x===0&&y===0||e===t4)&&U===Jd&&(U=_T),U},OT=t=>{if(su(t))return Oi;let e=t.state;return e.window&&(e.window=null),t.state=null,Jd},FT=(t,e)=>{if(su(t))return Oi;const r=t.state;return(r.wrap&2)===0?Oi:(r.head=e,e.done=!1,Jd)},BT=(t,e)=>{const r=e.length;let a,n,i;return su(t)||(a=t.state,a.wrap!==0&&a.mode!==dm)?Oi:a.mode===dm&&(n=1,n=O1(n,e,r,0),n!==a.check)?s6:(i=h6(t,e,r,r),i?(a.mode=i6,n6):(a.havedict=1,Jd))};var zT=c6,IT=d6,UT=l6,HT=TT,qT=u6,VT=DT,$T=OT,WT=FT,YT=BT,GT="pako inflate (from Nodeca project)",Il={inflateReset:zT,inflateReset2:IT,inflateResetKeep:UT,inflateInit:HT,inflateInit2:qT,inflate:VT,inflateEnd:$T,inflateGetHeader:WT,inflateSetDictionary:YT,inflateInfo:GT};function XT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ZT=XT;const f6=Object.prototype.toString,{Z_NO_FLUSH:QT,Z_FINISH:KT,Z_OK:G0,Z_STREAM_END:Mx,Z_NEED_DICT:Rx,Z_STREAM_ERROR:JT,Z_DATA_ERROR:C4,Z_MEM_ERROR:eP}=JN;function nf(t){this.options=e6.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mT,this.strm.avail_out=0;let r=Il.inflateInit2(this.strm,e.windowBits);if(r!==G0)throw new Error(F1[r]);if(this.header=new ZT,Il.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=B1.string2buf(e.dictionary):f6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Il.inflateSetDictionary(this.strm,e.dictionary),r!==G0)))throw new Error(F1[r])}nf.prototype.push=function(t,e){const r=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let i,l,d;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?KT:QT,f6.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=Il.inflate(r,l),i===Rx&&n&&(i=Il.inflateSetDictionary(r,n),i===G0?i=Il.inflate(r,l):i===C4&&(i=Rx));r.avail_in>0&&i===Mx&&r.state.wrap>0&&t[r.next_in]!==0;)Il.inflateReset(r),i=Il.inflate(r,l);switch(i){case JT:case C4:case Rx:case eP:return this.onEnd(i),this.ended=!0,!1}if(d=r.avail_out,r.next_out&&(r.avail_out===0||i===Mx))if(this.options.to==="string"){let u=B1.utf8border(r.output,r.next_out),h=r.next_out-u,g=B1.buf2string(r.output,u);r.next_out=h,r.avail_out=a-h,h&&r.output.set(r.output.subarray(u,u+h),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===G0&&d===0)){if(i===Mx)return i=Il.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};nf.prototype.onData=function(t){this.chunks.push(t)};nf.prototype.onEnd=function(t){t===G0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e6.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function tP(t,e){const r=new nf(e);if(r.push(t),r.err)throw r.msg||F1[r.err];return r.result}var rP=nf,aP=tP,sP={Inflate:rP,inflate:aP};const{Inflate:nP,inflate:iP}=sP;var _4=nP,oP=iP;const g6=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;g6[t]=e}const A4=4294967295;function lP(t,e,r){let a=t;for(let n=0;n<r;n++)a=g6[(a^e[n])&255]^a>>>8;return a}function cP(t,e){return(lP(A4,t,e)^A4)>>>0}function L4(t,e,r){const a=t.readUint32(),n=cP(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(n!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${n}`)}function m6(t,e,r){for(let a=0;a<r;a++)e[a]=t[a]}function p6(t,e,r,a){let n=0;for(;n<a;n++)e[n]=t[n];for(;n<r;n++)e[n]=t[n]+e[n-a]&255}function x6(t,e,r,a){let n=0;if(r.length===0)for(;n<a;n++)e[n]=t[n];else for(;n<a;n++)e[n]=t[n]+r[n]&255}function b6(t,e,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)e[i]=t[i];for(;i<a;i++)e[i]=t[i]+(e[i-n]>>1)&255}else{for(;i<n;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<a;i++)e[i]=t[i]+(e[i-n]+r[i]>>1)&255}}function y6(t,e,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)e[i]=t[i];for(;i<a;i++)e[i]=t[i]+e[i-n]&255}else{for(;i<n;i++)e[i]=t[i]+r[i]&255;for(;i<a;i++)e[i]=t[i]+dP(e[i-n],r[i],r[i-n])&255}}function dP(t,e,r){const a=t+e-r,n=Math.abs(a-t),i=Math.abs(a-e),l=Math.abs(a-r);return n<=i&&n<=l?t:i<=l?e:r}function uP(t,e,r,a,n,i){switch(t){case 0:m6(e,r,n);break;case 1:p6(e,r,n,i);break;case 2:x6(e,r,a,n);break;case 3:b6(e,r,a,n,i);break;case 4:y6(e,r,a,n,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const hP=new Uint16Array([255]),fP=new Uint8Array(hP.buffer),gP=fP[0]===255;function mP(t){const{data:e,width:r,height:a,channels:n,depth:i}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(i/8)*n,u=new Uint8Array(a*r*d);let h=0;for(let g=0;g<7;g++){const x=l[g],y=Math.ceil((r-x.x)/x.xStep),p=Math.ceil((a-x.y)/x.yStep);if(y<=0||p<=0)continue;const w=y*d,j=new Uint8Array(w);for(let k=0;k<p;k++){const C=e[h++],L=e.subarray(h,h+w);h+=w;const E=new Uint8Array(w);uP(C,L,E,j,w,d),j.set(E);for(let D=0;D<y;D++){const F=x.x+D*x.xStep,se=x.y+k*x.yStep;if(!(F>=r||se>=a))for(let O=0;O<d;O++)u[(se*r+F)*d+O]=E[D*d+O]}}}if(i===16){const g=new Uint16Array(u.buffer);if(gP)for(let x=0;x<g.length;x++)g[x]=pP(g[x]);return g}else return u}function pP(t){return(t&255)<<8|t>>8&255}const xP=new Uint16Array([255]),bP=new Uint8Array(xP.buffer),yP=bP[0]===255,vP=new Uint8Array(0);function E4(t){const{data:e,width:r,height:a,channels:n,depth:i}=t,l=Math.ceil(i/8)*n,d=Math.ceil(i/8*n*r),u=new Uint8Array(a*d);let h=vP,g=0,x,y;for(let p=0;p<a;p++){switch(x=e.subarray(g+1,g+1+d),y=u.subarray(p*d,(p+1)*d),e[g]){case 0:m6(x,y,d);break;case 1:p6(x,y,d,l);break;case 2:x6(x,y,h,d);break;case 3:b6(x,y,h,d,l);break;case 4:y6(x,y,h,d,l);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}h=y,g+=d+1}if(i===16){const p=new Uint16Array(u.buffer);if(yP)for(let w=0;w<p.length;w++)p[w]=wP(p[w]);return p}else return u}function wP(t){return(t&255)<<8|t>>8&255}const Vg=Uint8Array.of(137,80,78,71,13,10,26,10);function M4(t){if(!NP(t.readBytes(Vg.length)))throw new Error("wrong PNG signature")}function NP(t){if(t.length<Vg.length)return!1;for(let e=0;e<Vg.length;e++)if(t[e]!==Vg[e])return!1;return!0}const jP="tEXt",kP=0,v6=new TextDecoder("latin1");function SP(t){if(_P(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const CP=/^[\u0000-\u00FF]*$/;function _P(t){if(!CP.test(t))throw new Error("invalid latin1 text")}function AP(t,e,r){const a=w6(e);t[a]=LP(e,r-a.length-1)}function w6(t){for(t.mark();t.readByte()!==kP;);const e=t.offset;t.reset();const r=v6.decode(t.readBytes(e-t.offset-1));return t.skip(1),SP(r),r}function LP(t,e){return v6.decode(t.readBytes(e))}const ai={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Tx={UNKNOWN:-1,DEFLATE:0},R4={UNKNOWN:-1,ADAPTIVE:0},Px={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ng={NONE:0,BACKGROUND:1,PREVIOUS:2},Dx={SOURCE:0,OVER:1};class EP extends R2{constructor(r,a={}){super(r);Ke(this,"_checkCrc");Ke(this,"_inflator");Ke(this,"_png");Ke(this,"_apng");Ke(this,"_end");Ke(this,"_hasPalette");Ke(this,"_palette");Ke(this,"_hasTransparency");Ke(this,"_transparency");Ke(this,"_compressionMethod");Ke(this,"_filterMethod");Ke(this,"_interlaceMethod");Ke(this,"_colorType");Ke(this,"_isAnimated");Ke(this,"_numberOfFrames");Ke(this,"_numberOfPlays");Ke(this,"_frames");Ke(this,"_writingDataChunks");const{checkCrc:n=!1}=a;this._checkCrc=n,this._inflator=new _4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Tx.UNKNOWN,this._filterMethod=R4.UNKNOWN,this._interlaceMethod=Px.UNKNOWN,this._colorType=ai.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(M4(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(M4(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const n=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case jP:AP(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?L4(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const n=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=n+r;break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?L4(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=MP(this.readUint8());const a=this.readUint8();this._colorType=a;let n;switch(a){case ai.GREYSCALE:n=1;break;case ai.TRUECOLOUR:n=3;break;case ai.INDEXED_COLOUR:n=1;break;case ai.GREYSCALE_ALPHA:n=2;break;case ai.TRUECOLOUR_ALPHA:n=4;break;case ai.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Tx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<a;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,n=this.offset+this.byteOffset;if(n+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ai.GREYSCALE:case ai.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case ai.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const n=this.readByte();this._palette[a].push(n)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case ai.UNKNOWN:case ai.GREYSCALE_ALPHA:case ai.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=w6(this),n=this.readUint8();if(n!==Tx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:oP(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),n=this.readByte();this._png.resolution={x:r,y:a,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(r);if(n){if(n.data=E4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)a.data=n.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(n,i,a),this.addFrameDataToCanvas(a,n)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,n){switch(r.disposeOp){case Ng.NONE:break;case Ng.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const d=(i*r.width+l)*this._png.channels;for(let u=0;u<this._png.channels;u++)n.data[d+u]=0}break;case Ng.PREVIOUS:n.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const n=1<<this._png.depth,i=(l,d)=>{const u=((l+a.yOffset)*this._png.width+a.xOffset+d)*this._png.channels,h=(l*a.width+d)*this._png.channels;return{index:u,frameIndex:h}};switch(a.blendOp){case Dx.SOURCE:for(let l=0;l<a.height;l++)for(let d=0;d<a.width;d++){const{index:u,frameIndex:h}=i(l,d);for(let g=0;g<this._png.channels;g++)r.data[u+g]=a.data[h+g]}break;case Dx.OVER:for(let l=0;l<a.height;l++)for(let d=0;d<a.width;d++){const{index:u,frameIndex:h}=i(l,d);for(let g=0;g<this._png.channels;g++){const x=a.data[h+this._png.channels-1]/n,y=g%(this._png.channels-1)===0?1:a.data[h+g],p=Math.floor(x*y+(1-x)*r.data[u+g]);r.data[u+g]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==R4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Px.NO_INTERLACE)this._png.data=E4({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Px.ADAM7)this._png.data=mP({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ng.NONE,blendOp:Dx.SOURCE,data:r}),this._inflator=new _4,this._writingDataChunks=!1}}function MP(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var T4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(T4||(T4={}));function RP(t,e){return new EP(t,e).decode()}var Ut=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Ox(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Wr={log:Ox,warn:function(t){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Ox.call(null,arguments))},error:function(t){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Ox(t))}};function Fx(t,e,r){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){Fd(a.response,e,r)},a.onerror=function(){Wr.error("could not download file")},a.send()}function P4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Fd=Ut.saveAs||((typeof window>"u"?"undefined":Br(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var a=Ut.URL||Ut.webkitURL,n=document.createElement("a");e=e||t.name||"download",n.download=e,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?P4(n.href)?Fx(t,e,r):jg(n,n.target="_blank"):jg(n)):(n.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){jg(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(P4(t))Fx(t,e,r);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){jg(a)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:Br(i)!=="object"&&(Wr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(t,r),e)}:function(t,e,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return Fx(t,e,r);var n=t.type==="application/octet-stream",i=/constructor/i.test(Ut.HTMLElement)||Ut.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&(typeof FileReader>"u"?"undefined":Br(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=g:location=g,a=null},d.readAsDataURL(t)}else{var u=Ut.URL||Ut.webkitURL,h=u.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function N6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,i=r[a].process,l=n.exec(t);l&&(e=i(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+d+u+h}}var $g=Ut.atob.bind(Ut),D4=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Bx(t,e){var r=t[0],a=t[1],n=t[2],i=t[3];r=rn(r,a,n,i,e[0],7,-680876936),i=rn(i,r,a,n,e[1],12,-389564586),n=rn(n,i,r,a,e[2],17,606105819),a=rn(a,n,i,r,e[3],22,-1044525330),r=rn(r,a,n,i,e[4],7,-176418897),i=rn(i,r,a,n,e[5],12,1200080426),n=rn(n,i,r,a,e[6],17,-1473231341),a=rn(a,n,i,r,e[7],22,-45705983),r=rn(r,a,n,i,e[8],7,1770035416),i=rn(i,r,a,n,e[9],12,-1958414417),n=rn(n,i,r,a,e[10],17,-42063),a=rn(a,n,i,r,e[11],22,-1990404162),r=rn(r,a,n,i,e[12],7,1804603682),i=rn(i,r,a,n,e[13],12,-40341101),n=rn(n,i,r,a,e[14],17,-1502002290),r=an(r,a=rn(a,n,i,r,e[15],22,1236535329),n,i,e[1],5,-165796510),i=an(i,r,a,n,e[6],9,-1069501632),n=an(n,i,r,a,e[11],14,643717713),a=an(a,n,i,r,e[0],20,-373897302),r=an(r,a,n,i,e[5],5,-701558691),i=an(i,r,a,n,e[10],9,38016083),n=an(n,i,r,a,e[15],14,-660478335),a=an(a,n,i,r,e[4],20,-405537848),r=an(r,a,n,i,e[9],5,568446438),i=an(i,r,a,n,e[14],9,-1019803690),n=an(n,i,r,a,e[3],14,-187363961),a=an(a,n,i,r,e[8],20,1163531501),r=an(r,a,n,i,e[13],5,-1444681467),i=an(i,r,a,n,e[2],9,-51403784),n=an(n,i,r,a,e[7],14,1735328473),r=sn(r,a=an(a,n,i,r,e[12],20,-1926607734),n,i,e[5],4,-378558),i=sn(i,r,a,n,e[8],11,-2022574463),n=sn(n,i,r,a,e[11],16,1839030562),a=sn(a,n,i,r,e[14],23,-35309556),r=sn(r,a,n,i,e[1],4,-1530992060),i=sn(i,r,a,n,e[4],11,1272893353),n=sn(n,i,r,a,e[7],16,-155497632),a=sn(a,n,i,r,e[10],23,-1094730640),r=sn(r,a,n,i,e[13],4,681279174),i=sn(i,r,a,n,e[0],11,-358537222),n=sn(n,i,r,a,e[3],16,-722521979),a=sn(a,n,i,r,e[6],23,76029189),r=sn(r,a,n,i,e[9],4,-640364487),i=sn(i,r,a,n,e[12],11,-421815835),n=sn(n,i,r,a,e[15],16,530742520),r=nn(r,a=sn(a,n,i,r,e[2],23,-995338651),n,i,e[0],6,-198630844),i=nn(i,r,a,n,e[7],10,1126891415),n=nn(n,i,r,a,e[14],15,-1416354905),a=nn(a,n,i,r,e[5],21,-57434055),r=nn(r,a,n,i,e[12],6,1700485571),i=nn(i,r,a,n,e[3],10,-1894986606),n=nn(n,i,r,a,e[10],15,-1051523),a=nn(a,n,i,r,e[1],21,-2054922799),r=nn(r,a,n,i,e[8],6,1873313359),i=nn(i,r,a,n,e[15],10,-30611744),n=nn(n,i,r,a,e[6],15,-1560198380),a=nn(a,n,i,r,e[13],21,1309151649),r=nn(r,a,n,i,e[4],6,-145523070),i=nn(i,r,a,n,e[11],10,-1120210379),n=nn(n,i,r,a,e[2],15,718787259),a=nn(a,n,i,r,e[9],21,-343485551),t[0]=$c(r,t[0]),t[1]=$c(a,t[1]),t[2]=$c(n,t[2]),t[3]=$c(i,t[3])}function Mm(t,e,r,a,n,i){return e=$c($c(e,t),$c(a,i)),$c(e<<n|e>>>32-n,r)}function rn(t,e,r,a,n,i,l){return Mm(e&r|~e&a,t,e,n,i,l)}function an(t,e,r,a,n,i,l){return Mm(e&a|r&~a,t,e,n,i,l)}function sn(t,e,r,a,n,i,l){return Mm(e^r^a,t,e,n,i,l)}function nn(t,e,r,a,n,i,l){return Mm(r^(e|~a),t,e,n,i,l)}function j6(t){var e,r=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Bx(a,TP(t.substring(e-64,e)));t=t.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(Bx(a,n),e=0;e<16;e++)n[e]=0;return n[14]=8*r,Bx(a,n),a}function TP(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var O4="0123456789abcdef".split("");function PP(t){for(var e="",r=0;r<4;r++)e+=O4[t>>8*r+4&15]+O4[t>>8*r&15];return e}function DP(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function z1(t){return j6(t).map(DP).join("")}var OP=(function(t){for(var e=0;e<t.length;e++)t[e]=PP(t[e]);return t.join("")})(j6("hello"))!="5d41402abc4b2a76b9719d911017c592";function $c(t,e){if(OP){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function I1(t,e){var r,a,n,i;if(t!==r){for(var l=(n=t,i=1+(256/t.length|0),new Array(i+1).join(n)),d=[],u=0;u<256;u++)d[u]=u;var h=0;for(u=0;u<256;u++){var g=d[u];h=(h+g+l.charCodeAt(u))%256,d[u]=d[h],d[h]=g}r=t,a=d}else d=a;var x=e.length,y=0,p=0,w="";for(u=0;u<x;u++)p=(p+(g=d[y=(y+1)%256]))%256,d[y]=d[p],d[p]=g,l=d[(d[y]+d[p])%256],w+=String.fromCharCode(e.charCodeAt(u)^l);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F4={print:4,modify:8,copy:16,"annot-forms":32};function Ju(t,e,r,a){this.v=1,this.r=2;var n=192;t.forEach(function(d){if(F4.perm!==void 0)throw new Error("Invalid permission: "+d);n+=F4[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^n)),this.encryptionKey=z1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=I1(this.encryptionKey,this.padding)}function eh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,a=0;a<r;a++){var n=t.charCodeAt(a);e+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):t[a]}return e}function B4(t){if(Br(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[a,!!n],i},this.unsubscribe=function(r){for(var a in e)if(e[a][r])return delete e[a][r],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in e[r]){var l=e[r][i];try{l[0].apply(t,a)}catch(d){Ut.console&&Wr.error("jsPDF PubSub Error",d.message,d)}l[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function um(t){if(!(this instanceof um))return new um(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function k6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Bd(t,e,r,a,n){if(!(this instanceof Bd))return new Bd(t,e,r,a,n);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,k6.call(this,a,n)}function rh(t,e,r,a,n){if(!(this instanceof rh))return new rh(t,e,r,a,n);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,k6.call(this,a,n)}function _t(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],l=[],d=1,u=16,h="S",g=null;Br(t=t||{})==="object"&&(r=t.orientation,a=t.unit||a,n=t.format||n,i=t.compress||t.compressPdf||i,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),h=t.defaultPathOperation||"S"),l=t.filters||(i===!0?["FlateEncode"]:l),a=a||"mm",r=(""+(r||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=B4;var w="1.3",j=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(_){w=_};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return k};var C=p.__private__.getPageFormat=function(_){return k[_]};n=n||"a4";var L="compat",E="advanced",D=L;function F(){this.saveGraphicsState(),V(new At(Dt,0,0,-Dt,0,cl()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),h="n",D=E}function se(){this.restoreGraphicsState(),h="S",D=L}var O=p.__private__.combineFontStyleAndFontWeight=function(_,q){if(_=="bold"&&q=="normal"||_=="bold"&&q==400||_=="normal"&&q=="italic"||_=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(_=q==400||q==="normal"?_==="italic"?"italic":"normal":q!=700&&q!=="bold"||_!=="normal"?(q==700?"bold":q)+""+_:"bold"),_};p.advancedAPI=function(_){var q=D===L;return q&&F.call(this),typeof _!="function"||(_(this),q&&se.call(this)),this},p.compatAPI=function(_){var q=D===E;return q&&se.call(this),typeof _!="function"||(_(this),q&&F.call(this)),this},p.isAdvancedAPI=function(){return D===E};var U,T=function(_){if(D!==E)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=p.roundToPrecision=p.__private__.roundToPrecision=function(_,q){var fe=e||q;if(isNaN(_)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(fe).replace(/0+$/,"")};U=p.hpf=p.__private__.hpf=typeof u=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return W(_,u)}:u==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return W(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return W(_,16)};var I=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return W(_,2)},B=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return W(_,3)},X=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return D===L?_*Dt:D===E?_:void 0},Q=function(_){return X((function(q){return D===L?cl()-q:D===E?q:void 0})(_))};p.__private__.setPrecision=p.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ge,$="00000000000000000000000000000000",de=p.__private__.getFileId=function(){return $},ie=p.__private__.setFileId=function(_){return $=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(ba=new Ju(g.userPermissions,g.userPassword,g.ownerPassword,$)),$};p.setFileId=function(_){return ie(_),this},p.getFileId=function(){return de()};var ye=p.__private__.convertDateToPDFDate=function(_){var q=_.getTimezoneOffset(),fe=q<0?"+":"-",ve=Math.floor(Math.abs(q/60)),Ee=Math.abs(q%60),$e=[fe,G(ve),"'",G(Ee),"'"].join("");return["D:",_.getFullYear(),G(_.getMonth()+1),G(_.getDate()),G(_.getHours()),G(_.getMinutes()),G(_.getSeconds()),$e].join("")},J=p.__private__.convertPDFDateToDate=function(_){var q=parseInt(_.substr(2,4),10),fe=parseInt(_.substr(6,2),10)-1,ve=parseInt(_.substr(8,2),10),Ee=parseInt(_.substr(10,2),10),$e=parseInt(_.substr(12,2),10),Qe=parseInt(_.substr(14,2),10);return new Date(q,fe,ve,Ee,$e,Qe,0)},te=p.__private__.setCreationDate=function(_){var q;if(_===void 0&&(_=new Date),_ instanceof Date)q=ye(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=_}return ge=q},P=p.__private__.getCreationDate=function(_){var q=ge;return _==="jsDate"&&(q=J(ge)),q};p.setCreationDate=function(_){return te(_),this},p.getCreationDate=function(_){return P(_)};var Y,G=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ue=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},re=0,xe=[],je=[],Se=0,Le=[],be=[],Ge=!1,Ve=je;p.__private__.setCustomOutputDestination=function(_){Ge=!0,Ve=_};var ze=function(_){Ge||(Ve=_)};p.__private__.resetCustomOutputDestination=function(){Ge=!1,Ve=je};var V=p.__private__.out=function(_){return _=_.toString(),Se+=_.length+1,Ve.push(_),Ve},Pe=p.__private__.write=function(_){return V(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},st=p.__private__.getArrayBuffer=function(_){for(var q=_.length,fe=new ArrayBuffer(q),ve=new Uint8Array(fe);q--;)ve[q]=_.charCodeAt(q);return fe},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return rt};var We=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return We=D===E?_/Dt:_,this};var ut,at=p.__private__.getFontSize=p.getFontSize=function(){return D===L?We:We*Dt},jt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return jt=_,this},p.__private__.getR2L=p.getR2L=function(){return jt};var pt,qt=p.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ut=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ut=_}else ut=parseInt(_,10)};p.__private__.getZoomMode=function(){return ut};var ar,Pt=p.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');pt=_};p.__private__.getPageMode=function(){return pt};var er=p.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');ar=_};p.__private__.getLayoutMode=function(){return ar},p.__private__.setDisplayMode=p.setDisplayMode=function(_,q,fe){return qt(_),er(q),Pt(fe),this};var Wt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(Object.keys(Wt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Wt[_]},p.__private__.getDocumentProperties=function(){return Wt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var q in Wt)Wt.hasOwnProperty(q)&&_[q]&&(Wt[q]=_[q]);return this},p.__private__.setDocumentProperty=function(_,q){if(Object.keys(Wt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Wt[_]=q};var xt,Dt,bt,qr,tr,Et={},Qt={},br=[],ht={},kr={},Rt={},zt={},Cr=null,Ht=0,kt=[],ur=new B4(p),fn=t.hotfixes||[],$a={},gn={},mn=[],At=function _(q,fe,ve,Ee,$e,Qe){if(!(this instanceof _))return new _(q,fe,ve,Ee,$e,Qe);isNaN(q)&&(q=1),isNaN(fe)&&(fe=0),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=1),isNaN($e)&&($e=0),isNaN(Qe)&&(Qe=0),this._matrix=[q,fe,ve,Ee,$e,Qe]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(_)},At.prototype.multiply=function(_){var q=_.sx*this.sx+_.shy*this.shx,fe=_.sx*this.shy+_.shy*this.sy,ve=_.shx*this.sx+_.sy*this.shx,Ee=_.shx*this.shy+_.sy*this.sy,$e=_.tx*this.sx+_.ty*this.shx+this.tx,Qe=_.tx*this.shy+_.ty*this.sy+this.ty;return new At(q,fe,ve,Ee,$e,Qe)},At.prototype.decompose=function(){var _=this.sx,q=this.shy,fe=this.shx,ve=this.sy,Ee=this.tx,$e=this.ty,Qe=Math.sqrt(_*_+q*q),mt=(_/=Qe)*fe+(q/=Qe)*ve;fe-=_*mt,ve-=q*mt;var St=Math.sqrt(fe*fe+ve*ve);return mt/=St,_*(ve/=St)<q*(fe/=St)&&(_=-_,q=-q,mt=-mt,Qe=-Qe),{scale:new At(Qe,0,0,St,0,0),translate:new At(1,0,0,1,Ee,$e),rotate:new At(_,q,-q,_,0,0),skew:new At(1,0,mt,1,0,0)}},At.prototype.toString=function(_){return this.join(" ")},At.prototype.inversed=function(){var _=this.sx,q=this.shy,fe=this.shx,ve=this.sy,Ee=this.tx,$e=this.ty,Qe=1/(_*ve-q*fe),mt=ve*Qe,St=-q*Qe,Ft=-fe*Qe,Yt=_*Qe;return new At(mt,St,Ft,Yt,-mt*Ee-Ft*$e,-St*Ee-Yt*$e)},At.prototype.applyToPoint=function(_){var q=_.x*this.sx+_.y*this.shx+this.tx,fe=_.x*this.shy+_.y*this.sy+this.ty;return new Hi(q,fe)},At.prototype.applyToRectangle=function(_){var q=this.applyToPoint(_),fe=this.applyToPoint(new Hi(_.x+_.w,_.y+_.h));return new ll(q.x,q.y,fe.x-q.x,fe.y-q.y)},At.prototype.clone=function(){var _=this.sx,q=this.shy,fe=this.shx,ve=this.sy,Ee=this.tx,$e=this.ty;return new At(_,q,fe,ve,Ee,$e)},p.Matrix=At;var ks=p.matrixMult=function(_,q){return q.multiply(_)},Hs=new At(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Hs;var Ss=function(_,q){if(!kr[_]){var fe=(q instanceof Bd?"Sh":"P")+(Object.keys(ht).length+1).toString(10);q.id=fe,kr[_]=fe,ht[fe]=q,ur.publish("addPattern",q)}};p.ShadingPattern=Bd,p.TilingPattern=rh,p.addShadingPattern=function(_,q){return T("addShadingPattern()"),Ss(_,q),this},p.beginTilingPattern=function(_){T("beginTilingPattern()"),qi(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,q){T("endTilingPattern()"),q.stream=be[Y].join(`
`),Ss(_,q),ur.publish("endTilingPattern",q),mn.pop().restore()};var Cs,zr=p.__private__.newObject=function(){var _=ra();return Oa(_,!0),_},ra=p.__private__.newObjectDeferred=function(){return re++,xe[re]=function(){return Se},re},Oa=function(_,q){return q=typeof q=="boolean"&&q,xe[_]=Se,q&&V(_+" 0 obj"),_},es=p.__private__.newAdditionalObject=function(){var _={objId:ra(),content:""};return Le.push(_),_},Vr=ra(),Tr=ra(),Wa=p.__private__.decodeColorString=function(_){var q=_.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var fe=parseFloat(q[0]);q=[fe,fe,fe,"r"]}for(var ve="#",Ee=0;Ee<3;Ee++)ve+=("0"+Math.floor(255*parseFloat(q[Ee])).toString(16)).slice(-2);return ve},ls=p.__private__.encodeColorString=function(_){var q;typeof _=="string"&&(_={ch1:_});var fe=_.ch1,ve=_.ch2,Ee=_.ch3,$e=_.ch4,Qe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var mt=new N6(fe);if(mt.ok)fe=mt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var St=parseInt(fe.substr(1),16);fe=St>>16&255,ve=St>>8&255,Ee=255&St}if(ve===void 0||$e===void 0&&fe===ve&&ve===Ee)q=typeof fe=="string"?fe+" "+Qe[0]:_.precision===2?I(fe/255)+" "+Qe[0]:B(fe/255)+" "+Qe[0];else if($e===void 0||Br($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",Qe[1]].join(" ");q=typeof fe=="string"?[fe,ve,Ee,Qe[1]].join(" "):_.precision===2?[I(fe/255),I(ve/255),I(Ee/255),Qe[1]].join(" "):[B(fe/255),B(ve/255),B(Ee/255),Qe[1]].join(" ")}else q=typeof fe=="string"?[fe,ve,Ee,$e,Qe[2]].join(" "):_.precision===2?[I(fe),I(ve),I(Ee),I($e),Qe[2]].join(" "):[B(fe),B(ve),B(Ee),B($e),Qe[2]].join(" ");return q},qs=p.__private__.getFilters=function(){return l},cs=p.__private__.putStream=function(_){var q=(_=_||{}).data||"",fe=_.filters||qs(),ve=_.alreadyAppliedFilters||[],Ee=_.addLength1||!1,$e=q.length,Qe=_.objectId,mt=function(Fa){return Fa};if(g!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(mt=ba.encryptor(Qe,0));var St={};fe===!0&&(fe=["FlateEncode"]);var Ft=_.additionalKeyValues||[],Yt=(St=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(q,fe):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(St.data.length!==0&&(Ft.push({key:"Length",value:St.data.length}),Ee===!0&&Ft.push({key:"Length1",value:$e})),Yt.length!=0)if(Yt.split("/").length-1==1)Ft.push({key:"Filter",value:Yt});else{Ft.push({key:"Filter",value:"["+Yt+"]"});for(var mr=0;mr<Ft.length;mr+=1)if(Ft[mr].key==="DecodeParms"){for(var sa=[],_a=0;_a<St.reverseChain.split("/").length-1;_a+=1)sa.push("null");sa.push(Ft[mr].value),Ft[mr].value="["+sa.join(" ")+"]"}}V("<<");for(var Ir=0;Ir<Ft.length;Ir++)V("/"+Ft[Ir].key+" "+Ft[Ir].value);V(">>"),St.data.length!==0&&(V("stream"),V(mt(St.data)),V("endstream"))},ds=p.__private__.putPage=function(_){var q=_.number,fe=_.data,ve=_.objId,Ee=_.contentsObjId;Oa(ve,!0),V("<</Type /Page"),V("/Parent "+_.rootDictionaryObjId+" 0 R"),V("/Resources "+_.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(U(_.mediaBox.bottomLeftX))+" "+parseFloat(U(_.mediaBox.bottomLeftY))+" "+U(_.mediaBox.topRightX)+" "+U(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&V("/CropBox ["+U(_.cropBox.bottomLeftX)+" "+U(_.cropBox.bottomLeftY)+" "+U(_.cropBox.topRightX)+" "+U(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&V("/BleedBox ["+U(_.bleedBox.bottomLeftX)+" "+U(_.bleedBox.bottomLeftY)+" "+U(_.bleedBox.topRightX)+" "+U(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&V("/TrimBox ["+U(_.trimBox.bottomLeftX)+" "+U(_.trimBox.bottomLeftY)+" "+U(_.trimBox.topRightX)+" "+U(_.trimBox.topRightY)+"]"),_.artBox!==null&&V("/ArtBox ["+U(_.artBox.bottomLeftX)+" "+U(_.artBox.bottomLeftY)+" "+U(_.artBox.topRightX)+" "+U(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&V("/UserUnit "+_.userUnit),ur.publish("putPage",{objId:ve,pageContext:kt[q],pageNumber:q,page:fe}),V("/Contents "+Ee+" 0 R"),V(">>"),V("endobj");var $e=fe.join(`
`);return D===E&&($e+=`
Q`),Oa(Ee,!0),cs({data:$e,filters:qs(),objectId:Ee}),V("endobj"),ve},Sa=p.__private__.putPages=function(){var _,q,fe=[];for(_=1;_<=Ht;_++)kt[_].objId=ra(),kt[_].contentsObjId=ra();for(_=1;_<=Ht;_++)fe.push(ds({number:_,data:be[_],objId:kt[_].objId,contentsObjId:kt[_].contentsObjId,mediaBox:kt[_].mediaBox,cropBox:kt[_].cropBox,bleedBox:kt[_].bleedBox,trimBox:kt[_].trimBox,artBox:kt[_].artBox,userUnit:kt[_].userUnit,rootDictionaryObjId:Vr,resourceDictionaryObjId:Tr}));Oa(Vr,!0),V("<</Type /Pages");var ve="/Kids [";for(q=0;q<Ht;q++)ve+=fe[q]+" 0 R ";V(ve+"]"),V("/Count "+Ht),V(">>"),V("endobj"),ur.publish("postPutPages")},_s=function(_){ur.publish("putFont",{font:_,out:V,newObject:zr,putStream:cs}),_.isAlreadyPutted!==!0&&(_.objectNumber=zr(),V("<<"),V("/Type /Font"),V("/BaseFont /"+eh(_.postScriptName)),V("/Subtype /Type1"),typeof _.encoding=="string"&&V("/Encoding /"+_.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},ts=function(_){_.objectNumber=zr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[U(_.x),U(_.y),U(_.x+_.width),U(_.y+_.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var fe=_.pages[1].join(`
`);cs({data:fe,additionalKeyValues:q,objectId:_.objectNumber}),V("endobj")},As=function(_,q){q||(q=21);var fe=zr(),ve=(function(Qe,mt){var St,Ft=[],Yt=1/(mt-1);for(St=0;St<1;St+=Yt)Ft.push(St);if(Ft.push(1),Qe[0].offset!=0){var mr={offset:0,color:Qe[0].color};Qe.unshift(mr)}if(Qe[Qe.length-1].offset!=1){var sa={offset:1,color:Qe[Qe.length-1].color};Qe.push(sa)}for(var _a="",Ir=0,Fa=0;Fa<Ft.length;Fa++){for(St=Ft[Fa];St>Qe[Ir+1].offset;)Ir++;var Aa=Qe[Ir].offset,as=(St-Aa)/(Qe[Ir+1].offset-Aa),$i=Qe[Ir].color,qn=Qe[Ir+1].color;_a+=ue(Math.round((1-as)*$i[0]+as*qn[0]).toString(16))+ue(Math.round((1-as)*$i[1]+as*qn[1]).toString(16))+ue(Math.round((1-as)*$i[2]+as*qn[2]).toString(16))}return _a.trim()})(_.colors,q),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+q+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cs({data:ve,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),V("endobj"),_.objectNumber=zr(),V("<< /ShadingType "+_.type),V("/ColorSpace /DeviceRGB");var $e="/Coords ["+U(parseFloat(_.coords[0]))+" "+U(parseFloat(_.coords[1]))+" ";_.type===2?$e+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3])):$e+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3]))+" "+U(parseFloat(_.coords[4]))+" "+U(parseFloat(_.coords[5])),V($e+="]"),_.matrix&&V("/Matrix ["+_.matrix.toString()+"]"),V("/Function "+fe+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},wn=function(_,q){var fe=ra(),ve=zr();q.push({resourcesOid:fe,objectOid:ve}),_.objectNumber=ve;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+_.boundingBox.map(U).join(" ")+"]"}),Ee.push({key:"XStep",value:U(_.xStep)}),Ee.push({key:"YStep",value:U(_.yStep)}),Ee.push({key:"Resources",value:fe+" 0 R"}),_.matrix&&Ee.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),cs({data:_.stream,additionalKeyValues:Ee,objectId:_.objectNumber}),V("endobj")},ii=function(_){for(var q in _.objectNumber=zr(),V("<<"),_)switch(q){case"opacity":V("/ca "+I(_[q]));break;case"stroke-opacity":V("/CA "+I(_[q]))}V(">>"),V("endobj")},Pr=function(_){Oa(_.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in V("/Font <<"),Et)Et.hasOwnProperty(q)&&(x===!1||x===!0&&y.hasOwnProperty(q))&&V("/"+q+" "+Et[q].objectNumber+" 0 R");V(">>")})(),(function(){if(Object.keys(ht).length>0){for(var q in V("/Shading <<"),ht)ht.hasOwnProperty(q)&&ht[q]instanceof Bd&&ht[q].objectNumber>=0&&V("/"+q+" "+ht[q].objectNumber+" 0 R");ur.publish("putShadingPatternDict"),V(">>")}})(),(function(q){if(Object.keys(ht).length>0){for(var fe in V("/Pattern <<"),ht)ht.hasOwnProperty(fe)&&ht[fe]instanceof p.TilingPattern&&ht[fe].objectNumber>=0&&ht[fe].objectNumber<q&&V("/"+fe+" "+ht[fe].objectNumber+" 0 R");ur.publish("putTilingPatternDict"),V(">>")}})(_.objectOid),(function(){if(Object.keys(Rt).length>0){var q;for(q in V("/ExtGState <<"),Rt)Rt.hasOwnProperty(q)&&Rt[q].objectNumber>=0&&V("/"+q+" "+Rt[q].objectNumber+" 0 R");ur.publish("putGStateDict"),V(">>")}})(),(function(){for(var q in V("/XObject <<"),$a)$a.hasOwnProperty(q)&&$a[q].objectNumber>=0&&V("/"+q+" "+$a[q].objectNumber+" 0 R");ur.publish("putXobjectDict"),V(">>")})(),V(">>"),V("endobj")},Ya=function(_){Qt[_.fontName]=Qt[_.fontName]||{},Qt[_.fontName][_.fontStyle]=_.id},Nn=function(_,q,fe,ve,Ee){var $e={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:_,fontName:q,fontStyle:fe,encoding:ve,isStandardFont:Ee||!1,metadata:{}};return ur.publish("addFont",{font:$e,instance:this}),Et[$e.id]=$e,Ya($e),$e.id},Dr=p.__private__.pdfEscape=p.pdfEscape=function(_,q){return(function(fe,ve){var Ee,$e,Qe,mt,St,Ft,Yt,mr,sa;if(Qe=(ve=ve||{}).sourceEncoding||"Unicode",St=ve.outputEncoding,(ve.autoencode||St)&&Et[xt].metadata&&Et[xt].metadata[Qe]&&Et[xt].metadata[Qe].encoding&&(mt=Et[xt].metadata[Qe].encoding,!St&&Et[xt].encoding&&(St=Et[xt].encoding),!St&&mt.codePages&&(St=mt.codePages[0]),typeof St=="string"&&(St=mt[St]),St)){for(Yt=!1,Ft=[],Ee=0,$e=fe.length;Ee<$e;Ee++)(mr=St[fe.charCodeAt(Ee)])?Ft.push(String.fromCharCode(mr)):Ft.push(fe[Ee]),Ft[Ee].charCodeAt(0)>>8&&(Yt=!0);fe=Ft.join("")}for(Ee=fe.length;Yt===void 0&&Ee!==0;)fe.charCodeAt(Ee-1)>>8&&(Yt=!0),Ee--;if(!Yt)return fe;for(Ft=ve.noBOM?[]:[254,255],Ee=0,$e=fe.length;Ee<$e;Ee++){if((sa=(mr=fe.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(sa),Ft.push(mr-(sa<<8))}return String.fromCharCode.apply(void 0,Ft)})(_,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ca=p.__private__.beginPage=function(_){be[++Ht]=[],kt[Ht]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ls(Ht),ze(be[Y])},Ga=function(_,q){var fe,ve,Ee;switch(r=q||r,typeof _=="string"&&(fe=C(_.toLowerCase()),Array.isArray(fe)&&(ve=fe[0],Ee=fe[1])),Array.isArray(_)&&(ve=_[0]*Dt,Ee=_[1]*Dt),isNaN(ve)&&(ve=n[0],Ee=n[1]),(ve>14400||Ee>14400)&&(Wr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ee=Math.min(14400,Ee)),n=[ve,Ee],r.substr(0,1)){case"l":Ee>ve&&(n=[Ee,ve]);break;case"p":ve>Ee&&(n=[Ee,ve])}Ca(n),Ot(ci),V(Ui),Un!==0&&V(Un+" J"),wo!==0&&V(wo+" j"),ur.publish("addPage",{pageNumber:Ht})},us=function(_){_>0&&_<=Ht&&(be.splice(_,1),kt.splice(_,1),Ht--,Y>Ht&&(Y=Ht),this.setPage(Y))},Ls=function(_){_>0&&_<=Ht&&(Y=_)},yo=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return be.length-1},sl=function(_,q,fe){var ve,Ee=void 0;return fe=fe||{},_=_!==void 0?_:Et[xt].fontName,q=q!==void 0?q:Et[xt].fontStyle,ve=_.toLowerCase(),Qt[ve]!==void 0&&Qt[ve][q]!==void 0?Ee=Qt[ve][q]:Qt[_]!==void 0&&Qt[_][q]!==void 0?Ee=Qt[_][q]:fe.disableWarning===!1&&Wr.warn("Unable to look up font label for font '"+_+"', '"+q+"'. Refer to getFontList() for available fonts."),Ee||fe.noFallback||(Ee=Qt.times[q])==null&&(Ee=Qt.times.normal),Ee},Xa=p.__private__.putInfo=function(){var _=zr(),q=function(ve){return ve};for(var fe in g!==null&&(q=ba.encryptor(_,0)),V("<<"),V("/Producer ("+Dr(q("jsPDF "+_t.version))+")"),Wt)Wt.hasOwnProperty(fe)&&Wt[fe]&&V("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Dr(q(Wt[fe]))+")");V("/CreationDate ("+Dr(q(ge))+")"),V(">>"),V("endobj")},xa=p.__private__.putCatalog=function(_){var q=(_=_||{}).rootDictionaryObjId||Vr;switch(zr(),V("<<"),V("/Type /Catalog"),V("/Pages "+q+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+ut;fe.substr(fe.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&V("/OpenAction [3 0 R /XYZ null null "+I(ut)+"]")}switch(ar||(ar="continuous"),ar){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}pt&&V("/PageMode /"+pt),ur.publish("putCatalog"),V(">>"),V("endobj")},hs=p.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(re+1)),V("/Root "+re+" 0 R"),V("/Info "+(re-1)+" 0 R"),g!==null&&V("/Encrypt "+ba.oid+" 0 R"),V("/ID [ <"+$+"> <"+$+"> ]"),V(">>")},hr=p.__private__.putHeader=function(){V("%PDF-"+w),V("%")},zi=p.__private__.putXRef=function(){var _="0000000000";V("xref"),V("0 "+(re+1)),V("0000000000 65535 f ");for(var q=1;q<=re;q++)typeof xe[q]=="function"?V((_+xe[q]()).slice(-10)+" 00000 n "):xe[q]!==void 0?V((_+xe[q]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Vs=p.__private__.buildDocument=function(){var _;re=0,Se=0,je=[],xe=[],Le=[],Vr=ra(),Tr=ra(),ze(je),ur.publish("buildDocument"),hr(),Sa(),(function(){ur.publish("putAdditionalObjects");for(var fe=0;fe<Le.length;fe++){var ve=Le[fe];Oa(ve.objId,!0),V(ve.content),V("endobj")}ur.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var fe in Et)Et.hasOwnProperty(fe)&&(x===!1||x===!0&&y.hasOwnProperty(fe))&&_s(Et[fe])})(),(function(){var fe;for(fe in Rt)Rt.hasOwnProperty(fe)&&ii(Rt[fe])})(),(function(){for(var fe in $a)$a.hasOwnProperty(fe)&&ts($a[fe])})(),(function(fe){var ve;for(ve in ht)ht.hasOwnProperty(ve)&&(ht[ve]instanceof Bd?As(ht[ve]):ht[ve]instanceof rh&&wn(ht[ve],fe))})(_),ur.publish("putResources"),_.forEach(Pr),Pr({resourcesOid:Tr,objectOid:Number.MAX_SAFE_INTEGER}),ur.publish("postPutResources"),g!==null&&(ba.oid=zr(),V("<<"),V("/Filter /Standard"),V("/V "+ba.v),V("/R "+ba.r),V("/U <"+ba.toHexString(ba.U)+">"),V("/O <"+ba.toHexString(ba.O)+">"),V("/P "+ba.P),V(">>"),V("endobj")),Xa(),xa();var q=Se;return zi(),hs(),V("startxref"),V(""+q),V("%%EOF"),ze(be[Y]),je.join(`
`)},pn=p.__private__.getBlob=function(_){return new Blob([st(_)],{type:"application/pdf"})},oi=p.output=p.__private__.output=(Cs=function(_,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",_){case void 0:return Vs();case"save":p.save(q.filename);break;case"arraybuffer":return st(Vs());case"blob":return pn(Vs());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(pn(Vs()))||void 0;Wr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ve=Vs();try{fe=D4(ve)}catch{fe=D4(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+q.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Ee=q.pdfObjectUrl,$e="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",mt=Ut.open();return mt!==null&&mt.document.write(Qe),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Ft=Ut.open();if(Ft!==null){Ft.document.write(St);var Yt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=q.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',sa=Ut.open();if(sa!==null&&(sa.document.write(mr),sa.document.title=q.filename),sa||typeof safari>"u")return sa;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",q);default:return null}},Cs.foo=function(){try{return Cs.apply(this,arguments)}catch(fe){var _=fe.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var q="Error in function "+_.split(`
`)[0].split("<")[0]+": "+fe.message;if(!Ut.console)throw new Error(q);Ut.console.error(q,fe),Ut.alert&&alert(q)}},Cs.foo.bar=Cs,Cs.foo),Yr=function(_){return Array.isArray(fn)===!0&&fn.indexOf(_)>-1};switch(a){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=Yr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Dt=a}var ba=null;te(),ie();var aa=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:kt[_].objId,pageNumber:_,pageContext:kt[_]}},li=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in kt)if(kt[q].objId===_)break;return aa(q)},nl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:kt[Y].objId,pageNumber:Y,pageContext:kt[Y]}};p.addPage=function(){return Ga.apply(this,arguments),this},p.setPage=function(){return Ls.apply(this,arguments),ze.call(this,be[Y]),this},p.insertPage=function(_){return this.addPage(),this.movePage(Y,_),this},p.movePage=function(_,q){var fe,ve;if(_>q){fe=be[_],ve=kt[_];for(var Ee=_;Ee>q;Ee--)be[Ee]=be[Ee-1],kt[Ee]=kt[Ee-1];be[q]=fe,kt[q]=ve,this.setPage(q)}else if(_<q){fe=be[_],ve=kt[_];for(var $e=_;$e<q;$e++)be[$e]=be[$e+1],kt[$e]=kt[$e+1];be[q]=fe,kt[q]=ve,this.setPage(q)}return this},p.deletePage=function(){return us.apply(this,arguments),this},p.__private__.text=p.text=function(_,q,fe,ve,Ee){var $e,Qe,mt,St,Ft,Yt,mr,sa,_a,Ir=(ve=ve||{}).scope||this;if(typeof _=="number"&&typeof q=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Fa=fe;fe=q,q=_,_=Fa}if(arguments[3]instanceof At==0?(mt=arguments[4],St=arguments[5],Br(mr=arguments[3])==="object"&&mr!==null||(typeof mt=="string"&&(St=mt,mt=null),typeof mr=="string"&&(St=mr,mr=null),typeof mr=="number"&&(mt=mr,mr=null),ve={flags:mr,angle:mt,align:St})):(T("The transform parameter of text() with a Matrix value"),_a=Ee),isNaN(q)||isNaN(fe)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Ir;var Aa,as="",$i=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Ii,qn=Ir.internal.scaleFactor;function Wi(ir){return ir=ir.split("	").join(Array(ve.TabLen||9).join(" ")),Dr(ir,mr)}function dl(ir){for(var vr,na=ir.concat(),La=[],Rs=na.length;Rs--;)typeof(vr=na.shift())=="string"?La.push(vr):Array.isArray(ir)&&(vr.length===1||vr[1]===void 0&&vr[2]===void 0)?La.push(vr[0]):La.push([vr[0],vr[1],vr[2]]);return La}function gi(ir,vr){var na;if(typeof ir=="string")na=vr(ir)[0];else if(Array.isArray(ir)){for(var La,Rs,dc=ir.concat(),fl=[],ad=dc.length;ad--;)typeof(La=dc.shift())=="string"?fl.push(vr(La)[0]):Array.isArray(La)&&typeof La[0]=="string"&&(Rs=vr(La[0],La[1],La[2]),fl.push([Rs[0],Rs[1],Rs[2]]));na=fl}return na}var ko=!1,So=!0;if(typeof _=="string")ko=!0;else if(Array.isArray(_)){var Co=_.concat();Qe=[];for(var Yi,Za=Co.length;Za--;)(typeof(Yi=Co.shift())!="string"||Array.isArray(Yi)&&typeof Yi[0]!="string")&&(So=!1);ko=So}if(ko===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var _o=We/Ir.internal.scaleFactor,jn=_o*($i-1);switch(ve.baseline){case"bottom":fe-=jn;break;case"top":fe+=_o-jn;break;case"hanging":fe+=_o-2*jn;break;case"middle":fe+=_o/2-jn}if((Yt=ve.maxWidth||0)>0&&(typeof _=="string"?_=Ir.splitTextToSize(_,Yt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(ir,vr){return ir.concat(Ir.splitTextToSize(vr,Yt))},[]))),$e={text:_,x:q,y:fe,options:ve,mutex:{pdfEscape:Dr,activeFontKey:xt,fonts:Et,activeFontSize:We}},ur.publish("preProcessText",$e),_=$e.text,mt=(ve=$e.options).angle,_a instanceof At==0&&mt&&typeof mt=="number"){mt*=Math.PI/180,ve.rotationDirection===0&&(mt=-mt),D===E&&(mt=-mt);var ed=Math.cos(mt),td=Math.sin(mt);_a=new At(ed,td,-td,ed,0,0)}else mt&&mt instanceof At&&(_a=mt);D!==E||_a||(_a=Hs),(Ft=ve.charSpace||hi)!==void 0&&(as+=U(X(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sa=ve.horizontalScale)!==void 0&&(as+=U(100*sa)+` Tz
`),ve.lang;var Es=-1,mi=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,ul=Ir.internal.getCurrentPageInfo().pageContext;switch(mi){case 0:case!1:case"fill":Es=0;break;case 1:case!0:case"stroke":Es=1;break;case 2:case"fillThenStroke":Es=2;break;case 3:case"invisible":Es=3;break;case 4:case"fillAndAddForClipping":Es=4;break;case 5:case"strokeAndAddPathForClipping":Es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Es=6;break;case 7:case"addToPathForClipping":Es=7}var Ao=ul.usedRenderingMode!==void 0?ul.usedRenderingMode:-1;Es!==-1?as+=Es+` Tr
`:Ao!==-1&&(as+=`0 Tr
`),Es!==-1&&(ul.usedRenderingMode=Es),St=ve.align||"left";var ms,hl=We*$i,Lo=Ir.internal.pageSize.getWidth(),sc=Et[xt];Ft=ve.charSpace||hi,Yt=ve.maxWidth||0,mr=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Gi=[],Xi=function(ir){return Ir.getStringUnitWidth(ir,{font:sc,charSpace:Ft,fontSize:We,doKerning:!1})*We/qn};if(Object.prototype.toString.call(_)==="[object Array]"){var Ms;Qe=dl(_),St!=="left"&&(ms=Qe.map(Xi));var $s,Zi=0;if(St==="right"){q-=ms[0],_=[],Za=Qe.length;for(var pi=0;pi<Za;pi++)pi===0?($s=In(q),Ms=xn(fe)):($s=X(Zi-ms[pi]),Ms=-hl),_.push([Qe[pi],$s,Ms]),Zi=ms[pi]}else if(St==="center"){q-=ms[0]/2,_=[],Za=Qe.length;for(var Eo=0;Eo<Za;Eo++)Eo===0?($s=In(q),Ms=xn(fe)):($s=X((Zi-ms[Eo])/2),Ms=-hl),_.push([Qe[Eo],$s,Ms]),Zi=ms[Eo]}else if(St==="left"){_=[],Za=Qe.length;for(var rd=0;rd<Za;rd++)_.push(Qe[rd])}else if(St==="justify"&&sc.encoding==="Identity-H"){_=[],Za=Qe.length,Yt=Yt!==0?Yt:Lo;for(var nc=0,ya=0;ya<Za;ya++)if(Ms=ya===0?xn(fe):-hl,$s=ya===0?In(q):nc,ya<Za-1){var uu=X((Yt-ms[ya])/(Qe[ya].split(" ").length-1)),ua=Qe[ya].split(" ");_.push([ua[0]+" ",$s,Ms]),nc=0;for(var Ws=1;Ws<ua.length;Ws++){var ic=(Xi(ua[Ws-1]+" "+ua[Ws])-Xi(ua[Ws]))*qn+uu;Ws==ua.length-1?_.push([ua[Ws],ic,0]):_.push([ua[Ws]+" ",ic,0]),nc-=ic}}else _.push([Qe[ya],$s,Ms]);_.push(["",nc,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Za=Qe.length,Yt=Yt!==0?Yt:Lo,ya=0;ya<Za;ya++){Ms=ya===0?xn(fe):-hl,$s=ya===0?In(q):0;var oc=Qe[ya].split(" ").length-1,lc=oc>0?(Yt-ms[ya])/oc:0;ya<Za-1?Gi.push(U(X(lc))):Gi.push(0),_.push([Qe[ya],$s,Ms])}}}(typeof ve.R2L=="boolean"?ve.R2L:jt)===!0&&(_=gi(_,function(ir,vr,na){return[ir.split("").reverse().join(""),vr,na]})),$e={text:_,x:q,y:fe,options:ve,mutex:{pdfEscape:Dr,activeFontKey:xt,fonts:Et,activeFontSize:We}},ur.publish("postProcessText",$e),_=$e.text,Aa=$e.mutex.isHex||!1;var cc=Et[xt].encoding;cc!=="WinAnsiEncoding"&&cc!=="StandardEncoding"||(_=gi(_,function(ir,vr,na){return[Wi(ir),vr,na]})),Qe=dl(_),_=[];for(var xi,Mo,Ro,kn=Array.isArray(Qe[0])?1:0,bi="",Vn=function(ir,vr,na){var La="";return na instanceof At?(na=typeof ve.angle=="number"?ks(na,new At(1,0,0,1,ir,vr)):ks(new At(1,0,0,1,ir,vr),na),D===E&&(na=ks(new At(1,0,0,-1,0,0),na)),La=na.join(" ")+` Tm
`):La=U(ir)+" "+U(vr)+` Td
`,La},Ys=0;Ys<Qe.length;Ys++){switch(bi="",kn){case 1:Ro=(Aa?"<":"(")+Qe[Ys][0]+(Aa?">":")"),xi=parseFloat(Qe[Ys][1]),Mo=parseFloat(Qe[Ys][2]);break;case 0:Ro=(Aa?"<":"(")+Qe[Ys]+(Aa?">":")"),xi=In(q),Mo=xn(fe)}Gi!==void 0&&Gi[Ys]!==void 0&&(bi=Gi[Ys]+` Tw
`),Ys===0?_.push(bi+Vn(xi,Mo,_a)+Ro):kn===0?_.push(bi+Ro):kn===1&&_.push(bi+Vn(xi,Mo,_a)+Ro)}_=kn===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var $n=`BT
/`;return $n+=xt+" "+We+` Tf
`,$n+=U(We*$i)+` TL
`,$n+=ui+`
`,$n+=as,$n+=_,V($n+="ET"),y[xt]=!0,Ir};var il=p.__private__.clip=p.clip=function(_){return V(_==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return il("evenodd")},p.__private__.discardPath=p.discardPath=function(){return V("n"),this};var rs=p.__private__.isValidStyle=function(_){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(q=!0),q};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return rs(_)&&(h=_),this};var K=p.__private__.getStyle=p.getStyle=function(_){var q=h;switch(_){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=_}return q},le=p.close=function(){return V("h"),this};p.stroke=function(){return V("S"),this},p.fill=function(_){return pe("f",_),this},p.fillEvenOdd=function(_){return pe("f*",_),this},p.fillStroke=function(_){return pe("B",_),this},p.fillStrokeEvenOdd=function(_){return pe("B*",_),this};var pe=function(_,q){Br(q)==="object"?ct(q,_):V(_)},De=function(_){_===null||D===E&&_===void 0||(_=K(_),V(_))};function Je(_,q,fe,ve,Ee){var $e=new rh(q||this.boundingBox,fe||this.xStep,ve||this.yStep,this.gState,Ee||this.matrix);$e.stream=this.stream;var Qe=_+"$$"+this.cloneIndex+++"$$";return Ss(Qe,$e),$e}var ct=function(_,q){var fe=kr[_.key],ve=ht[fe];if(ve instanceof Bd)V("q"),V(Vt(q)),ve.gState&&p.setGState(ve.gState),V(_.matrix.toString()+" cm"),V("/"+fe+" sh"),V("Q");else if(ve instanceof rh){var Ee=new At(1,0,0,-1,0,cl());_.matrix&&(Ee=Ee.multiply(_.matrix||Hs),fe=Je.call(ve,_.key,_.boundingBox,_.xStep,_.yStep,Ee).id),V("q"),V("/Pattern cs"),V("/"+fe+" scn"),ve.gState&&p.setGState(ve.gState),V(q),V("Q")}},Vt=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Gr=p.moveTo=function(_,q){return V(U(X(_))+" "+U(Q(q))+" m"),this},da=p.lineTo=function(_,q){return V(U(X(_))+" "+U(Q(q))+" l"),this},_r=p.curveTo=function(_,q,fe,ve,Ee,$e){return V([U(X(_)),U(Q(q)),U(X(fe)),U(Q(ve)),U(X(Ee)),U(Q($e)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,q,fe,ve,Ee){if(isNaN(_)||isNaN(q)||isNaN(fe)||isNaN(ve)||!rs(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return D===L?this.lines([[fe-_,ve-q]],_,q,[1,1],Ee||"S"):this.lines([[fe-_,ve-q]],_,q,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,q,fe,ve,Ee,$e){var Qe,mt,St,Ft,Yt,mr,sa,_a,Ir,Fa,Aa,as;if(typeof _=="number"&&(as=fe,fe=q,q=_,_=as),ve=ve||[1,1],$e=$e||!1,isNaN(q)||isNaN(fe)||!Array.isArray(_)||!Array.isArray(ve)||!rs(Ee)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gr(q,fe),Qe=ve[0],mt=ve[1],Ft=_.length,Fa=q,Aa=fe,St=0;St<Ft;St++)(Yt=_[St]).length===2?(Fa=Yt[0]*Qe+Fa,Aa=Yt[1]*mt+Aa,da(Fa,Aa)):(mr=Yt[0]*Qe+Fa,sa=Yt[1]*mt+Aa,_a=Yt[2]*Qe+Fa,Ir=Yt[3]*mt+Aa,Fa=Yt[4]*Qe+Fa,Aa=Yt[5]*mt+Aa,_r(mr,sa,_a,Ir,Fa,Aa));return $e&&le(),De(Ee),this},p.path=function(_){for(var q=0;q<_.length;q++){var fe=_[q],ve=fe.c;switch(fe.op){case"m":Gr(ve[0],ve[1]);break;case"l":da(ve[0],ve[1]);break;case"c":_r.apply(this,ve);break;case"h":le()}}return this},p.__private__.rect=p.rect=function(_,q,fe,ve,Ee){if(isNaN(_)||isNaN(q)||isNaN(fe)||isNaN(ve)||!rs(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return D===L&&(ve=-ve),V([U(X(_)),U(Q(q)),U(X(fe)),U(X(ve)),"re"].join(" ")),De(Ee),this},p.__private__.triangle=p.triangle=function(_,q,fe,ve,Ee,$e,Qe){if(isNaN(_)||isNaN(q)||isNaN(fe)||isNaN(ve)||isNaN(Ee)||isNaN($e)||!rs(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-_,ve-q],[Ee-fe,$e-ve],[_-Ee,q-$e]],_,q,[1,1],Qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,q,fe,ve,Ee,$e,Qe){if(isNaN(_)||isNaN(q)||isNaN(fe)||isNaN(ve)||isNaN(Ee)||isNaN($e)||!rs(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*fe),$e=Math.min($e,.5*ve),this.lines([[fe-2*Ee,0],[Ee*mt,0,Ee,$e-$e*mt,Ee,$e],[0,ve-2*$e],[0,$e*mt,-Ee*mt,$e,-Ee,$e],[2*Ee-fe,0],[-Ee*mt,0,-Ee,-$e*mt,-Ee,-$e],[0,2*$e-ve],[0,-$e*mt,Ee*mt,-$e,Ee,-$e]],_+Ee,q,[1,1],Qe,!0),this},p.__private__.ellipse=p.ellipse=function(_,q,fe,ve,Ee){if(isNaN(_)||isNaN(q)||isNaN(fe)||isNaN(ve)||!rs(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*fe,Qe=4/3*(Math.SQRT2-1)*ve;return Gr(_+fe,q),_r(_+fe,q-Qe,_+$e,q-ve,_,q-ve),_r(_-$e,q-ve,_-fe,q-Qe,_-fe,q),_r(_-fe,q+Qe,_-$e,q+ve,_,q+ve),_r(_+$e,q+ve,_+fe,q+Qe,_+fe,q),De(Ee),this},p.__private__.circle=p.circle=function(_,q,fe,ve){if(isNaN(_)||isNaN(q)||isNaN(fe)||!rs(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,q,fe,fe,ve)},p.setFont=function(_,q,fe){return fe&&(q=O(q,fe)),xt=sl(_,q,{disableWarning:!1}),this};var fs=p.__private__.getFont=p.getFont=function(){return Et[sl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,q,fe={};for(_ in Qt)if(Qt.hasOwnProperty(_))for(q in fe[_]=[],Qt[_])Qt[_].hasOwnProperty(q)&&fe[_].push(q);return fe},p.addFont=function(_,q,fe,ve,Ee){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(fe=O(fe,ve)),Nn.call(this,_,q,fe,Ee=Ee||"Identity-H")};var Ii,ci=t.lineWidth||.200025,vo=p.__private__.getLineWidth=p.getLineWidth=function(){return ci},Ot=p.__private__.setLineWidth=p.setLineWidth=function(_){return ci=_,V(U(X(_))+" w"),this};p.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(_,q){if(_=_||[],q=q||0,isNaN(q)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(fe){return U(X(fe))}).join(" "),q=U(X(q)),V("["+_+"] "+q+" d"),this};var Kc=p.__private__.getLineHeight=p.getLineHeight=function(){return We*Ii};p.__private__.getLineHeight=p.getLineHeight=function(){return We*Ii};var iu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Ii=_),this},ol=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ii};iu(t.lineHeight);var In=p.__private__.getHorizontalCoordinate=function(_){return X(_)},xn=p.__private__.getVerticalCoordinate=function(_){return D===E?_:kt[Y].mediaBox.topRightY-kt[Y].mediaBox.bottomLeftY-X(_)},di=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return U(In(_))},Jc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return U(xn(_))},Ui=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Wa(Ui)},p.__private__.setStrokeColor=p.setDrawColor=function(_,q,fe,ve){return Ui=ls({ch1:_,ch2:q,ch3:fe,ch4:ve,pdfColorType:"draw",precision:2}),V(Ui),this};var tc=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Wa(tc)},p.__private__.setFillColor=p.setFillColor=function(_,q,fe,ve){return tc=ls({ch1:_,ch2:q,ch3:fe,ch4:ve,pdfColorType:"fill",precision:2}),V(tc),this};var ui=t.textColor||"0 g",rc=p.__private__.getTextColor=p.getTextColor=function(){return Wa(ui)};p.__private__.setTextColor=p.setTextColor=function(_,q,fe,ve){return ui=ls({ch1:_,ch2:q,ch3:fe,ch4:ve,pdfColorType:"text",precision:3}),this};var hi=t.charSpace,gs=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(hi||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hi=_,this};var Un=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var q=p.CapJoinStyles[_];if(q===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Un=q,V(q+" J"),this};var wo=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var q=p.CapJoinStyles[_];if(q===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wo=q,V(q+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(U(X(_))+" M"),this},p.GState=um,p.setGState=function(_){(_=typeof _=="string"?Rt[zt[_]]:No(null,_)).equals(Cr)||(V("/"+_.id+" gs"),Cr=_)};var No=function(_,q){if(!_||!zt[_]){var fe=!1;for(var ve in Rt)if(Rt.hasOwnProperty(ve)&&Rt[ve].equals(q)){fe=!0;break}if(fe)q=Rt[ve];else{var Ee="GS"+(Object.keys(Rt).length+1).toString(10);Rt[Ee]=q,q.id=Ee}return _&&(zt[_]=q.id),ur.publish("addGState",q),q}};p.addGState=function(_,q){return No(_,q),this},p.saveGraphicsState=function(){return V("q"),br.push({key:xt,size:We,color:ui}),this},p.restoreGraphicsState=function(){V("Q");var _=br.pop();return xt=_.key,We=_.size,ui=_.color,Cr=null,this},p.setCurrentTransformationMatrix=function(_){return V(_.toString()+" cm"),this},p.comment=function(_){return V("#"+_),this};var Hi=function(_,q){var fe=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function($e){isNaN($e)||(fe=parseFloat($e))}});var ve=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function($e){isNaN($e)||(ve=parseFloat($e))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function($e){Ee=$e.toString()}}),this},ll=function(_,q,fe,ve){Hi.call(this,_,q),this.type="rect";var Ee=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Qe){isNaN(Qe)||(Ee=parseFloat(Qe))}});var $e=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Qe){isNaN(Qe)||($e=parseFloat(Qe))}}),this},jo=function(){this.page=Ht,this.currentPage=Y,this.pages=be.slice(0),this.pagesContext=kt.slice(0),this.x=bt,this.y=qr,this.matrix=tr,this.width=ac(Y),this.height=lu(Y),this.outputDestination=Ve,this.id="",this.objectNumber=-1};jo.prototype.restore=function(){Ht=this.page,Y=this.currentPage,kt=this.pagesContext,be=this.pages,bt=this.x,qr=this.y,tr=this.matrix,ou(Y,this.width),Vi(Y,this.height),Ve=this.outputDestination};var qi=function(_,q,fe,ve,Ee){mn.push(new jo),Ht=Y=0,be=[],bt=_,qr=q,tr=Ee,Ca([fe,ve])};for(var fi in p.beginFormObject=function(_,q,fe,ve,Ee){return qi(_,q,fe,ve,Ee),this},p.endFormObject=function(_){return(function(q){if(gn[q])mn.pop().restore();else{var fe=new jo,ve="Xo"+(Object.keys($a).length+1).toString(10);fe.id=ve,gn[q]=ve,$a[ve]=fe,ur.publish("addFormObject",fe),mn.pop().restore()}})(_),this},p.doFormObject=function(_,q){var fe=$a[gn[_]];return V("q"),V(q.toString()+" cm"),V("/"+fe.id+" Do"),V("Q"),this},p.getFormObject=function(_){var q=$a[gn[_]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},p.save=function(_,q){return _=_||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Fd(pn(Vs()),_),typeof Fd.unload=="function"&&Ut.setTimeout&&setTimeout(Fd.unload,911),this):new Promise(function(fe,ve){try{var Ee=Fd(pn(Vs()),_);typeof Fd.unload=="function"&&Ut.setTimeout&&setTimeout(Fd.unload,911),fe(Ee)}catch($e){ve($e.message)}})},_t.API)_t.API.hasOwnProperty(fi)&&(fi==="events"&&_t.API.events.length?(function(_,q){var fe,ve,Ee;for(Ee=q.length-1;Ee!==-1;Ee--)fe=q[Ee][0],ve=q[Ee][1],_.subscribe.apply(_,[fe].concat(typeof ve=="function"?[ve]:ve))})(ur,_t.API.events):p[fi]=_t.API[fi]);function ac(_){return kt[_].mediaBox.topRightX-kt[_].mediaBox.bottomLeftX}function ou(_,q){kt[_].mediaBox.topRightX=q+kt[_].mediaBox.bottomLeftX}function lu(_){return kt[_].mediaBox.topRightY-kt[_].mediaBox.bottomLeftY}function Vi(_,q){kt[_].mediaBox.topRightY=q+kt[_].mediaBox.bottomLeftY}var Hn=p.getPageWidth=function(_){return ac(_=_||Y)/Dt},cu=p.setPageWidth=function(_,q){ou(_,q*Dt)},cl=p.getPageHeight=function(_){return lu(_=_||Y)/Dt},du=p.setPageHeight=function(_,q){Vi(_,q*Dt)};return p.internal={pdfEscape:Dr,getStyle:K,getFont:fs,getFontSize:at,getCharSpace:gs,getTextColor:rc,getLineHeight:Kc,getLineHeightFactor:ol,getLineWidth:vo,write:Pe,getHorizontalCoordinate:In,getVerticalCoordinate:xn,getCoordinateString:di,getVerticalCoordinateString:Jc,collections:{},newObject:zr,newAdditionalObject:es,newObjectDeferred:ra,newObjectDeferredBegin:Oa,getFilters:qs,putStream:cs,events:ur,scaleFactor:Dt,pageSize:{getWidth:function(){return Hn(Y)},setWidth:function(_){cu(Y,_)},getHeight:function(){return cl(Y)},setHeight:function(_){du(Y,_)}},encryptionOptions:g,encryption:ba,getEncryptor:function(_){return g!==null?ba.encryptor(_,0):function(q){return q}},output:oi,getNumberOfPages:yo,get pages(){return be},out:V,f2:I,f3:B,getPageInfo:aa,getPageInfoByObjId:li,getCurrentPageInfo:nl,getPDFVersion:j,Point:Hi,Rectangle:ll,Matrix:At,hasHotfix:Yr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Hn(Y)},set:function(_){cu(Y,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return cl(Y)},set:function(_){du(Y,_)},enumerable:!0,configurable:!0}),(function(_){for(var q=0,fe=rt.length;q<fe;q++){var ve=Nn.call(this,_[q][0],_[q][1],_[q][2],rt[q][3],!0);x===!1&&(y[ve]=!0);var Ee=_[q][0].split("-");Ya({id:ve,fontName:Ee[0],fontStyle:Ee[1]||""})}ur.publish("addFonts",{fonts:Et,dictionary:Qt})}).call(p,rt),xt="F1",Ga(n,r),ur.publish("initialized"),p}Ju.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ju.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ju.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ju.prototype.processOwnerPassword=function(t,e){return I1(z1(e).substr(0,5),t)},Ju.prototype.encryptor=function(t,e){var r=z1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return I1(r,a)}},um.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Br(t)!==Br(this))return!1;var a=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&a--;return a===0},_t.API={events:[]},_t.version="3.0.4";var Pa=_t.API,T2=1,nu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(t){return t.toFixed(2)},Oc=function(t){return t.toFixed(5)};Pa.__acroform__={};var zn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},z4=function(t){return t*T2},Xo=function(t){var e=new C6,r=Nt.internal.getHeight(t)||0,a=Nt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Zt(a)),Number(Zt(r))],e},FP=Pa.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},BP=Pa.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},zP=Pa.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ua=Pa.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zP(t,e-1)},Ha=Pa.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return FP(t,e-1)},qa=Pa.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BP(t,e-1)},IP=Pa.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,n=t[0],i=t[1],l=t[2],d=t[3],u={};return u.lowerLeft_X=r(n)||0,u.lowerLeft_Y=a(i+d)||0,u.upperRight_X=r(n+l)||0,u.upperRight_Y=a(i)||0,[Number(Zt(u.lowerLeft_X)),Number(Zt(u.lowerLeft_Y)),Number(Zt(u.upperRight_X)),Number(Zt(u.upperRight_Y))]},UP=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,a=U1(t,r),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+n+" "+Zt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Xo(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},U1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},n=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");n=t.multiline?n.map(function(I){return I.split(`
`)}):n.map(function(I){return[I]});var i=r,l=Nt.internal.getHeight(t)||0;l=l<0?-l:l;var d=Nt.internal.getWidth(t)||0;d=d<0?-d:d;var u=function(I,B,X){if(I+1<n.length){var Q=B+" "+n[I+1][0];return kg(Q,t,X).width<=d-4}return!1};i++;e:for(;i>0;){e="",i--;var h,g,x=kg("3",t,i).height,y=t.multiline?l-i:(l-x)/2,p=y+=2,w=0,j=0,k=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+kg(e,t,i=12).width+", FieldWidth:"+d+`
`;break}for(var C="",L=0,E=0;E<n.length;E++)if(n.hasOwnProperty(E)){var D=!1;if(n[E].length!==1&&k!==n[E].length-1){if((x+2)*(L+2)+2>l)continue e;C+=n[E][k],D=!0,j=E,E--}else{C=(C+=n[E][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var F=parseInt(E),se=u(F,C,i),O=E>=n.length-1;if(se&&!O){C+=" ",k=0;continue}if(se||O){if(O)j=F;else if(t.multiline&&(x+2)*(L+2)+2>l)continue e}else{if(!t.multiline||(x+2)*(L+2)+2>l)continue e;j=F}}for(var U="",T=w;T<=j;T++){var W=n[T];if(t.multiline){if(T===j){U+=W[k]+" ",k=(k+1)%W.length;continue}if(T===w){U+=W[W.length-1]+" ";continue}}U+=W[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,g=kg(U,t,i).width,t.textAlign){case"right":h=d-g-2;break;case"center":h=(d-g)/2;break;default:h=2}e+=Zt(h)+" "+Zt(p)+` Td
`,e+="("+nu(U)+`) Tj
`,e+=-Zt(h)+` 0 Td
`,p=-(i+2),g=0,w=D?j:j+1,L++,C=""}break}return a.text=e,a.fontSize=i,a},kg=function(t,e,r){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),n=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},HP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qP=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},VP=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(HP)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");T2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&qP(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(a,n){var i=!a;for(var l in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(l)){var d=a[l],u=[],h=d.Rect;if(d.Rect&&(d.Rect=IP(d.Rect,n)),n.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Nt.createDefaultAppearanceStream(d),Br(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(u=d.getKeyValueListForStream()),d.Rect=h,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=UP(d);u.push({key:"AP",value:"<</N "+g+">>"}),n.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var x="";for(var y in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(y)){var p=d.appearanceStreamContent[y];if(x+="/"+y+" ",x+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var w=p[l];typeof w=="function"&&(w=w.call(n,d)),x+="/"+l+" "+w+" ",n.internal.acroformPlugin.xForms.indexOf(w)>=0||n.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(n,d)),x+="/"+l+" "+w,n.internal.acroformPlugin.xForms.indexOf(w)>=0||n.internal.acroformPlugin.xForms.push(w);x+=">>"}u.push({key:"AP",value:`<<
`+x+">>"})}n.internal.putStream({additionalKeyValues:u,objectId:d.objId}),n.internal.out("endobj")}i&&(function(j,k){for(var C in j)if(j.hasOwnProperty(C)){var L=C,E=j[C];k.internal.newObjectDeferredBegin(E.objId,!0),Br(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete j[L]}})(n.internal.acroformPlugin.xForms,n)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},S6=Pa.__acroform__.arrayToPdfArray=function(t,e,r){var a=function(l){return l};if(Array.isArray(t)){for(var n="[",i=0;i<t.length;i++)switch(i!==0&&(n+=" "),Br(t[i])){case"boolean":case"number":case"object":n+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(a=r.internal.getEncryptor(e)),n+="("+nu(a(t[i].toString()))+")"):n+=t[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zx=function(t,e,r){var a=function(n){return n};return e!==void 0&&r&&(a=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+nu(a(t))+")"},el=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};el.prototype.toString=function(){return this.objId+" 0 R"},el.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},el.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var a=e[r],n=this[a];n&&(Array.isArray(n)?t.push({key:a,value:S6(n,this.objId,this.scope)}):n instanceof el?(n.scope=this.scope,t.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:a,value:n}))}return t};var C6=function(){el.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};zn(C6,el);var _6=function(){el.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+nu(r(t))+")"}},set:function(r){t=r}})};zn(_6,el);var xo=function t(){el.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ua(e,3)},set:function(C){C?this.F=Ha(e,3):this.F=qa(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');r=C}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(C){a=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(C){a[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(C){a[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(C){a[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(C){a[3]=C}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof hm)return;i="FieldObject"+t.FieldNum++}var C=function(L){return L};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+nu(C(i))+")"},set:function(C){i=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(C){i=C}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/T2:h},set:function(C){h=C}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof hm||this instanceof Yd))return zx(x,this.objId,this.scope)},set:function(C){C=C.toString(),x=C}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ws==0?zx(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof ws==0?C.substr(0,1)==="("?Xu(C.substr(1,C.length-2)):Xu(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws==1?Xu(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof ws==1?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ws==0?zx(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof ws==0?C.substr(0,1)==="("?Xu(C.substr(1,C.length-2)):Xu(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws==1?Xu(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof ws==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(C){C=!!C,j=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(C){w=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,1)},set:function(C){C?this.Ff=Ha(this.Ff,1):this.Ff=qa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,2)},set:function(C){C?this.Ff=Ha(this.Ff,2):this.Ff=qa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,3)},set:function(C){C?this.Ff=Ha(this.Ff,3):this.Ff=qa(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};zn(xo,el);var oh=function(){xo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return S6(e,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=(function(i,l,d){d||(d=1);for(var u,h=[];u=l.exec(i);)h.push(u[d]);return h})(a,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,18)},set:function(r){r?this.Ff=Ha(this.Ff,18):this.Ff=qa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ha(this.Ff,19):this.Ff=qa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,20)},set:function(r){r?(this.Ff=Ha(this.Ff,20),e.sort()):this.Ff=qa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,22)},set:function(r){r?this.Ff=Ha(this.Ff,22):this.Ff=qa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(r){r?this.Ff=Ha(this.Ff,23):this.Ff=qa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,27)},set:function(r){r?this.Ff=Ha(this.Ff,27):this.Ff=qa(this.Ff,27)}}),this.hasAppearanceStream=!1};zn(oh,xo);var lh=function(){oh.call(this),this.fontName="helvetica",this.combo=!1};zn(lh,oh);var ch=function(){lh.call(this),this.combo=!0};zn(ch,lh);var Wg=function(){ch.call(this),this.edit=!0};zn(Wg,ch);var ws=function(){xo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,15)},set:function(r){r?this.Ff=Ha(this.Ff,15):this.Ff=qa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,16)},set:function(r){r?this.Ff=Ha(this.Ff,16):this.Ff=qa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,17)},set:function(r){r?this.Ff=Ha(this.Ff,17):this.Ff=qa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(r){r?this.Ff=Ha(this.Ff,26):this.Ff=qa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,n=[];for(a in n.push("<<"),e)n.push("/"+a+" ("+nu(r(e[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Br(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};zn(ws,xo);var Yg=function(){ws.call(this),this.pushButton=!0};zn(Yg,ws);var dh=function(){ws.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};zn(dh,ws);var hm=function(){var t,e;xo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(d){return d};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),a)l.push("/"+i+" ("+nu(n(a[i]))+")");return l.push(">>"),l.join(`
`)},set:function(n){Br(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zn(hm,xo),dh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},dh.prototype.createOption=function(t){var e=new hm;return e.Parent=this,e.optionName=t,this.Kids.push(e),$P.call(this.scope,e),e};var Gg=function(){ws.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};zn(Gg,ws);var Yd=function(){xo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,13)},set:function(e){e?this.Ff=Ha(this.Ff,13):this.Ff=qa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,21)},set:function(e){e?this.Ff=Ha(this.Ff,21):this.Ff=qa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(e){e?this.Ff=Ha(this.Ff,23):this.Ff=qa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,24)},set:function(e){e?this.Ff=Ha(this.Ff,24):this.Ff=qa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,25)},set:function(e){e?this.Ff=Ha(this.Ff,25):this.Ff=qa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(e){e?this.Ff=Ha(this.Ff,26):this.Ff=qa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zn(Yd,xo);var Xg=function(){Yd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,14)},set:function(t){t?this.Ff=Ha(this.Ff,14):this.Ff=qa(this.Ff,14)}}),this.password=!0};zn(Xg,Yd);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Xo(t);e.scope=t.scope;var r=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=U1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Zt(Nt.internal.getWidth(t))+" "+Zt(Nt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Zt(i.fontSize)+" Tf "+n),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Xo(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),n=[],i=Nt.internal.getHeight(t),l=Nt.internal.getWidth(t),d=U1(t,t.caption);return n.push("1 g"),n.push("0 0 "+Zt(l)+" "+Zt(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Zt(l-1)+" "+Zt(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Zt(d.fontSize)+" Tf "+a),n.push(d.text),n.push("ET"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Xo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(Nt.internal.getWidth(t))+" "+Zt(Nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Nt.RadioButton.Circle.YesNormal,e.D[t]=Nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Xo(t);e.scope=t.scope;var r=[],a=Nt.internal.getWidth(t)<=Nt.internal.getHeight(t)?Nt.internal.getWidth(t)/4:Nt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=Nt.internal.Bezier_C,i=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Oc(Nt.internal.getWidth(t)/2)+" "+Oc(Nt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Xo(t);e.scope=t.scope;var r=[],a=Nt.internal.getWidth(t)<=Nt.internal.getHeight(t)?Nt.internal.getWidth(t)/4:Nt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*Nt.internal.Bezier_C).toFixed(5)),l=Number((a*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Oc(Nt.internal.getWidth(t)/2)+" "+Oc(Nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Oc(Nt.internal.getWidth(t)/2)+" "+Oc(Nt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),r.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),r.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),r.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Xo(t);e.scope=t.scope;var r=[],a=Nt.internal.getWidth(t)<=Nt.internal.getHeight(t)?Nt.internal.getWidth(t)/4:Nt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Oc(Nt.internal.getWidth(t)/2)+" "+Oc(Nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Nt.RadioButton.Cross.YesNormal,e.D[t]=Nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Xo(t);e.scope=t.scope;var r=[],a=Nt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Zt(Nt.internal.getWidth(t)-2)+" "+Zt(Nt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(a.x1.x)+" "+Zt(a.x1.y)+" m"),r.push(Zt(a.x2.x)+" "+Zt(a.x2.y)+" l"),r.push(Zt(a.x4.x)+" "+Zt(a.x4.y)+" m"),r.push(Zt(a.x3.x)+" "+Zt(a.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Xo(t);e.scope=t.scope;var r=Nt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Zt(Nt.internal.getWidth(t))+" "+Zt(Nt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Zt(Nt.internal.getWidth(t)-2)+" "+Zt(Nt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),a.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),a.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),a.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Xo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(Nt.internal.getWidth(t))+" "+Zt(Nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Nt.internal.getWidth(t),r=Nt.internal.getHeight(t),a=Math.min(e,r);return{x1:{x:(e-a)/2,y:(r-a)/2+a},x2:{x:(e-a)/2+a,y:(r-a)/2},x3:{x:(e-a)/2,y:(r-a)/2},x4:{x:(e-a)/2+a,y:(r-a)/2+a}}}},Nt.internal.getWidth=function(t){var e=0;return Br(t)==="object"&&(e=z4(t.Rect[2])),e},Nt.internal.getHeight=function(t){var e=0;return Br(t)==="object"&&(e=z4(t.Rect[3])),e};var $P=Pa.addField=function(t){if(VP(this,t),!(t instanceof xo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Pa.AcroFormChoiceField=oh,Pa.AcroFormListBox=lh,Pa.AcroFormComboBox=ch,Pa.AcroFormEditBox=Wg,Pa.AcroFormButton=ws,Pa.AcroFormPushButton=Yg,Pa.AcroFormRadioButton=dh,Pa.AcroFormCheckBox=Gg,Pa.AcroFormTextField=Yd,Pa.AcroFormPasswordField=Xg,Pa.AcroFormAppearance=Nt,Pa.AcroForm={ChoiceField:oh,ListBox:lh,ComboBox:ch,EditBox:Wg,Button:ws,PushButton:Yg,RadioButton:dh,CheckBox:Gg,TextField:Yd,PasswordField:Xg,Appearance:Nt},_t.AcroForm={ChoiceField:oh,ListBox:lh,ComboBox:ch,EditBox:Wg,Button:ws,PushButton:Yg,RadioButton:dh,CheckBox:Gg,TextField:Yd,PasswordField:Xg,Appearance:Nt};_t.AcroForm;function A6(t){return t.reduce(function(e,r,a){return e[r]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(I,B){var X,Q,ge,$,de,ie=r;if((B=B||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(se(I))for(de in a)for(ge=a[de],X=0;X<ge.length;X+=1){for($=!0,Q=0;Q<ge[X].length;Q+=1)if(ge[X][Q]!==void 0&&ge[X][Q]!==I[Q]){$=!1;break}if($===!0){ie=de;break}}else for(de in a)for(ge=a[de],X=0;X<ge.length;X+=1){for($=!0,Q=0;Q<ge[X].length;Q+=1)if(ge[X][Q]!==void 0&&ge[X][Q]!==I.charCodeAt(Q)){$=!1;break}if($===!0){ie=de;break}}return ie===r&&B!==r&&(ie=B),ie},i=function I(B){for(var X=this.internal.write,Q=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:B.width}),$.push({key:"Height",value:B.height}),B.colorSpace===C.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===C.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var de="",ie=0,ye=B.transparency.length;ie<ye;ie++)de+=B.transparency[ie]+" "+B.transparency[ie]+" ";$.push({key:"Mask",value:"["+de+"]"})}B.sMask!==void 0&&$.push({key:"SMask",value:B.objectId+1+" 0 R"});var J=B.filter!==void 0?["/"+B.filter]:void 0;if(Q({data:B.data,additionalKeyValues:$,alreadyAppliedFilters:J,objectId:B.objectId}),X("endobj"),"sMask"in B&&B.sMask!==void 0){var te,P=(te=B.sMaskBitsPerComponent)!==null&&te!==void 0?te:B.bitsPerComponent,Y={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:B.sMask};"filter"in B&&(Y.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(B.width),Y.filter=B.filter),I.call(this,Y)}if(B.colorSpace===C.INDEXED){var G=this.internal.newObject();Q({data:U(new Uint8Array(B.palette)),objectId:G}),X("endobj")}},l=function(){var I=this.internal.collections[e+"images"];for(var B in I)i.call(this,I[B])},d=function(){var I,B=this.internal.collections[e+"images"],X=this.internal.write;for(var Q in B)X("/I"+(I=B[Q]).index,I.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",d))},h=function(){var I=this.internal.collections[e+"images"];return u.call(this),I},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(I){return typeof t["process"+I.toUpperCase()]=="function"},y=function(I){return Br(I)==="object"&&I.nodeType===1},p=function(I,B){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var X=""+I.getAttribute("src");if(X.indexOf("data:image/")===0)return $g(unescape(X).split("base64,").pop());var Q=t.loadFile(X,!0);if(Q!==void 0)return Q}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ge;switch(B){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return $g(I.toDataURL(ge,1).split("base64,").pop())}},w=function(I){var B=this.internal.collections[e+"images"];if(B){for(var X in B)if(I===B[X].alias)return B[X]}},j=function(I,B,X){return I||B||(I=-96,B=-96),I<0&&(I=-1*X.width*72/I/this.internal.scaleFactor),B<0&&(B=-1*X.height*72/B/this.internal.scaleFactor),I===0&&(I=B*X.width/X.height),B===0&&(B=I*X.height/X.width),[I,B]},k=function(I,B,X,Q,ge,$){var de=j.call(this,X,Q,ge),ie=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,J=h.call(this);if(X=de[0],Q=de[1],J[ge.index]=ge,$){$*=Math.PI/180;var te=Math.cos($),P=Math.sin($),Y=function(ue){return ue.toFixed(4)},G=[Y(te),Y(P),Y(-1*P),Y(te),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,ie(I),ye(B+Q),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([ie(X),"0","0",ie(Q),"0","0","cm"].join(" "))):this.internal.write([ie(X),"0","0",ie(Q),ie(I),ye(B+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(I){var B,X,Q=0;if(typeof I=="string")for(X=I.length,B=0;B<X;B++)Q=(Q<<5)-Q+I.charCodeAt(B),Q|=0;else if(se(I))for(X=I.byteLength/2,B=0;B<X;B++)Q=(Q<<5)-Q+I[B],Q|=0;return Q},D=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var B=!0;return I.length===0&&(B=!1),I.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(B=!1),B},F=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var B=I.indexOf(",");return B<0?null:I.substring(0,B).trim().endsWith("base64")?I.substring(B+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var se=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},O=t.__addimage__.binaryStringToUint8Array=function(I){for(var B=I.length,X=new Uint8Array(B),Q=0;Q<B;Q++)X[Q]=I.charCodeAt(Q);return X},U=t.__addimage__.arrayBufferToBinaryString=function(I){for(var B="",X=se(I)?I:new Uint8Array(I),Q=0;Q<X.length;Q+=8192)B+=String.fromCharCode.apply(null,X.subarray(Q,Q+8192));return B};t.addImage=function(){var I,B,X,Q,ge,$,de,ie,ye;if(typeof arguments[1]=="number"?(B=r,X=arguments[1],Q=arguments[2],ge=arguments[3],$=arguments[4],de=arguments[5],ie=arguments[6],ye=arguments[7]):(B=arguments[1],X=arguments[2],Q=arguments[3],ge=arguments[4],$=arguments[5],de=arguments[6],ie=arguments[7],ye=arguments[8]),Br(I=arguments[0])==="object"&&!y(I)&&"imageData"in I){var J=I;I=J.imageData,B=J.format||B||r,X=J.x||X||0,Q=J.y||Q||0,ge=J.w||J.width||ge,$=J.h||J.height||$,de=J.alias||de,ie=J.compression||ie,ye=J.rotation||J.angle||ye}var te=this.internal.getFilters();if(ie===void 0&&te.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(X)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=T.call(this,I,B,de,ie);return k.call(this,X,Q,ge,$,P,ye),this};var T=function(I,B,X,Q){var ge,$,de;if(typeof I=="string"&&n(I)===r){I=unescape(I);var ie=W(I,!1);(ie!==""||(ie=t.loadFile(I,!0))!==void 0)&&(I=ie)}if(y(I)&&(I=p(I,B)),B=n(I,B),!x(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((de=X)==null||de.length===0)&&(X=(function(ye){return typeof ye=="string"||se(ye)?E(ye):se(ye.data)?E(ye.data):null})(I)),(ge=w.call(this,X))||(I instanceof Uint8Array||B==="RGBA"||($=I,I=O(I)),ge=this["process"+B.toUpperCase()](I,g.call(this),X,(function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:L.NONE})(Q),$)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},W=t.__addimage__.convertBase64ToBinaryString=function(I,B){B=typeof B!="boolean"||B;var X,Q="";if(typeof I=="string"){var ge;X=(ge=F(I))!==null&&ge!==void 0?ge:I;try{Q=$g(X)}catch($){if(B)throw D(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};t.getImageProperties=function(I){var B,X,Q="";if(y(I)&&(I=p(I)),typeof I=="string"&&n(I)===r&&((Q=W(I,!1))===""&&(Q=t.loadFile(I)||""),I=Q),X=n(I),!x(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(I instanceof Uint8Array||(I=O(I)),!(B=this["process"+X.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=X,B}})(_t.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};_t.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var a,n,i,l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,g=!1,x=0;x<h.length&&!g;x++)switch((a=h[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){a=h[y];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(j.objId),L=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+p(C(a.contents))+")",i+=" /Popup "+k.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(C(L))+") >>",j.content=i;var E=j.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+E,a.open&&(i+=" /Open true"),i+=" >>",k.content=i,this.internal.write(j.objId,"0 R",k.objId,"0 R");break;case"freetext":n="/Rect ["+l(a.bounds.x)+" "+d(a.bounds.y)+" "+l(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var D=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(w(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var F=this.annotations._nameMap[a.options.name];a.options.pageNumber=F.page,a.options.top=F.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var se=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+se+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},t.link=function(r,a,n,i,l){var d=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:u(r),y:h(a),w:u(r+n),h:h(a+i)},options:l,type:"link"})},t.textWithLink=function(r,a,n,i){var l,d,u=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){d=i.maxWidth;var g=this.splitTextToSize(r,d).length;l=Math.ceil(h*g)}else d=u,l=h;return this.text(r,a,n,i),n+=.2*h,i.align==="center"&&(a-=u/2),i.align==="right"&&(a-=u),this.link(a,n-h,d,l,i),u},t.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(_t.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},d=t.__arabicParser__.isArabicEndLetter=function(j){return l(j)&&i(j)&&e[j.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(j){return l(j)&&n.indexOf(j.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return l(j)&&i(j)&&e[j.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(j){return l(j)&&i(j)&&e[j.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(j){return l(j)&&i(j)&&e[j.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(j){return l(j)&&i(j)&&e[j.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(j){var k=0,C=r,L="",E=0;for(k=0;k<j.length;k+=1)C[j.charCodeAt(k)]!==void 0?(E++,typeof(C=C[j.charCodeAt(k)])=="number"&&(L+=String.fromCharCode(C),C=r,E=0),k===j.length-1&&(C=r,L+=j.charAt(k-(E-1)),k-=E-1,E=0)):(C=r,L+=j.charAt(k-E),k-=E,E=0);return L};t.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&a[j.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(j,k,C){return l(j)?i(j)===!1?-1:!h(j)||!l(k)&&!l(C)||!l(C)&&d(k)||d(j)&&!l(k)||d(j)&&u(k)||d(j)&&d(k)?0:g(j)&&l(k)&&!d(k)&&l(C)&&h(C)?3:d(j)||!l(C)?1:2:-1},p=function(j){var k=0,C=0,L=0,E="",D="",F="",se=(j=j||"").split("\\s+"),O=[];for(k=0;k<se.length;k+=1){for(O.push(""),C=0;C<se[k].length;C+=1)E=se[k][C],D=se[k][C-1],F=se[k][C+1],l(E)?(L=y(E,D,F),O[k]+=L!==-1?String.fromCharCode(e[E.charCodeAt(0)][L]):E):O[k]+=E;O[k]=x(O[k])}return O.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var j,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var L=0;for(C=[],L=0;L<k.length;L+=1)Array.isArray(k[L])?C.push([p(k[L][0]),k[L][1],k[L][2]]):C.push([p(k[L])]);j=C}else j=p(k);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};t.events.push(["preProcessText",w])})(_t.API),_t.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(d){r=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(d){n=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(d){i=d}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(d){l=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(_t.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(j){x=j}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(j){y=j}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(j){w=j}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,h){a.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),x=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,p=0,w=0,j=0,k=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=h.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(E,D){return E.concat(k.splitTextToSize(D,C))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)p<(j=this.getStringUnitWidth(u[L],{font:x})*g)&&(p=j);return p!==0&&(w=u.length),{w:p/=y,h:Math.max((w*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=x.top,p&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-g,u.y+g,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+g,{align:"center",baseline:"top",maxWidth:u.width-g-g}):this.text(u.text,u.x+g,u.y+g,{align:"left",baseline:"top",maxWidth:u.width-g-g})),this.internal.__cell__.lastCell=u,this};t.table=function(u,h,g,x,y){if(a.call(this),!g)throw new Error("No data for PDF table.");var p,w,j,k,C=[],L=[],E=[],D={},F={},se=[],O=[],U=(y=y||{}).autoSize||!1,T=y.printHeaders!==!1,W=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),B=typeof y.padding=="number"?y.padding:3,X=y.headerBackgroundColor||"#c8c8c8",Q=y.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=Q,this.setFontSize(W),x==null)L=C=Object.keys(g[0]),E=C.map(function(){return"left"});else if(Array.isArray(x)&&Br(x[0])==="object")for(C=x.map(function(J){return J.name}),L=x.map(function(J){return J.prompt||J.name||""}),E=x.map(function(J){return J.align||"left"}),p=0;p<x.length;p+=1)F[x[p].name]=.7499990551181103*x[p].width;else Array.isArray(x)&&typeof x[0]=="string"&&(L=C=x,E=C.map(function(){return"left"}));if(U||Array.isArray(x)&&typeof x[0]=="string")for(p=0;p<C.length;p+=1){for(D[k=C[p]]=g.map(function(J){return J[k]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(L[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=D[k],this.setFont(void 0,"normal"),j=0;j<w.length;j+=1)se.push(this.getTextDimensions(w[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[k]=Math.max.apply(null,se)+B+B,se=[]}if(T){var ge={};for(p=0;p<C.length;p+=1)ge[C[p]]={},ge[C[p]].text=L[p],ge[C[p]].align=E[p];var $=d.call(this,ge,F);O=C.map(function(J){return new i(u,h,F[J],$,ge[J].text,void 0,ge[J].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var de=x.reduce(function(J,te){return J[te.name]=te.align,J},{});for(p=0;p<g.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:g[p]},this);var ie=d.call(this,g[p],F);for(j=0;j<C.length;j+=1){var ye=g[p][C[j]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:j,data:ye},this),l.call(this,new i(u,h,F[C[j]],ie,ye,p+2,de[C[j]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var d=function(u,h){var g=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(p){var w=u[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,h[p]-g-g)},this).map(function(p){return this.getLineHeightFactor()*p.length*x/y+g+g},this).reduce(function(p,w){return Math.max(p,w)},0)};t.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,h){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){g=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,y.push(g)),g.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(w)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(_t.API);var L6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},E6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H1=A6(E6),M6=[100,200,300,400,500,600,700,800,900],WP=A6(M6);function Ix(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return L6[i=i||"normal"]?i:"normal"})(t.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),n=(function(i){return typeof H1[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:a,stretch:n,src:t.src||[],ref:t.ref||{name:e,style:[n,r,a].join(" ")}}}function I4(t,e,r,a){var n;for(n=r;n>=0&&n<e.length;n+=a)if(t[e[n]])return t[e[n]];for(n=r;n>=0&&n<e.length;n-=a)if(t[e[n]])return t[e[n]]}var YP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},U4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function H4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function q4(t){return t.trimLeft()}function GP(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function XP(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Sg,V4,$4,Zu,Cg,W4,Y4,G4,Ux=["times"];function X4(t,e,r,a,n){var i=4,l=Q4;switch(n){case _t.API.image_compression.FAST:i=1,l=Z4;break;case _t.API.image_compression.MEDIUM:i=6,l=K4;break;case _t.API.image_compression.SLOW:i=9,l=J4}t=(function(u,h,g,x){for(var y,p=u.length/h,w=new Uint8Array(u.length+p),j=[ZP,Z4,Q4,K4,J4],k=0;k<p;k+=1){var C=k*h,L=u.subarray(C,C+h);if(x)w.set(x(L,g,y),C+k);else{for(var E=j.length,D=[],F=0;F<E;F+=1)D[F]=j[F](L,g,y);var se=KP(D.concat());w.set(D[se],C+k)}y=L}return w})(t,e,Math.ceil(r*a/8),l);var d=D1(t,{level:i});return _t.API.__addimage__.arrayBufferToBinaryString(d)}function ZP(t){var e=Array.apply([],t);return e.unshift(0),e}function Z4(t,e){var r=t.length,a=[];a[0]=1;for(var n=0;n<r;n+=1){var i=t[n-e]||0;a[n+1]=t[n]-i+256&255}return a}function Q4(t,e,r){var a=t.length,n=[];n[0]=2;for(var i=0;i<a;i+=1){var l=r&&r[i]||0;n[i+1]=t[i]-l+256&255}return n}function K4(t,e,r){var a=t.length,n=[];n[0]=3;for(var i=0;i<a;i+=1){var l=t[i-e]||0,d=r&&r[i]||0;n[i+1]=t[i]+256-(l+d>>>1)&255}return n}function J4(t,e,r){var a=t.length,n=[];n[0]=4;for(var i=0;i<a;i+=1){var l=QP(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);n[i+1]=t[i]-l+256&255}return n}function QP(t,e,r){if(t===e&&e===r)return t;var a=Math.abs(e-r),n=Math.abs(t-r),i=Math.abs(t+e-r-r);return a<=n&&a<=i?t:n<=i?e:r}function KP(t){var e=t.map(function(r){return r.reduce(function(a,n){return a+Math.abs(n)},0)});return e.indexOf(Math.min.apply(null,e))}function Hx(t,e,r){var a=e*r,n=Math.floor(a/8),i=16-(a-8*n+r),l=(1<<r)-1;return R6(t,n)>>i&l}function ew(t,e,r,a){var n=r*a,i=Math.floor(n/8),l=16-(n-8*i+a),d=(1<<a)-1,u=(e&d)<<l;(function(h,g,x){if(g+1<h.byteLength)h.setUint16(g,x,!1);else{var y=x>>8&255;h.setUint8(g,y)}})(t,i,R6(t,i)&~(d<<l)&65535|u)}function R6(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function JP(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,n=t[e++],i=n>>7,l=1<<1+(7&n);t[e++],t[e++];var d=null,u=null;i&&(d=e,u=l,e+=3*l);var h=!0,g=[],x=0,y=null,p=0,w=null;for(this.width=r,this.height=a;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=t[e++];x=t[e++]|t[e++]<<8,y=t[e++],1&j||(y=null),p=j>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,D=t[e++],F=D>>6&1,se=1<<1+(7&D),O=d,U=u,T=!1;D>>7&&(T=!0,O=e,U=se,e+=3*se);var W=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}g.push({x:k,y:C,width:L,height:E,has_local_palette:T,palette_offset:O,palette_size:U,data_offset:W,data_length:e-W,transparent_index:y,interlaced:!!F,delay:x,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return w},this.frameInfo=function(B){if(B<0||B>=g.length)throw new Error("Frame index out of range.");return g[B]},this.decodeAndBlitFrameBGRA=function(B,X){var Q=this.frameInfo(B),ge=Q.width*Q.height,$=new Uint8Array(ge);tw(t,Q.data_offset,$,ge);var de=Q.palette_offset,ie=Q.transparent_index;ie===null&&(ie=256);var ye=Q.width,J=r-ye,te=ye,P=4*(Q.y*r+Q.x),Y=4*((Q.y+Q.height)*r+Q.x),G=P,ue=4*J;Q.interlaced===!0&&(ue+=4*r*7);for(var re=8,xe=0,je=$.length;xe<je;++xe){var Se=$[xe];if(te===0&&(te=ye,(G+=ue)>=Y&&(ue=4*J+4*r*(re-1),G=P+(ye+J)*(re<<1),re>>=1)),Se===ie)G+=4;else{var Le=t[de+3*Se],be=t[de+3*Se+1],Ge=t[de+3*Se+2];X[G++]=Ge,X[G++]=be,X[G++]=Le,X[G++]=255}--te}},this.decodeAndBlitFrameRGBA=function(B,X){var Q=this.frameInfo(B),ge=Q.width*Q.height,$=new Uint8Array(ge);tw(t,Q.data_offset,$,ge);var de=Q.palette_offset,ie=Q.transparent_index;ie===null&&(ie=256);var ye=Q.width,J=r-ye,te=ye,P=4*(Q.y*r+Q.x),Y=4*((Q.y+Q.height)*r+Q.x),G=P,ue=4*J;Q.interlaced===!0&&(ue+=4*r*7);for(var re=8,xe=0,je=$.length;xe<je;++xe){var Se=$[xe];if(te===0&&(te=ye,(G+=ue)>=Y&&(ue=4*J+4*r*(re-1),G=P+(ye+J)*(re<<1),re>>=1)),Se===ie)G+=4;else{var Le=t[de+3*Se],be=t[de+3*Se+1],Ge=t[de+3*Se+2];X[G++]=Le,X[G++]=be,X[G++]=Ge,X[G++]=255}--te}}}function tw(t,e,r,a){for(var n=t[e++],i=1<<n,l=i+1,d=l+1,u=n+1,h=(1<<u)-1,g=0,x=0,y=0,p=t[e++],w=new Int32Array(4096),j=null;;){for(;g<16&&p!==0;)x|=t[e++]<<g,g+=8,p===1?p=t[e++]:--p;if(g<u)break;var k=x&h;if(x>>=u,g-=u,k!==i){if(k===l)break;for(var C=k<d?k:j,L=0,E=C;E>i;)E=w[E]>>8,++L;var D=E;if(y+L+(C!==k?1:0)>a)return void Wr.log("Warning, gif stream longer than expected.");r[y++]=D;var F=y+=L;for(C!==k&&(r[y++]=D),E=C;L--;)E=w[E],r[--F]=255&E,E>>=8;j!==null&&d<4096&&(w[d++]=j<<8|D,d>=h+1&&u<12&&(++u,h=h<<1|1)),j=k}else d=l+1,h=(1<<(u=n+1))-1,j=null}return y!==a&&Wr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function qx(t){var e,r,a,n,i,l=Math.floor,d=new Array(64),u=new Array(64),h=new Array(64),g=new Array(64),x=new Array(65535),y=new Array(65535),p=new Array(64),w=new Array(64),j=[],k=0,C=7,L=new Array(64),E=new Array(64),D=new Array(64),F=new Array(256),se=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(P,Y){for(var G=0,ue=0,re=new Array,xe=1;xe<=16;xe++){for(var je=1;je<=P[xe];je++)re[Y[ue]]=[],re[Y[ue]][0]=G,re[Y[ue]][1]=xe,ue++,G++;G*=2}return re}function de(P){for(var Y=P[0],G=P[1]-1;G>=0;)Y&1<<G&&(k|=1<<C),G--,--C<0&&(k==255?(ie(255),ie(0)):ie(k),C=7,k=0)}function ie(P){j.push(P)}function ye(P){ie(P>>8&255),ie(255&P)}function J(P,Y,G,ue,re){for(var xe,je=re[0],Se=re[240],Le=(function(We,ut){var at,jt,pt,qt,ar,Pt,er,Wt,xt,Dt,bt=0;for(xt=0;xt<8;++xt){at=We[bt],jt=We[bt+1],pt=We[bt+2],qt=We[bt+3],ar=We[bt+4],Pt=We[bt+5],er=We[bt+6];var qr=at+(Wt=We[bt+7]),tr=at-Wt,Et=jt+er,Qt=jt-er,br=pt+Pt,ht=pt-Pt,kr=qt+ar,Rt=qt-ar,zt=qr+kr,Cr=qr-kr,Ht=Et+br,kt=Et-br;We[bt]=zt+Ht,We[bt+4]=zt-Ht;var ur=.707106781*(kt+Cr);We[bt+2]=Cr+ur,We[bt+6]=Cr-ur;var fn=.382683433*((zt=Rt+ht)-(kt=Qt+tr)),$a=.5411961*zt+fn,gn=1.306562965*kt+fn,mn=.707106781*(Ht=ht+Qt),At=tr+mn,ks=tr-mn;We[bt+5]=ks+$a,We[bt+3]=ks-$a,We[bt+1]=At+gn,We[bt+7]=At-gn,bt+=8}for(bt=0,xt=0;xt<8;++xt){at=We[bt],jt=We[bt+8],pt=We[bt+16],qt=We[bt+24],ar=We[bt+32],Pt=We[bt+40],er=We[bt+48];var Hs=at+(Wt=We[bt+56]),Ss=at-Wt,Cs=jt+er,zr=jt-er,ra=pt+Pt,Oa=pt-Pt,es=qt+ar,Vr=qt-ar,Tr=Hs+es,Wa=Hs-es,ls=Cs+ra,qs=Cs-ra;We[bt]=Tr+ls,We[bt+32]=Tr-ls;var cs=.707106781*(qs+Wa);We[bt+16]=Wa+cs,We[bt+48]=Wa-cs;var ds=.382683433*((Tr=Vr+Oa)-(qs=zr+Ss)),Sa=.5411961*Tr+ds,_s=1.306562965*qs+ds,ts=.707106781*(ls=Oa+zr),As=Ss+ts,wn=Ss-ts;We[bt+40]=wn+Sa,We[bt+24]=wn-Sa,We[bt+8]=As+_s,We[bt+56]=As-_s,bt++}for(xt=0;xt<64;++xt)Dt=We[xt]*ut[xt],p[xt]=Dt>0?Dt+.5|0:Dt-.5|0;return p})(P,Y),be=0;be<64;++be)w[O[be]]=Le[be];var Ge=w[0]-G;G=w[0],Ge==0?de(ue[0]):(de(ue[y[xe=32767+Ge]]),de(x[xe]));for(var Ve=63;Ve>0&&w[Ve]==0;)Ve--;if(Ve==0)return de(je),G;for(var ze,V=1;V<=Ve;){for(var Pe=V;w[V]==0&&V<=Ve;)++V;var st=V-Pe;if(st>=16){ze=st>>4;for(var rt=1;rt<=ze;++rt)de(Se);st&=15}xe=32767+w[V],de(re[(st<<4)+y[xe]]),de(x[xe]),V++}return Ve!=63&&de(je),G}function te(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(Y){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var re=l((G[ue]*Y+50)/100);re=Math.min(Math.max(re,1),255),d[O[ue]]=re}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var Se=l((xe[je]*Y+50)/100);Se=Math.min(Math.max(Se,1),255),u[O[je]]=Se}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,Ge=0;Ge<8;Ge++)for(var Ve=0;Ve<8;Ve++)h[be]=1/(d[O[be]]*Le[Ge]*Le[Ve]*8),g[be]=1/(u[O[be]]*Le[Ge]*Le[Ve]*8),be++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,Y){Y&&te(Y),j=new Array,k=0,C=7,ye(65496),ye(65504),ye(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ye(1),ye(1),ie(0),ie(0),(function(){ye(65499),ye(132),ie(0);for(var jt=0;jt<64;jt++)ie(d[jt]);ie(1);for(var pt=0;pt<64;pt++)ie(u[pt])})(),(function(jt,pt){ye(65472),ye(17),ie(8),ye(pt),ye(jt),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(P.width,P.height),(function(){ye(65476),ye(418),ie(0);for(var jt=0;jt<16;jt++)ie(U[jt+1]);for(var pt=0;pt<=11;pt++)ie(T[pt]);ie(16);for(var qt=0;qt<16;qt++)ie(W[qt+1]);for(var ar=0;ar<=161;ar++)ie(I[ar]);ie(1);for(var Pt=0;Pt<16;Pt++)ie(B[Pt+1]);for(var er=0;er<=11;er++)ie(X[er]);ie(17);for(var Wt=0;Wt<16;Wt++)ie(Q[Wt+1]);for(var xt=0;xt<=161;xt++)ie(ge[xt])})(),ye(65498),ye(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var G=0,ue=0,re=0;k=0,C=7,this.encode.displayName="_encode_";for(var xe,je,Se,Le,be,Ge,Ve,ze,V,Pe=P.data,st=P.width,rt=P.height,We=4*st,ut=0;ut<rt;){for(xe=0;xe<We;){for(be=We*ut+xe,Ve=-1,ze=0,V=0;V<64;V++)Ge=be+(ze=V>>3)*We+(Ve=4*(7&V)),ut+ze>=rt&&(Ge-=We*(ut+1+ze-rt)),xe+Ve>=We&&(Ge-=xe+Ve-We+4),je=Pe[Ge++],Se=Pe[Ge++],Le=Pe[Ge++],L[V]=(se[je]+se[Se+256|0]+se[Le+512|0]>>16)-128,E[V]=(se[je+768|0]+se[Se+1024|0]+se[Le+1280|0]>>16)-128,D[V]=(se[je+1280|0]+se[Se+1536|0]+se[Le+1792|0]>>16)-128;G=J(L,h,G,e,a),ue=J(E,g,ue,r,n),re=J(D,g,re,r,n),xe+=32}ut+=8}if(C>=0){var at=[];at[1]=C+1,at[0]=(1<<C+1)-1,de(at)}return ye(65497),new Uint8Array(j)},t=t||50,(function(){for(var P=String.fromCharCode,Y=0;Y<256;Y++)F[Y]=P(Y)})(),e=$(U,T),r=$(B,X),a=$(W,I),n=$(Q,ge),(function(){for(var P=1,Y=2,G=1;G<=15;G++){for(var ue=P;ue<Y;ue++)y[32767+ue]=G,x[32767+ue]=[],x[32767+ue][1]=G,x[32767+ue][0]=ue;for(var re=-(Y-1);re<=-P;re++)y[32767+re]=G,x[32767+re]=[],x[32767+re][1]=G,x[32767+re][0]=Y-1+re;P<<=1,Y<<=1}})(),(function(){for(var P=0;P<256;P++)se[P]=19595*P,se[P+256|0]=38470*P,se[P+512|0]=7471*P+32768,se[P+768|0]=-11059*P,se[P+1024|0]=-21709*P,se[P+1280|0]=32768*P+8421375,se[P+1536|0]=-27439*P,se[P+1792|0]=-5329*P})(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function uo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function rw(t){function e(T){if(!T)throw Error("assert :P")}function r(T,W,I){for(var B=0;4>B;B++)if(T[W+B]!=I.charCodeAt(B))return!0;return!1}function a(T,W,I,B,X){for(var Q=0;Q<X;Q++)T[W+Q]=I[B+Q]}function n(T,W,I,B){for(var X=0;X<B;X++)T[W+X]=I}function i(T){return new Int32Array(T)}function l(T,W){for(var I=[],B=0;B<T;B++)I.push(new W);return I}function d(T,W){var I=[];return(function B(X,Q,ge){for(var $=ge[Q],de=0;de<$&&(X.push(ge.length>Q+1?[]:new W),!(ge.length<Q+1));de++)B(X[de],Q+1,ge)})(I,0,T),I}var u=function(){var T=this;function W(b,N){for(var A=1<<N-1>>>0;b&A;)A>>>=1;return A?(b&A-1)+A:b}function I(b,N,A,M,H){e(!(M%A));do b[N+(M-=A)]=H;while(0<M)}function B(b,N,A,M,H){if(e(2328>=H),512>=H)var Z=i(512);else if((Z=i(H))==null)return 0;return(function(ee,ne,oe,ce,Ne,Re){var he,ke,we=ne,Oe=1<<oe,Ae=i(16),Ue=i(16);for(e(Ne!=0),e(ce!=null),e(ee!=null),e(0<oe),ke=0;ke<Ne;++ke){if(15<ce[ke])return 0;++Ae[ce[ke]]}if(Ae[0]==Ne)return 0;for(Ue[1]=0,he=1;15>he;++he){if(Ae[he]>1<<he)return 0;Ue[he+1]=Ue[he]+Ae[he]}for(ke=0;ke<Ne;++ke)he=ce[ke],0<ce[ke]&&(Re[Ue[he]++]=ke);if(Ue[15]==1)return(ce=new X).g=0,ce.value=Re[0],I(ee,we,1,Oe,ce),Oe;var He,et=-1,Ze=Oe-1,yt=0,dt=1,Kt=1,nt=1<<oe;for(ke=0,he=1,Ne=2;he<=oe;++he,Ne<<=1){if(dt+=Kt<<=1,0>(Kt-=Ae[he]))return 0;for(;0<Ae[he];--Ae[he])(ce=new X).g=he,ce.value=Re[ke++],I(ee,we+yt,Ne,nt,ce),yt=W(yt,he)}for(he=oe+1,Ne=2;15>=he;++he,Ne<<=1){if(dt+=Kt<<=1,0>(Kt-=Ae[he]))return 0;for(;0<Ae[he];--Ae[he]){if(ce=new X,(yt&Ze)!=et){for(we+=nt,He=1<<(et=he)-oe;15>et&&!(0>=(He-=Ae[et]));)++et,He<<=1;Oe+=nt=1<<(He=et-oe),ee[ne+(et=yt&Ze)].g=He+oe,ee[ne+et].value=we-ne-et}ce.g=he-oe,ce.value=Re[ke++],I(ee,we+(yt>>oe),Ne,nt,ce),yt=W(yt,he)}}return dt!=2*Ue[15]-1?0:Oe})(b,N,A,M,H,Z)}function X(){this.value=this.g=0}function Q(){this.value=this.g=0}function ge(){this.G=l(5,X),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Xi,Q)}function $(b,N,A,M){e(b!=null),e(N!=null),e(2147483648>M),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=N,b.pa=A,b.Jd=N,b.Yc=A+M,b.Zc=4<=M?A+M-4+1:A,je(b)}function de(b,N){for(var A=0;0<N--;)A|=Le(b,128)<<N;return A}function ie(b,N){var A=de(b,N);return Se(b)?-A:A}function ye(b,N,A,M){var H,Z=0;for(e(b!=null),e(N!=null),e(4294967288>M),b.Sb=M,b.Ra=0,b.u=0,b.h=0,4<M&&(M=4),H=0;H<M;++H)Z+=N[A+H]<<8*H;b.Ra=Z,b.bb=M,b.oa=N,b.pa=A}function J(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Zi-8>>>0,++b.bb,b.u-=8;ue(b)&&(b.h=1,b.u=0)}function te(b,N){if(e(0<=N),!b.h&&N<=$s){var A=G(b)&Ms[N];return b.u+=N,J(b),A}return b.h=1,b.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(b){return b.Ra>>>(b.u&Zi-1)>>>0}function ue(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Zi}function re(b,N){b.u=N,b.h=ue(b)}function xe(b){b.u>=pi&&(e(b.u>=pi),J(b))}function je(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function Se(b){return de(b,1)}function Le(b,N){var A=b.Ca;0>b.b&&je(b);var M=b.b,H=A*N>>>8,Z=(b.I>>>M>H)+0;for(Z?(A-=H,b.I-=H+1<<M>>>0):A=H+1,M=A,H=0;256<=M;)H+=8,M>>=8;return M=7^H+Eo[M],b.b-=M,b.Ca=(A<<M)-1,Z}function be(b,N,A){b[N+0]=A>>24&255,b[N+1]=A>>16&255,b[N+2]=A>>8&255,b[N+3]=255&A}function Ge(b,N){return b[N+0]|b[N+1]<<8}function Ve(b,N){return Ge(b,N)|b[N+2]<<16}function ze(b,N){return Ge(b,N)|Ge(b,N+2)<<16}function V(b,N){var A=1<<N;return e(b!=null),e(0<N),b.X=i(A),b.X==null?0:(b.Mb=32-N,b.Xa=N,1)}function Pe(b,N){e(b!=null),e(N!=null),e(b.Xa==N.Xa),a(N.X,0,b.X,0,1<<N.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function rt(b,N,A,M){e(A!=null),e(M!=null);var H=A[0],Z=M[0];return H==0&&(H=(b*Z+N/2)/N),Z==0&&(Z=(N*H+b/2)/b),0>=H||0>=Z?0:(A[0]=H,M[0]=Z,1)}function We(b,N){return b+(1<<N)-1>>>N}function ut(b,N){return((4278255360&b)+(4278255360&N)>>>0&4278255360)+((16711935&b)+(16711935&N)>>>0&16711935)>>>0}function at(b,N){T[N]=function(A,M,H,Z,ee,ne,oe){var ce;for(ce=0;ce<ee;++ce){var Ne=T[b](ne[oe+ce-1],H,Z+ce);ne[oe+ce]=ut(A[M+ce],Ne)}}}function jt(){this.ud=this.hd=this.jd=0}function pt(b,N){return((4278124286&(b^N))>>>1)+(b&N)>>>0}function qt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function ar(b,N){return qt(b+(b-N+.5>>1))}function Pt(b,N,A){return Math.abs(N-A)-Math.abs(b-A)}function er(b,N,A,M,H,Z,ee){for(M=Z[ee-1],A=0;A<H;++A)Z[ee+A]=M=ut(b[N+A],M)}function Wt(b,N,A,M,H){var Z;for(Z=0;Z<A;++Z){var ee=b[N+Z],ne=ee>>8&255,oe=16711935&(oe=(oe=16711935&ee)+((ne<<16)+ne));M[H+Z]=(4278255360&ee)+oe>>>0}}function xt(b,N){N.jd=255&b,N.hd=b>>8&255,N.ud=b>>16&255}function Dt(b,N,A,M,H,Z){var ee;for(ee=0;ee<M;++ee){var ne=N[A+ee],oe=ne>>>8,ce=ne,Ne=255&(Ne=(Ne=ne>>>16)+((b.jd<<24>>24)*(oe<<24>>24)>>>5));ce=255&(ce=(ce+=(b.hd<<24>>24)*(oe<<24>>24)>>>5)+((b.ud<<24>>24)*(Ne<<24>>24)>>>5)),H[Z+ee]=(4278255360&ne)+(Ne<<16)+ce}}function bt(b,N,A,M,H){T[N]=function(Z,ee,ne,oe,ce,Ne,Re,he,ke){for(oe=Re;oe<he;++oe)for(Re=0;Re<ke;++Re)ce[Ne++]=H(ne[M(Z[ee++])])},T[b]=function(Z,ee,ne,oe,ce,Ne,Re){var he=8>>Z.b,ke=Z.Ea,we=Z.K[0],Oe=Z.w;if(8>he)for(Z=(1<<Z.b)-1,Oe=(1<<he)-1;ee<ne;++ee){var Ae,Ue=0;for(Ae=0;Ae<ke;++Ae)Ae&Z||(Ue=M(oe[ce++])),Ne[Re++]=H(we[Ue&Oe]),Ue>>=he}else T["VP8LMapColor"+A](oe,ce,we,Oe,Ne,Re,ee,ne,ke)}}function qr(b,N,A,M,H){for(A=N+A;N<A;){var Z=b[N++];M[H++]=Z>>16&255,M[H++]=Z>>8&255,M[H++]=255&Z}}function tr(b,N,A,M,H){for(A=N+A;N<A;){var Z=b[N++];M[H++]=Z>>16&255,M[H++]=Z>>8&255,M[H++]=255&Z,M[H++]=Z>>24&255}}function Et(b,N,A,M,H){for(A=N+A;N<A;){var Z=(ee=b[N++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;M[H++]=Z,M[H++]=ee}}function Qt(b,N,A,M,H){for(A=N+A;N<A;){var Z=(ee=b[N++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;M[H++]=Z,M[H++]=ee}}function br(b,N,A,M,H){for(A=N+A;N<A;){var Z=b[N++];M[H++]=255&Z,M[H++]=Z>>8&255,M[H++]=Z>>16&255}}function ht(b,N,A,M,H,Z){if(Z==0)for(A=N+A;N<A;)be(M,((Z=b[N++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),H+=32;else a(M,H,b,N,A)}function kr(b,N){T[N][0]=T[b+"0"],T[N][1]=T[b+"1"],T[N][2]=T[b+"2"],T[N][3]=T[b+"3"],T[N][4]=T[b+"4"],T[N][5]=T[b+"5"],T[N][6]=T[b+"6"],T[N][7]=T[b+"7"],T[N][8]=T[b+"8"],T[N][9]=T[b+"9"],T[N][10]=T[b+"10"],T[N][11]=T[b+"11"],T[N][12]=T[b+"12"],T[N][13]=T[b+"13"],T[N][14]=T[b+"0"],T[N][15]=T[b+"0"]}function Rt(b){return b==Wn||b==Yn||b==yi||b==gu}function zt(){this.eb=[],this.size=this.A=this.fb=0}function Cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new Cr,this.sd=null}function kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fn(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function $a(b,N){var A=b.T,M=N.ba.f.RGBA,H=M.eb,Z=M.fb+b.ka*M.A,ee=Ds[N.ba.S],ne=b.y,oe=b.O,ce=b.f,Ne=b.N,Re=b.ea,he=b.W,ke=N.cc,we=N.dc,Oe=N.Mc,Ae=N.Nc,Ue=b.ka,He=b.ka+b.T,et=b.U,Ze=et+1>>1;for(Ue==0?ee(ne,oe,null,null,ce,Ne,Re,he,ce,Ne,Re,he,H,Z,null,null,et):(ee(N.ec,N.fc,ne,oe,ke,we,Oe,Ae,ce,Ne,Re,he,H,Z-M.A,H,Z,et),++A);Ue+2<He;Ue+=2)ke=ce,we=Ne,Oe=Re,Ae=he,Ne+=b.Rc,he+=b.Rc,Z+=2*M.A,ee(ne,(oe+=2*b.fa)-b.fa,ne,oe,ke,we,Oe,Ae,ce,Ne,Re,he,H,Z-M.A,H,Z,et);return oe+=b.fa,b.j+He<b.o?(a(N.ec,N.fc,ne,oe,et),a(N.cc,N.dc,ce,Ne,Ze),a(N.Mc,N.Nc,Re,he,Ze),A--):1&He||ee(ne,oe,null,null,ce,Ne,Re,he,ce,Ne,Re,he,H,Z+M.A,null,null,et),A}function gn(b,N,A){var M=b.F,H=[b.J];if(M!=null){var Z=b.U,ee=N.ba.S,ne=ee==Ps||ee==yi;N=N.ba.f.RGBA;var oe=[0],ce=b.ka;oe[0]=b.T,b.Kb&&(ce==0?--oe[0]:(--ce,H[0]-=b.width),b.j+b.ka+b.T==b.o&&(oe[0]=b.o-b.j-ce));var Ne=N.eb;ce=N.fb+ce*N.A,b=gl(M,H[0],b.width,Z,oe,Ne,ce+(ne?0:3),N.A),e(A==oe),b&&Rt(ee)&&Ts(Ne,ce,ne,Z,oe,N.A)}return 0}function mn(b){var N=b.ma,A=N.ba.S,M=11>A,H=A==eo||A==ml||A==Ps||A==Xs||A==12||Rt(A);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Lo(N.Oa,b,H?11:12))return 0;if(H&&Rt(A)&&dl(),b.da)alert("todo:use_scaling");else{if(M){if(N.Ib=fn,b.Kb){if(A=b.U+1>>1,N.memory=i(b.U+2*A),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+b.U,N.Mc=N.cc,N.Nc=N.dc+A,N.Ib=$a,dl()}}else alert("todo:EmitYUV");H&&(N.Jb=gn,M&&qn())}if(M&&!Zn){for(b=0;256>b;++b)Do[b]=89858*(b-128)+ud>>xl,ro[b]=-22014*(b-128)+ud,Oo[b]=-45773*(b-128),ff[b]=113618*(b-128)+ud>>xl;for(b=bl;b<hd;++b)N=76283*(b-16)+ud>>xl,Ba[b-bl]=Xa(N,255),xu[b-bl]=Xa(N+8>>4,15);Zn=1}return 1}function At(b){var N=b.ma,A=b.U,M=b.T;return e(!(1&b.ka)),0>=A||0>=M?0:(A=N.Ib(b,N),N.Jb!=null&&N.Jb(b,N,A),N.Dc+=A,1)}function ks(b){b.ma.memory=null}function Hs(b,N,A,M){return te(b,8)!=47?0:(N[0]=te(b,14)+1,A[0]=te(b,14)+1,M[0]=te(b,1),te(b,3)!=0?0:!b.h)}function Ss(b,N){if(4>b)return b+1;var A=b-2>>1;return(2+(1&b)<<A)+te(N,A)+1}function Cs(b,N){return 120<N?N-120:1<=(A=((A=Gn[N-1])>>4)*b+(8-(15&A)))?A:1;var A}function zr(b,N,A){var M=G(A),H=b[N+=255&M].g-8;return 0<H&&(re(A,A.u+8),M=G(A),N+=b[N].value,N+=M&(1<<H)-1),re(A,A.u+b[N].g),b[N].value}function ra(b,N,A){return A.g+=b.g,A.value+=b.value<<N>>>0,e(8>=A.g),b.g}function Oa(b,N,A){var M=b.xc;return e((N=M==0?0:b.vc[b.md*(A>>M)+(N>>M)])<b.Wb),b.Ya[N]}function es(b,N,A,M){var H=b.ab,Z=b.c*N,ee=b.C;N=ee+N;var ne=A,oe=M;for(M=b.Ta,A=b.Ua;0<H--;){var ce=b.gc[H],Ne=ee,Re=N,he=ne,ke=oe,we=(oe=M,ne=A,ce.Ea);switch(e(Ne<Re),e(Re<=ce.nc),ce.hc){case 2:ya(he,ke,(Re-Ne)*we,oe,ne);break;case 0:var Oe=Ne,Ae=Re,Ue=oe,He=ne,et=(nt=ce).Ea;Oe==0&&(rd(he,ke,null,null,1,Ue,He),er(he,ke+1,0,0,et-1,Ue,He+1),ke+=et,He+=et,++Oe);for(var Ze=1<<nt.b,yt=Ze-1,dt=We(et,nt.b),Kt=nt.K,nt=nt.w+(Oe>>nt.b)*dt;Oe<Ae;){var nr=Kt,va=nt,Gt=1;for(nc(he,ke,Ue,He-et,1,Ue,He);Gt<et;){var vt=(Gt&~yt)+Ze;vt>et&&(vt=et),(0,oc[nr[va++]>>8&15])(he,ke+ +Gt,Ue,He+Gt-et,vt-Gt,Ue,He+Gt),Gt=vt}ke+=et,He+=et,++Oe&yt||(nt+=dt)}Re!=ce.nc&&a(oe,ne-we,oe,ne+(Re-Ne-1)*we,we);break;case 1:for(we=he,Ae=ke,et=(he=ce.Ea)-(He=he&~(Ue=(ke=1<<ce.b)-1)),Oe=We(he,ce.b),Ze=ce.K,ce=ce.w+(Ne>>ce.b)*Oe;Ne<Re;){for(yt=Ze,dt=ce,Kt=new jt,nt=Ae+He,nr=Ae+he;Ae<nt;)xt(yt[dt++],Kt),lc(Kt,we,Ae,ke,oe,ne),Ae+=ke,ne+=ke;Ae<nr&&(xt(yt[dt++],Kt),lc(Kt,we,Ae,et,oe,ne),Ae+=et,ne+=et),++Ne&Ue||(ce+=Oe)}break;case 3:if(he==oe&&ke==ne&&0<ce.b){for(Ae=oe,he=we=ne+(Re-Ne)*we-(He=(Re-Ne)*We(ce.Ea,ce.b)),ke=oe,Ue=ne,Oe=[],He=(et=He)-1;0<=He;--He)Oe[He]=ke[Ue+He];for(He=et-1;0<=He;--He)Ae[he+He]=Oe[He];uu(ce,Ne,Re,oe,we,oe,ne)}else uu(ce,Ne,Re,he,ke,oe,ne)}ne=M,oe=A}oe!=A&&a(M,A,ne,oe,Z)}function Vr(b,N){var A=b.V,M=b.Ba+b.c*b.C,H=N-b.C;if(e(N<=b.l.o),e(16>=H),0<H){var Z=b.l,ee=b.Ta,ne=b.Ua,oe=Z.width;if(es(b,H,A,M),H=ne=[ne],e((A=b.C)<(M=N)),e(Z.v<Z.va),M>Z.o&&(M=Z.o),A<Z.j){var ce=Z.j-A;A=Z.j,H[0]+=ce*oe}if(A>=M?A=0:(H[0]+=4*Z.v,Z.ka=A-Z.j,Z.U=Z.va-Z.v,Z.T=M-A,A=1),A){if(ne=ne[0],11>(A=b.ca).S){var Ne=A.f.RGBA,Re=(M=A.S,H=Z.U,Z=Z.T,ce=Ne.eb,Ne.A),he=Z;for(Ne=Ne.fb+b.Ma*Ne.A;0<he--;){var ke=ee,we=ne,Oe=H,Ae=ce,Ue=Ne;switch(M){case Ji:cc(ke,we,Oe,Ae,Ue);break;case eo:xi(ke,we,Oe,Ae,Ue);break;case Wn:xi(ke,we,Oe,Ae,Ue),Ts(Ae,Ue,0,Oe,1,0);break;case id:kn(ke,we,Oe,Ae,Ue);break;case ml:ht(ke,we,Oe,Ae,Ue,1);break;case Yn:ht(ke,we,Oe,Ae,Ue,1),Ts(Ae,Ue,0,Oe,1,0);break;case Ps:ht(ke,we,Oe,Ae,Ue,0);break;case yi:ht(ke,we,Oe,Ae,Ue,0),Ts(Ae,Ue,1,Oe,1,0);break;case Xs:Mo(ke,we,Oe,Ae,Ue);break;case gu:Mo(ke,we,Oe,Ae,Ue),bn(Ae,Ue,Oe,1,0);break;case To:Ro(ke,we,Oe,Ae,Ue);break;default:e(0)}ne+=oe,Ne+=Re}b.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=A.height)}}b.C=N,e(b.C<=b.i)}function Tr(b){var N;if(0<b.ua)return 0;for(N=0;N<b.Wb;++N){var A=b.Ya[N].G,M=b.Ya[N].H;if(0<A[1][M[1]+0].g||0<A[2][M[2]+0].g||0<A[3][M[3]+0].g)return 0}return 1}function Wa(b,N,A,M,H,Z){if(b.Z!=0){var ee=b.qd,ne=b.rd;for(e(Cn[b.Z]!=null);N<A;++N)Cn[b.Z](ee,ne,M,H,M,H,Z),ee=M,ne=H,H+=Z;b.qd=ee,b.rd=ne}}function ls(b,N){var A=b.l.ma,M=A.Z==0||A.Z==1?b.l.j:b.C;if(M=b.C<M?M:b.C,e(N<=b.l.o),N>M){var H=b.l.width,Z=A.ca,ee=A.tb+H*M,ne=b.V,oe=b.Ba+b.c*M,ce=b.gc;e(b.ab==1),e(ce[0].hc==3),Ws(ce[0],M,N,ne,oe,Z,ee),Wa(A,M,N,Z,ee,H)}b.C=b.Ma=N}function qs(b,N,A,M,H,Z,ee){var ne=b.$/M,oe=b.$%M,ce=b.m,Ne=b.s,Re=A+b.$,he=Re;H=A+M*H;var ke=A+M*Z,we=280+Ne.ua,Oe=b.Pb?ne:16777216,Ae=0<Ne.ua?Ne.Wa:null,Ue=Ne.wc,He=Re<ke?Oa(Ne,oe,ne):null;e(b.C<Z),e(ke<=H);var et=!1;e:for(;;){for(;et||Re<ke;){var Ze=0;if(ne>=Oe){var yt=Re-A;e((Oe=b).Pb),Oe.wd=Oe.m,Oe.xd=yt,0<Oe.s.ua&&Pe(Oe.s.Wa,Oe.s.vb),Oe=ne+Ph}if(oe&Ue||(He=Oa(Ne,oe,ne)),e(He!=null),He.Qb&&(N[Re]=He.qb,et=!0),!et)if(xe(ce),He.jc){Ze=ce,yt=N;var dt=Re,Kt=He.pd[G(Ze)&Xi-1];e(He.jc),256>Kt.g?(re(Ze,Ze.u+Kt.g),yt[dt]=Kt.value,Ze=0):(re(Ze,Ze.u+Kt.g-256),e(256<=Kt.value),Ze=Kt.value),Ze==0&&(et=!0)}else Ze=zr(He.G[0],He.H[0],ce);if(ce.h)break;if(et||256>Ze){if(!et)if(He.nd)N[Re]=(He.qb|Ze<<8)>>>0;else{if(xe(ce),et=zr(He.G[1],He.H[1],ce),xe(ce),yt=zr(He.G[2],He.H[2],ce),dt=zr(He.G[3],He.H[3],ce),ce.h)break;N[Re]=(dt<<24|et<<16|Ze<<8|yt)>>>0}if(et=!1,++Re,++oe>=M&&(oe=0,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(b,ne),Ae!=null))for(;he<Re;)Ze=N[he++],Ae.X[(506832829*Ze&4294967295)>>>Ae.Mb]=Ze}else if(280>Ze){if(Ze=Ss(Ze-256,ce),yt=zr(He.G[4],He.H[4],ce),xe(ce),yt=Cs(M,yt=Ss(yt,ce)),ce.h)break;if(Re-A<yt||H-Re<Ze)break e;for(dt=0;dt<Ze;++dt)N[Re+dt]=N[Re+dt-yt];for(Re+=Ze,oe+=Ze;oe>=M;)oe-=M,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(b,ne);if(e(Re<=H),oe&Ue&&(He=Oa(Ne,oe,ne)),Ae!=null)for(;he<Re;)Ze=N[he++],Ae.X[(506832829*Ze&4294967295)>>>Ae.Mb]=Ze}else{if(!(Ze<we))break e;for(et=Ze-280,e(Ae!=null);he<Re;)Ze=N[he++],Ae.X[(506832829*Ze&4294967295)>>>Ae.Mb]=Ze;Ze=Re,e(!(et>>>(yt=Ae).Xa)),N[Ze]=yt.X[et],et=!0}et||e(ce.h==ue(ce))}if(b.Pb&&ce.h&&Re<H)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Pe(b.s.vb,b.s.Wa);else{if(ce.h)break e;ee!=null&&ee(b,ne>Z?Z:ne),b.a=0,b.$=Re-A}return 1}return b.a=3,0}function cs(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var N=b.Wa;N!=null&&(N.X=null),b.vb=null,e(b!=null)}function ds(){var b=new Ft;return b==null?null:(b.a=0,b.xb=pl,kr("Predictor","VP8LPredictors"),kr("Predictor","VP8LPredictors_C"),kr("PredictorAdd","VP8LPredictorsAdd"),kr("PredictorAdd","VP8LPredictorsAdd_C"),ya=Wt,lc=Dt,cc=qr,xi=tr,Mo=Et,Ro=Qt,kn=br,T.VP8LMapColor32b=ua,T.VP8LMapColor8b=ic,b)}function Sa(b,N,A,M,H){var Z=1,ee=[b],ne=[N],oe=M.m,ce=M.s,Ne=null,Re=0;e:for(;;){if(A)for(;Z&&te(oe,1);){var he=ee,ke=ne,we=M,Oe=1,Ae=we.m,Ue=we.gc[we.ab],He=te(Ae,2);if(we.Oc&1<<He)Z=0;else{switch(we.Oc|=1<<He,Ue.hc=He,Ue.Ea=he[0],Ue.nc=ke[0],Ue.K=[null],++we.ab,e(4>=we.ab),He){case 0:case 1:Ue.b=te(Ae,3)+2,Oe=Sa(We(Ue.Ea,Ue.b),We(Ue.nc,Ue.b),0,we,Ue.K),Ue.K=Ue.K[0];break;case 3:var et,Ze=te(Ae,8)+1,yt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(he[0]=We(Ue.Ea,yt),Ue.b=yt,et=Oe=Sa(Ze,1,0,we,Ue.K)){var dt,Kt=Ze,nt=Ue,nr=1<<(8>>nt.b),va=i(nr);if(va==null)et=0;else{var Gt=nt.K[0],vt=nt.w;for(va[0]=nt.K[0][0],dt=1;dt<1*Kt;++dt)va[dt]=ut(Gt[vt+dt],va[dt-1]);for(;dt<4*nr;++dt)va[dt]=0;nt.K[0]=null,nt.K[0]=va,et=1}}Oe=et;break;case 2:break;default:e(0)}Z=Oe}}if(ee=ee[0],ne=ne[0],Z&&te(oe,1)&&!(Z=1<=(Re=te(oe,4))&&11>=Re)){M.a=3;break e}var ot;if(ot=Z)t:{var oa,It,or,sr=M,lr=ee,Qa=ne,Ur=Re,Ia=A,ns=sr.m,Or=sr.s,cr=[null],Sr=1,Xr=0,Ar=vi[Ur];r:for(;;){if(Ia&&te(ns,1)){var Ka=te(ns,3)+2,An=We(lr,Ka),ha=We(Qa,Ka),Os=An*ha;if(!Sa(An,ha,0,sr,cr))break r;for(cr=cr[0],Or.xc=Ka,oa=0;oa<Os;++oa){var Mr=cr[oa]>>8&65535;cr[oa]=Mr,Mr>=Sr&&(Sr=Mr+1)}}if(ns.h)break r;for(It=0;5>It;++It){var wa=ps[It];!It&&0<Ur&&(wa+=1<<Ur),Xr<wa&&(Xr=wa)}var Zs=l(Sr*Ar,X),Fs=Sr,Qs=l(Fs,ge);if(Qs==null)var Ks=null;else e(65536>=Fs),Ks=Qs;var Bs=i(Xr);if(Ks==null||Bs==null||Zs==null){sr.a=1;break r}var zs=Zs;for(oa=or=0;oa<Sr;++oa){var Fr=Ks[oa],Js=Fr.G,Ln=Fr.H,Fo=0,wi=1,is=0;for(It=0;5>It;++It){wa=ps[It],Js[It]=zs,Ln[It]=or,!It&&0<Ur&&(wa+=1<<Ur);s:{var fd,Bo=wa,gd=sr,zo=Bs,vu=zs,mf=or,md=0,ao=gd.m,pf=te(ao,1);if(n(zo,0,0,Bo),pf){var xf=te(ao,1)+1,bf=te(ao,1),wu=te(ao,bf==0?1:8);zo[wu]=1,xf==2&&(zo[wu=te(ao,8)]=1);var pd=1}else{var zh=i(19),Nu=te(ao,4)+4;if(19<Nu){gd.a=3;var xd=0;break s}for(fd=0;fd<Nu;++fd)zh[wr[fd]]=te(ao,3);var ju=void 0,bd=void 0,ku=gd,yf=zh,yd=Bo,Su=zo,Cu=0,so=ku.m,vf=8,wf=l(128,X);a:for(;B(wf,0,7,yf,19);){if(te(so,1)){var Nf=2+2*te(so,3);if((ju=2+te(so,Nf))>yd)break a}else ju=yd;for(bd=0;bd<yd&&ju--;){xe(so);var mc=wf[0+(127&G(so))];re(so,so.u+mc.g);var Io=mc.value;if(16>Io)Su[bd++]=Io,Io!=0&&(vf=Io);else{var _u=Io==16,Ih=Io-16,jf=Th[Ih],Qn=te(so,Rh[Ih])+jf;if(bd+Qn>yd)break a;for(var yl=_u?vf:0;0<Qn--;)Su[bd++]=yl}}Cu=1;break a}Cu||(ku.a=3),pd=Cu}(pd=pd&&!ao.h)&&(md=B(vu,mf,8,zo,Bo)),pd&&md!=0?xd=md:(gd.a=3,xd=0)}if(xd==0)break r;if(wi&&ss[It]==1&&(wi=zs[or].g==0),Fo+=zs[or].g,or+=xd,3>=It){var En,no=Bs[0];for(En=1;En<wa;++En)Bs[En]>no&&(no=Bs[En]);is+=no}}if(Fr.nd=wi,Fr.Qb=0,wi&&(Fr.qb=(Js[3][Ln[3]+0].value<<24|Js[1][Ln[1]+0].value<<16|Js[2][Ln[2]+0].value)>>>0,Fo==0&&256>Js[0][Ln[0]+0].value&&(Fr.Qb=1,Fr.qb+=Js[0][Ln[0]+0].value<<8)),Fr.jc=!Fr.Qb&&6>is,Fr.jc){var pc,Kn=Fr;for(pc=0;pc<Xi;++pc){var io=pc,oo=Kn.pd[io],Ni=Kn.G[0][Kn.H[0]+io];256<=Ni.value?(oo.g=Ni.g+256,oo.value=Ni.value):(oo.g=0,oo.value=0,io>>=ra(Ni,8,oo),io>>=ra(Kn.G[1][Kn.H[1]+io],16,oo),io>>=ra(Kn.G[2][Kn.H[2]+io],0,oo),ra(Kn.G[3][Kn.H[3]+io],24,oo))}}}Or.vc=cr,Or.Wb=Sr,Or.Ya=Ks,Or.yc=Zs,ot=1;break t}ot=0}if(!(Z=ot)){M.a=3;break e}if(0<Re){if(ce.ua=1<<Re,!V(ce.Wa,Re)){M.a=1,Z=0;break e}}else ce.ua=0;var xc=M,Uh=ee,kf=ne,Au=xc.s,bc=Au.xc;if(xc.c=Uh,xc.i=kf,Au.md=We(Uh,bc),Au.wc=bc==0?-1:(1<<bc)-1,A){M.xb=hf;break e}if((Ne=i(ee*ne))==null){M.a=1,Z=0;break e}Z=(Z=qs(M,Ne,0,ee,ne,ne,null))&&!oe.h;break e}return Z?(H!=null?H[0]=Ne:(e(Ne==null),e(A)),M.$=0,A||cs(ce)):cs(ce),Z}function _s(b,N){var A=b.c*b.i,M=A+N+16*N;return e(b.c<=N),b.V=i(M),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+A+N,1)}function ts(b,N){var A=b.C,M=N-A,H=b.V,Z=b.Ba+b.c*A;for(e(N<=b.l.o);0<M;){var ee=16<M?16:M,ne=b.l.ma,oe=b.l.width,ce=oe*ee,Ne=ne.ca,Re=ne.tb+oe*A,he=b.Ta,ke=b.Ua;es(b,ee,H,Z),hu(he,ke,Ne,Re,ce),Wa(ne,A,A+ee,Ne,Re,oe),M-=ee,H+=ee*b.c,A+=ee}e(A==N),b.C=b.Ma=N}function As(){this.ub=this.yd=this.td=this.Rb=0}function wn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ii(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Pr(){this.Yb=(function(){var b=[];return(function N(A,M,H){for(var Z=H[M],ee=0;ee<Z&&(A.push(H.length>M+1?[]:0),!(H.length<M+1));ee++)N(A[ee],M+1,H)})(b,0,[3,11]),b})()}function Ya(){this.jb=i(3),this.Wc=d([4,8],Pr),this.Xc=d([4,17],Pr)}function Nn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Dr(){this.ld=this.La=this.dd=this.tc=0}function Ca(){this.Na=this.la=0}function Ga(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function us(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ls(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dr),this.Y=0,this.ya=Array(new us),this.aa=0,this.l=new xa}function yo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function sl(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new As,this.Kc=new wn,this.ed=new Nn,this.Qa=new ii,this.Ic=this.$c=this.Aa=0,this.D=new Ls,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,P),this.ia=0,this.pb=l(4,Ga),this.Pa=new Ya,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yo),this.Hd=0,this.rb=Array(new Ca),this.sb=0,this.wa=Array(new Dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new us),this.L=this.aa=0,this.gd=d([4,2],Dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xa(b,N){return 0>b?0:b>N?N:b}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hs(){var b=new sl;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,hc||(hc=pn)),b}function hr(b,N,A){return b.a==0&&(b.a=N,b.sc=A,b.cb=0),0}function zi(b,N,A){return 3<=A&&b[N+0]==157&&b[N+1]==1&&b[N+2]==42}function Vs(b,N){if(b==null)return 0;if(b.a=0,b.sc="OK",N==null)return hr(b,2,"null VP8Io passed to VP8GetHeaders()");var A=N.data,M=N.w,H=N.ha;if(4>H)return hr(b,7,"Truncated header.");var Z=A[M+0]|A[M+1]<<8|A[M+2]<<16,ee=b.Od;if(ee.Rb=!(1&Z),ee.td=Z>>1&7,ee.yd=Z>>4&1,ee.ub=Z>>5,3<ee.td)return hr(b,3,"Incorrect keyframe parameters.");if(!ee.yd)return hr(b,4,"Frame not displayable.");M+=3,H-=3;var ne=b.Kc;if(ee.Rb){if(7>H)return hr(b,7,"cannot parse picture header");if(!zi(A,M,H))return hr(b,3,"Bad code word");ne.c=16383&(A[M+4]<<8|A[M+3]),ne.Td=A[M+4]>>6,ne.i=16383&(A[M+6]<<8|A[M+5]),ne.Ud=A[M+6]>>6,M+=7,H-=7,b.za=ne.c+15>>4,b.Ub=ne.i+15>>4,N.width=ne.c,N.height=ne.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,n((Z=b.Pa).jb,0,255,Z.jb.length),e((Z=b.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,n(Z.Zb,0,0,Z.Zb.length),n(Z.Lb,0,0,Z.Lb)}if(ee.ub>H)return hr(b,7,"bad partition length");$(Z=b.m,A,M,ee.ub),M+=ee.ub,H-=ee.ub,ee.Rb&&(ne.Ld=Se(Z),ne.Kd=Se(Z)),ne=b.Qa;var oe,ce=b.Pa;if(e(Z!=null),e(ne!=null),ne.Cb=Se(Z),ne.Cb){if(ne.Bb=Se(Z),Se(Z)){for(ne.Fb=Se(Z),oe=0;4>oe;++oe)ne.Zb[oe]=Se(Z)?ie(Z,7):0;for(oe=0;4>oe;++oe)ne.Lb[oe]=Se(Z)?ie(Z,6):0}if(ne.Bb)for(oe=0;3>oe;++oe)ce.jb[oe]=Se(Z)?de(Z,8):255}else ne.Bb=0;if(Z.Ka)return hr(b,3,"cannot parse segment header");if((ne=b.ed).zd=Se(Z),ne.Tb=de(Z,6),ne.wb=de(Z,3),ne.Pc=Se(Z),ne.Pc&&Se(Z)){for(ce=0;4>ce;++ce)Se(Z)&&(ne.vd[ce]=ie(Z,6));for(ce=0;4>ce;++ce)Se(Z)&&(ne.od[ce]=ie(Z,6))}if(b.L=ne.Tb==0?0:ne.zd?1:2,Z.Ka)return hr(b,3,"cannot parse filter header");var Ne=H;if(H=oe=M,M=oe+Ne,ne=Ne,b.Xb=(1<<de(b.m,2))-1,Ne<3*(ce=b.Xb))A=7;else{for(oe+=3*ce,ne-=3*ce,Ne=0;Ne<ce;++Ne){var Re=A[H+0]|A[H+1]<<8|A[H+2]<<16;Re>ne&&(Re=ne),$(b.Jc[+Ne],A,oe,Re),oe+=Re,ne-=Re,H+=3}$(b.Jc[+ce],A,oe,ne),A=oe<M?0:5}if(A!=0)return hr(b,A,"cannot parse partitions");for(A=de(oe=b.m,7),H=Se(oe)?ie(oe,4):0,M=Se(oe)?ie(oe,4):0,ne=Se(oe)?ie(oe,4):0,ce=Se(oe)?ie(oe,4):0,oe=Se(oe)?ie(oe,4):0,Ne=b.Qa,Re=0;4>Re;++Re){if(Ne.Cb){var he=Ne.Zb[Re];Ne.Fb||(he+=A)}else{if(0<Re){b.pb[Re]=b.pb[0];continue}he=A}var ke=b.pb[Re];ke.Sc[0]=to[Xa(he+H,127)],ke.Sc[1]=mu[Xa(he+0,127)],ke.Eb[0]=2*to[Xa(he+M,127)],ke.Eb[1]=101581*mu[Xa(he+ne,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=to[Xa(he+ce,117)],ke.Qc[1]=mu[Xa(he+oe,127)],ke.lc=he+oe}if(!ee.Rb)return hr(b,4,"Not a key frame.");for(Se(Z),ee=b.Pa,A=0;4>A;++A){for(H=0;8>H;++H)for(M=0;3>M;++M)for(ne=0;11>ne;++ne)ce=Le(Z,Dh[A][H][M][ne])?de(Z,8):cd[A][H][M][ne],ee.Wc[A][H].Yb[M][ne]=ce;for(H=0;17>H;++H)ee.Xc[A][H]=ee.Wc[A][uf[H]]}return b.kc=Se(Z),b.kc&&(b.Bd=de(Z,8)),b.cb=1}function pn(b,N,A,M,H,Z,ee){var ne=N[H].Yb[A];for(A=0;16>H;++H){if(!Le(b,ne[A+0]))return H;for(;!Le(b,ne[A+1]);)if(ne=N[++H].Yb[0],A=0,H==16)return 16;var oe=N[H+1].Yb;if(Le(b,ne[A+2])){var ce=b,Ne=0;if(Le(ce,(he=ne)[(Re=A)+3]))if(Le(ce,he[Re+6])){for(ne=0,Re=2*(Ne=Le(ce,he[Re+8]))+(he=Le(ce,he[Re+9+Ne])),Ne=0,he=od[Re];he[ne];++ne)Ne+=Ne+Le(ce,he[ne]);Ne+=3+(8<<Re)}else Le(ce,he[Re+7])?(Ne=7+2*Le(ce,165),Ne+=Le(ce,145)):Ne=5+Le(ce,159);else Ne=Le(ce,he[Re+4])?3+Le(ce,he[Re+5]):2;ne=oe[2]}else Ne=1,ne=oe[1];oe=ee+ld[H],0>(ce=b).b&&je(ce);var Re,he=ce.b,ke=(Re=ce.Ca>>1)-(ce.I>>he)>>31;--ce.b,ce.Ca+=ke,ce.Ca|=1,ce.I-=(Re+1&ke)<<he,Z[oe]=((Ne^ke)-ke)*M[(0<H)+0]}return 16}function oi(b){var N=b.rb[b.sb-1];N.la=0,N.Na=0,n(b.zc,0,0,b.zc.length),b.ja=0}function Yr(b,N,A,M,H){H=b[N+A+32*M]+(H>>3),b[N+A+32*M]=-256&H?0>H?0:255:H}function ba(b,N,A,M,H,Z){Yr(b,N,0,A,M+H),Yr(b,N,1,A,M+Z),Yr(b,N,2,A,M-Z),Yr(b,N,3,A,M-H)}function aa(b){return(20091*b>>16)+b}function li(b,N,A,M){var H,Z=0,ee=i(16);for(H=0;4>H;++H){var ne=b[N+0]+b[N+8],oe=b[N+0]-b[N+8],ce=(35468*b[N+4]>>16)-aa(b[N+12]),Ne=aa(b[N+4])+(35468*b[N+12]>>16);ee[Z+0]=ne+Ne,ee[Z+1]=oe+ce,ee[Z+2]=oe-ce,ee[Z+3]=ne-Ne,Z+=4,N++}for(H=Z=0;4>H;++H)ne=(b=ee[Z+0]+4)+ee[Z+8],oe=b-ee[Z+8],ce=(35468*ee[Z+4]>>16)-aa(ee[Z+12]),Yr(A,M,0,0,ne+(Ne=aa(ee[Z+4])+(35468*ee[Z+12]>>16))),Yr(A,M,1,0,oe+ce),Yr(A,M,2,0,oe-ce),Yr(A,M,3,0,ne-Ne),Z++,M+=32}function nl(b,N,A,M){var H=b[N+0]+4,Z=35468*b[N+4]>>16,ee=aa(b[N+4]),ne=35468*b[N+1]>>16;ba(A,M,0,H+ee,b=aa(b[N+1]),ne),ba(A,M,1,H+Z,b,ne),ba(A,M,2,H-Z,b,ne),ba(A,M,3,H-ee,b,ne)}function il(b,N,A,M,H){li(b,N,A,M),H&&li(b,N+16,A,M+4)}function rs(b,N,A,M){Vn(b,N+0,A,M,1),Vn(b,N+32,A,M+128,1)}function K(b,N,A,M){var H;for(b=b[N+0]+4,H=0;4>H;++H)for(N=0;4>N;++N)Yr(A,M,N,H,b)}function le(b,N,A,M){b[N+0]&&ir(b,N+0,A,M),b[N+16]&&ir(b,N+16,A,M+4),b[N+32]&&ir(b,N+32,A,M+128),b[N+48]&&ir(b,N+48,A,M+128+4)}function pe(b,N,A,M){var H,Z=i(16);for(H=0;4>H;++H){var ee=b[N+0+H]+b[N+12+H],ne=b[N+4+H]+b[N+8+H],oe=b[N+4+H]-b[N+8+H],ce=b[N+0+H]-b[N+12+H];Z[0+H]=ee+ne,Z[8+H]=ee-ne,Z[4+H]=ce+oe,Z[12+H]=ce-oe}for(H=0;4>H;++H)ee=(b=Z[0+4*H]+3)+Z[3+4*H],ne=Z[1+4*H]+Z[2+4*H],oe=Z[1+4*H]-Z[2+4*H],ce=b-Z[3+4*H],A[M+0]=ee+ne>>3,A[M+16]=ce+oe>>3,A[M+32]=ee-ne>>3,A[M+48]=ce-oe>>3,M+=64}function De(b,N,A){var M,H=N-32,Z=Gs,ee=255-b[H-1];for(M=0;M<A;++M){var ne,oe=Z,ce=ee+b[N-1];for(ne=0;ne<A;++ne)b[N+ne]=oe[ce+b[H+ne]];N+=32}}function Je(b,N){De(b,N,4)}function ct(b,N){De(b,N,8)}function Vt(b,N){De(b,N,16)}function Gr(b,N){var A;for(A=0;16>A;++A)a(b,N+32*A,b,N-32,16)}function da(b,N){var A;for(A=16;0<A;--A)n(b,N,b[N-1],16),N+=32}function _r(b,N,A){var M;for(M=0;16>M;++M)n(N,A+32*M,b,16)}function fs(b,N){var A,M=16;for(A=0;16>A;++A)M+=b[N-1+32*A]+b[N+A-32];_r(M>>5,b,N)}function Ii(b,N){var A,M=8;for(A=0;16>A;++A)M+=b[N-1+32*A];_r(M>>4,b,N)}function ci(b,N){var A,M=8;for(A=0;16>A;++A)M+=b[N+A-32];_r(M>>4,b,N)}function vo(b,N){_r(128,b,N)}function Ot(b,N,A){return b+2*N+A+2>>2}function Kc(b,N){var A,M=N-32;for(M=new Uint8Array([Ot(b[M-1],b[M+0],b[M+1]),Ot(b[M+0],b[M+1],b[M+2]),Ot(b[M+1],b[M+2],b[M+3]),Ot(b[M+2],b[M+3],b[M+4])]),A=0;4>A;++A)a(b,N+32*A,M,0,M.length)}function iu(b,N){var A=b[N-1],M=b[N-1+32],H=b[N-1+64],Z=b[N-1+96];be(b,N+0,16843009*Ot(b[N-1-32],A,M)),be(b,N+32,16843009*Ot(A,M,H)),be(b,N+64,16843009*Ot(M,H,Z)),be(b,N+96,16843009*Ot(H,Z,Z))}function ol(b,N){var A,M=4;for(A=0;4>A;++A)M+=b[N+A-32]+b[N-1+32*A];for(M>>=3,A=0;4>A;++A)n(b,N+32*A,M,4)}function In(b,N){var A=b[N-1+0],M=b[N-1+32],H=b[N-1+64],Z=b[N-1-32],ee=b[N+0-32],ne=b[N+1-32],oe=b[N+2-32],ce=b[N+3-32];b[N+0+96]=Ot(M,H,b[N-1+96]),b[N+1+96]=b[N+0+64]=Ot(A,M,H),b[N+2+96]=b[N+1+64]=b[N+0+32]=Ot(Z,A,M),b[N+3+96]=b[N+2+64]=b[N+1+32]=b[N+0+0]=Ot(ee,Z,A),b[N+3+64]=b[N+2+32]=b[N+1+0]=Ot(ne,ee,Z),b[N+3+32]=b[N+2+0]=Ot(oe,ne,ee),b[N+3+0]=Ot(ce,oe,ne)}function xn(b,N){var A=b[N+1-32],M=b[N+2-32],H=b[N+3-32],Z=b[N+4-32],ee=b[N+5-32],ne=b[N+6-32],oe=b[N+7-32];b[N+0+0]=Ot(b[N+0-32],A,M),b[N+1+0]=b[N+0+32]=Ot(A,M,H),b[N+2+0]=b[N+1+32]=b[N+0+64]=Ot(M,H,Z),b[N+3+0]=b[N+2+32]=b[N+1+64]=b[N+0+96]=Ot(H,Z,ee),b[N+3+32]=b[N+2+64]=b[N+1+96]=Ot(Z,ee,ne),b[N+3+64]=b[N+2+96]=Ot(ee,ne,oe),b[N+3+96]=Ot(ne,oe,oe)}function di(b,N){var A=b[N-1+0],M=b[N-1+32],H=b[N-1+64],Z=b[N-1-32],ee=b[N+0-32],ne=b[N+1-32],oe=b[N+2-32],ce=b[N+3-32];b[N+0+0]=b[N+1+64]=Z+ee+1>>1,b[N+1+0]=b[N+2+64]=ee+ne+1>>1,b[N+2+0]=b[N+3+64]=ne+oe+1>>1,b[N+3+0]=oe+ce+1>>1,b[N+0+96]=Ot(H,M,A),b[N+0+64]=Ot(M,A,Z),b[N+0+32]=b[N+1+96]=Ot(A,Z,ee),b[N+1+32]=b[N+2+96]=Ot(Z,ee,ne),b[N+2+32]=b[N+3+96]=Ot(ee,ne,oe),b[N+3+32]=Ot(ne,oe,ce)}function Jc(b,N){var A=b[N+0-32],M=b[N+1-32],H=b[N+2-32],Z=b[N+3-32],ee=b[N+4-32],ne=b[N+5-32],oe=b[N+6-32],ce=b[N+7-32];b[N+0+0]=A+M+1>>1,b[N+1+0]=b[N+0+64]=M+H+1>>1,b[N+2+0]=b[N+1+64]=H+Z+1>>1,b[N+3+0]=b[N+2+64]=Z+ee+1>>1,b[N+0+32]=Ot(A,M,H),b[N+1+32]=b[N+0+96]=Ot(M,H,Z),b[N+2+32]=b[N+1+96]=Ot(H,Z,ee),b[N+3+32]=b[N+2+96]=Ot(Z,ee,ne),b[N+3+64]=Ot(ee,ne,oe),b[N+3+96]=Ot(ne,oe,ce)}function Ui(b,N){var A=b[N-1+0],M=b[N-1+32],H=b[N-1+64],Z=b[N-1+96];b[N+0+0]=A+M+1>>1,b[N+2+0]=b[N+0+32]=M+H+1>>1,b[N+2+32]=b[N+0+64]=H+Z+1>>1,b[N+1+0]=Ot(A,M,H),b[N+3+0]=b[N+1+32]=Ot(M,H,Z),b[N+3+32]=b[N+1+64]=Ot(H,Z,Z),b[N+3+64]=b[N+2+64]=b[N+0+96]=b[N+1+96]=b[N+2+96]=b[N+3+96]=Z}function tc(b,N){var A=b[N-1+0],M=b[N-1+32],H=b[N-1+64],Z=b[N-1+96],ee=b[N-1-32],ne=b[N+0-32],oe=b[N+1-32],ce=b[N+2-32];b[N+0+0]=b[N+2+32]=A+ee+1>>1,b[N+0+32]=b[N+2+64]=M+A+1>>1,b[N+0+64]=b[N+2+96]=H+M+1>>1,b[N+0+96]=Z+H+1>>1,b[N+3+0]=Ot(ne,oe,ce),b[N+2+0]=Ot(ee,ne,oe),b[N+1+0]=b[N+3+32]=Ot(A,ee,ne),b[N+1+32]=b[N+3+64]=Ot(M,A,ee),b[N+1+64]=b[N+3+96]=Ot(H,M,A),b[N+1+96]=Ot(Z,H,M)}function ui(b,N){var A;for(A=0;8>A;++A)a(b,N+32*A,b,N-32,8)}function rc(b,N){var A;for(A=0;8>A;++A)n(b,N,b[N-1],8),N+=32}function hi(b,N,A){var M;for(M=0;8>M;++M)n(N,A+32*M,b,8)}function gs(b,N){var A,M=8;for(A=0;8>A;++A)M+=b[N+A-32]+b[N-1+32*A];hi(M>>4,b,N)}function Un(b,N){var A,M=4;for(A=0;8>A;++A)M+=b[N+A-32];hi(M>>3,b,N)}function wo(b,N){var A,M=4;for(A=0;8>A;++A)M+=b[N-1+32*A];hi(M>>3,b,N)}function No(b,N){hi(128,b,N)}function Hi(b,N,A){var M=b[N-A],H=b[N+0],Z=3*(H-M)+uc[1020+b[N-2*A]-b[N+A]],ee=Ki[112+(Z+4>>3)];b[N-A]=Gs[255+M+Ki[112+(Z+3>>3)]],b[N+0]=Gs[255+H-ee]}function ll(b,N,A,M){var H=b[N+0],Z=b[N+A];return ia[255+b[N-2*A]-b[N-A]]>M||ia[255+Z-H]>M}function jo(b,N,A,M){return 4*ia[255+b[N-A]-b[N+0]]+ia[255+b[N-2*A]-b[N+A]]<=M}function qi(b,N,A,M,H){var Z=b[N-3*A],ee=b[N-2*A],ne=b[N-A],oe=b[N+0],ce=b[N+A],Ne=b[N+2*A],Re=b[N+3*A];return 4*ia[255+ne-oe]+ia[255+ee-ce]>M?0:ia[255+b[N-4*A]-Z]<=H&&ia[255+Z-ee]<=H&&ia[255+ee-ne]<=H&&ia[255+Re-Ne]<=H&&ia[255+Ne-ce]<=H&&ia[255+ce-oe]<=H}function fi(b,N,A,M){var H=2*M+1;for(M=0;16>M;++M)jo(b,N+M,A,H)&&Hi(b,N+M,A)}function ac(b,N,A,M){var H=2*M+1;for(M=0;16>M;++M)jo(b,N+M*A,1,H)&&Hi(b,N+M*A,1)}function ou(b,N,A,M){var H;for(H=3;0<H;--H)fi(b,N+=4*A,A,M)}function lu(b,N,A,M){var H;for(H=3;0<H;--H)ac(b,N+=4,A,M)}function Vi(b,N,A,M,H,Z,ee,ne){for(Z=2*Z+1;0<H--;){if(qi(b,N,A,Z,ee))if(ll(b,N,A,ne))Hi(b,N,A);else{var oe=b,ce=N,Ne=A,Re=oe[ce-2*Ne],he=oe[ce-Ne],ke=oe[ce+0],we=oe[ce+Ne],Oe=oe[ce+2*Ne],Ae=27*(He=uc[1020+3*(ke-he)+uc[1020+Re-we]])+63>>7,Ue=18*He+63>>7,He=9*He+63>>7;oe[ce-3*Ne]=Gs[255+oe[ce-3*Ne]+He],oe[ce-2*Ne]=Gs[255+Re+Ue],oe[ce-Ne]=Gs[255+he+Ae],oe[ce+0]=Gs[255+ke-Ae],oe[ce+Ne]=Gs[255+we-Ue],oe[ce+2*Ne]=Gs[255+Oe-He]}N+=M}}function Hn(b,N,A,M,H,Z,ee,ne){for(Z=2*Z+1;0<H--;){if(qi(b,N,A,Z,ee))if(ll(b,N,A,ne))Hi(b,N,A);else{var oe=b,ce=N,Ne=A,Re=oe[ce-Ne],he=oe[ce+0],ke=oe[ce+Ne],we=Ki[112+(4+(Oe=3*(he-Re))>>3)],Oe=Ki[112+(Oe+3>>3)],Ae=we+1>>1;oe[ce-2*Ne]=Gs[255+oe[ce-2*Ne]+Ae],oe[ce-Ne]=Gs[255+Re+Oe],oe[ce+0]=Gs[255+he-we],oe[ce+Ne]=Gs[255+ke-Ae]}N+=M}}function cu(b,N,A,M,H,Z){Vi(b,N,A,1,16,M,H,Z)}function cl(b,N,A,M,H,Z){Vi(b,N,1,A,16,M,H,Z)}function du(b,N,A,M,H,Z){var ee;for(ee=3;0<ee;--ee)Hn(b,N+=4*A,A,1,16,M,H,Z)}function _(b,N,A,M,H,Z){var ee;for(ee=3;0<ee;--ee)Hn(b,N+=4,1,A,16,M,H,Z)}function q(b,N,A,M,H,Z,ee,ne){Vi(b,N,H,1,8,Z,ee,ne),Vi(A,M,H,1,8,Z,ee,ne)}function fe(b,N,A,M,H,Z,ee,ne){Vi(b,N,1,H,8,Z,ee,ne),Vi(A,M,1,H,8,Z,ee,ne)}function ve(b,N,A,M,H,Z,ee,ne){Hn(b,N+4*H,H,1,8,Z,ee,ne),Hn(A,M+4*H,H,1,8,Z,ee,ne)}function Ee(b,N,A,M,H,Z,ee,ne){Hn(b,N+4,1,H,8,Z,ee,ne),Hn(A,M+4,1,H,8,Z,ee,ne)}function $e(){this.ba=new Ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function St(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new X}function Ft(){this.xb=this.a=0,this.l=new xa,this.ca=new Ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new St,this.ab=0,this.gc=l(4,mt),this.Oc=0}function Yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mr(b,N,A,M,H,Z,ee){for(b=b==null?0:b[N+0],N=0;N<ee;++N)H[Z+N]=b+A[M+N]&255,b=H[Z+N]}function sa(b,N,A,M,H,Z,ee){var ne;if(b==null)mr(null,null,A,M,H,Z,ee);else for(ne=0;ne<ee;++ne)H[Z+ne]=b[N+ne]+A[M+ne]&255}function _a(b,N,A,M,H,Z,ee){if(b==null)mr(null,null,A,M,H,Z,ee);else{var ne,oe=b[N+0],ce=oe,Ne=oe;for(ne=0;ne<ee;++ne)ce=Ne+(oe=b[N+ne])-ce,Ne=A[M+ne]+(-256&ce?0>ce?0:255:ce)&255,ce=oe,H[Z+ne]=Ne}}function Ir(b,N,A,M){var H=N.width,Z=N.o;if(e(b!=null&&N!=null),0>A||0>=M||A+M>Z)return null;if(!b.Cc){if(b.ga==null){var ee;if(b.ga=new Yt,(ee=b.ga==null)||(ee=N.width*N.o,e(b.Gb.length==0),b.Gb=i(ee),b.Uc=0,b.Gb==null?ee=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ee=1),ee=!ee),!ee){ee=b.ga;var ne=b.Fa,oe=b.P,ce=b.qc,Ne=b.mb,Re=b.nb,he=oe+1,ke=ce-1,we=ee.l;if(e(ne!=null&&Ne!=null&&N!=null),Cn[0]=null,Cn[1]=mr,Cn[2]=sa,Cn[3]=_a,ee.ca=Ne,ee.tb=Re,ee.c=N.width,ee.i=N.height,e(0<ee.c&&0<ee.i),1>=ce)N=0;else if(ee.$a=3&ne[oe+0],ee.Z=ne[oe+0]>>2&3,ee.Lc=ne[oe+0]>>4&3,oe=ne[oe+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||oe)N=0;else if(we.put=At,we.ac=mn,we.bc=ks,we.ma=ee,we.width=N.width,we.height=N.height,we.Da=N.Da,we.v=N.v,we.va=N.va,we.j=N.j,we.o=N.o,ee.$a)e:{e(ee.$a==1),N=ds();t:for(;;){if(N==null){N=0;break e}if(e(ee!=null),ee.mc=N,N.c=ee.c,N.i=ee.i,N.l=ee.l,N.l.ma=ee,N.l.width=ee.c,N.l.height=ee.i,N.a=0,ye(N.m,ne,he,ke),!Sa(ee.c,ee.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&Tr(N.s)?(ee.ic=1,ne=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ne),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ee.ic=0,N=_s(N,ee.c)),!N))break t;N=1;break e}ee.mc=null,N=0}else N=ke>=ee.c*ee.i;ee=!N}if(ee)return null;b.ga.Lc!=1?b.Ga=0:M=Z-A}e(b.ga!=null),e(A+M<=Z);e:{if(N=(ne=b.ga).c,Z=ne.l.o,ne.$a==0){if(he=b.rc,ke=b.Vc,we=b.Fa,oe=b.P+1+A*N,ce=b.mb,Ne=b.nb+A*N,e(oe<=b.P+b.qc),ne.Z!=0)for(e(Cn[ne.Z]!=null),ee=0;ee<M;++ee)Cn[ne.Z](he,ke,we,oe,ce,Ne,N),he=ce,ke=Ne,Ne+=N,oe+=N;else for(ee=0;ee<M;++ee)a(ce,Ne,we,oe,N),he=ce,ke=Ne,Ne+=N,oe+=N;b.rc=he,b.Vc=ke}else{if(e(ne.mc!=null),N=A+M,e((ee=ne.mc)!=null),e(N<=ee.i),ee.C>=N)N=1;else if(ne.ic||qn(),ne.ic){ne=ee.V,he=ee.Ba,ke=ee.c;var Oe=ee.i,Ae=(we=1,oe=ee.$/ke,ce=ee.$%ke,Ne=ee.m,Re=ee.s,ee.$),Ue=ke*Oe,He=ke*N,et=Re.wc,Ze=Ae<He?Oa(Re,ce,oe):null;e(Ae<=Ue),e(N<=Oe),e(Tr(Re));t:for(;;){for(;!Ne.h&&Ae<He;){if(ce&et||(Ze=Oa(Re,ce,oe)),e(Ze!=null),xe(Ne),256>(Oe=zr(Ze.G[0],Ze.H[0],Ne)))ne[he+Ae]=Oe,++Ae,++ce>=ke&&(ce=0,++oe<=N&&!(oe%16)&&ls(ee,oe));else{if(!(280>Oe)){we=0;break t}Oe=Ss(Oe-256,Ne);var yt,dt=zr(Ze.G[4],Ze.H[4],Ne);if(xe(Ne),!(Ae>=(dt=Cs(ke,dt=Ss(dt,Ne)))&&Ue-Ae>=Oe)){we=0;break t}for(yt=0;yt<Oe;++yt)ne[he+Ae+yt]=ne[he+Ae+yt-dt];for(Ae+=Oe,ce+=Oe;ce>=ke;)ce-=ke,++oe<=N&&!(oe%16)&&ls(ee,oe);Ae<He&&ce&et&&(Ze=Oa(Re,ce,oe))}e(Ne.h==ue(Ne))}ls(ee,oe>N?N:oe);break t}!we||Ne.h&&Ae<Ue?(we=0,ee.a=Ne.h?5:3):ee.$=Ae,N=we}else N=qs(ee,ee.V,ee.Ba,ee.c,ee.i,N,ts);if(!N){M=0;break e}}A+M>=Z&&(b.Cc=1),M=1}if(!M)return null;if(b.Cc&&((M=b.ga)!=null&&(M.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+A*H}function Fa(b,N,A,M,H,Z){for(;0<H--;){var ee,ne=b,oe=N+(A?1:0),ce=b,Ne=N+(A?0:3);for(ee=0;ee<M;++ee){var Re=ce[Ne+4*ee];Re!=255&&(Re*=32897,ne[oe+4*ee+0]=ne[oe+4*ee+0]*Re>>23,ne[oe+4*ee+1]=ne[oe+4*ee+1]*Re>>23,ne[oe+4*ee+2]=ne[oe+4*ee+2]*Re>>23)}N+=Z}}function Aa(b,N,A,M,H){for(;0<M--;){var Z;for(Z=0;Z<A;++Z){var ee=b[N+2*Z+0],ne=15&(ce=b[N+2*Z+1]),oe=4369*ne,ce=(240&ce|ce>>4)*oe>>16;b[N+2*Z+0]=(240&ee|ee>>4)*oe>>16&240|(15&ee|ee<<4)*oe>>16>>4&15,b[N+2*Z+1]=240&ce|ne}N+=H}}function as(b,N,A,M,H,Z,ee,ne){var oe,ce,Ne=255;for(ce=0;ce<H;++ce){for(oe=0;oe<M;++oe){var Re=b[N+oe];Z[ee+4*oe]=Re,Ne&=Re}N+=A,ee+=ne}return Ne!=255}function $i(b,N,A,M,H){var Z;for(Z=0;Z<H;++Z)A[M+Z]=b[N+Z]>>8}function qn(){Ts=Fa,bn=Aa,gl=as,hu=$i}function Wi(b,N,A){T[b]=function(M,H,Z,ee,ne,oe,ce,Ne,Re,he,ke,we,Oe,Ae,Ue,He,et){var Ze,yt=et-1>>1,dt=ne[oe+0]|ce[Ne+0]<<16,Kt=Re[he+0]|ke[we+0]<<16;e(M!=null);var nt=3*dt+Kt+131074>>2;for(N(M[H+0],255&nt,nt>>16,Oe,Ae),Z!=null&&(nt=3*Kt+dt+131074>>2,N(Z[ee+0],255&nt,nt>>16,Ue,He)),Ze=1;Ze<=yt;++Ze){var nr=ne[oe+Ze]|ce[Ne+Ze]<<16,va=Re[he+Ze]|ke[we+Ze]<<16,Gt=dt+nr+Kt+va+524296,vt=Gt+2*(nr+Kt)>>3;nt=vt+dt>>1,dt=(Gt=Gt+2*(dt+va)>>3)+nr>>1,N(M[H+2*Ze-1],255&nt,nt>>16,Oe,Ae+(2*Ze-1)*A),N(M[H+2*Ze-0],255&dt,dt>>16,Oe,Ae+(2*Ze-0)*A),Z!=null&&(nt=Gt+Kt>>1,dt=vt+va>>1,N(Z[ee+2*Ze-1],255&nt,nt>>16,Ue,He+(2*Ze-1)*A),N(Z[ee+2*Ze+0],255&dt,dt>>16,Ue,He+(2*Ze+0)*A)),dt=nr,Kt=va}1&et||(nt=3*dt+Kt+131074>>2,N(M[H+et-1],255&nt,nt>>16,Oe,Ae+(et-1)*A),Z!=null&&(nt=3*Kt+dt+131074>>2,N(Z[ee+et-1],255&nt,nt>>16,Ue,He+(et-1)*A)))}}function dl(){Ds[Ji]=dd,Ds[eo]=Oh,Ds[id]=pu,Ds[ml]=Fh,Ds[Ps]=Po,Ds[Xs]=Bh,Ds[To]=gc,Ds[Wn]=Oh,Ds[Yn]=Fh,Ds[yi]=Po,Ds[gu]=Bh}function gi(b){return b&-16384?0>b?0:255:b>>_n}function ko(b,N){return gi((19077*b>>8)+(26149*N>>8)-14234)}function So(b,N,A){return gi((19077*b>>8)-(6419*N>>8)-(13320*A>>8)+8708)}function Co(b,N){return gi((19077*b>>8)+(33050*N>>8)-17685)}function Yi(b,N,A,M,H){M[H+0]=ko(b,A),M[H+1]=So(b,N,A),M[H+2]=Co(b,N)}function Za(b,N,A,M,H){M[H+0]=Co(b,N),M[H+1]=So(b,N,A),M[H+2]=ko(b,A)}function _o(b,N,A,M,H){var Z=So(b,N,A);N=Z<<3&224|Co(b,N)>>3,M[H+0]=248&ko(b,A)|Z>>5,M[H+1]=N}function jn(b,N,A,M,H){var Z=240&Co(b,N)|15;M[H+0]=240&ko(b,A)|So(b,N,A)>>4,M[H+1]=Z}function ed(b,N,A,M,H){M[H+0]=255,Yi(b,N,A,M,H+1)}function td(b,N,A,M,H){Za(b,N,A,M,H),M[H+3]=255}function Es(b,N,A,M,H){Yi(b,N,A,M,H),M[H+3]=255}function mi(b,N,A){T[b]=function(M,H,Z,ee,ne,oe,ce,Ne,Re){for(var he=Ne+(-2&Re)*A;Ne!=he;)N(M[H+0],Z[ee+0],ne[oe+0],ce,Ne),N(M[H+1],Z[ee+0],ne[oe+0],ce,Ne+A),H+=2,++ee,++oe,Ne+=2*A;1&Re&&N(M[H+0],Z[ee+0],ne[oe+0],ce,Ne)}}function ul(b,N,A){return A==0?b==0?N==0?6:5:N==0?4:0:A}function Ao(b,N,A,M,H){switch(b>>>30){case 3:Vn(N,A,M,H,0);break;case 2:Ys(N,A,M,H);break;case 1:ir(N,A,M,H)}}function ms(b,N){var A,M,H=N.M,Z=N.Nb,ee=b.oc,ne=b.pc+40,oe=b.oc,ce=b.pc+584,Ne=b.oc,Re=b.pc+600;for(A=0;16>A;++A)ee[ne+32*A-1]=129;for(A=0;8>A;++A)oe[ce+32*A-1]=129,Ne[Re+32*A-1]=129;for(0<H?ee[ne-1-32]=oe[ce-1-32]=Ne[Re-1-32]=129:(n(ee,ne-32-1,127,21),n(oe,ce-32-1,127,9),n(Ne,Re-32-1,127,9)),M=0;M<b.za;++M){var he=N.ya[N.aa+M];if(0<M){for(A=-1;16>A;++A)a(ee,ne+32*A-4,ee,ne+32*A+12,4);for(A=-1;8>A;++A)a(oe,ce+32*A-4,oe,ce+32*A+4,4),a(Ne,Re+32*A-4,Ne,Re+32*A+4,4)}var ke=b.Gd,we=b.Hd+M,Oe=he.ad,Ae=he.Hc;if(0<H&&(a(ee,ne-32,ke[we].y,0,16),a(oe,ce-32,ke[we].f,0,8),a(Ne,Re-32,ke[we].ea,0,8)),he.Za){var Ue=ee,He=ne-32+16;for(0<H&&(M>=b.za-1?n(Ue,He,ke[we].y[15],4):a(Ue,He,ke[we+1].y,0,4)),A=0;4>A;A++)Ue[He+128+A]=Ue[He+256+A]=Ue[He+384+A]=Ue[He+0+A];for(A=0;16>A;++A,Ae<<=2)Ue=ee,He=ne+gf[A],Sn[he.Ob[A]](Ue,He),Ao(Ae,Oe,16*+A,Ue,He)}else if(Ue=ul(M,H,he.Ob[0]),Xn[Ue](ee,ne),Ae!=0)for(A=0;16>A;++A,Ae<<=2)Ao(Ae,Oe,16*+A,ee,ne+gf[A]);for(A=he.Gc,Ue=ul(M,H,he.Dd),yn[Ue](oe,ce),yn[Ue](Ne,Re),Ae=Oe,Ue=oe,He=ce,255&(he=0|A)&&(170&he?$n(Ae,256,Ue,He):vr(Ae,256,Ue,He)),he=Ne,Ae=Re,255&(A>>=8)&&(170&A?$n(Oe,320,he,Ae):vr(Oe,320,he,Ae)),H<b.Ub-1&&(a(ke[we].y,0,ee,ne+480,16),a(ke[we].f,0,oe,ce+224,8),a(ke[we].ea,0,Ne,Re+224,8)),A=8*Z*b.B,ke=b.sa,we=b.ta+16*M+16*Z*b.R,Oe=b.qa,he=b.ra+8*M+A,Ae=b.Ha,Ue=b.Ia+8*M+A,A=0;16>A;++A)a(ke,we+A*b.R,ee,ne+32*A,16);for(A=0;8>A;++A)a(Oe,he+A*b.B,oe,ce+32*A,8),a(Ae,Ue+A*b.B,Ne,Re+32*A,8)}}function hl(b,N,A,M,H,Z,ee,ne,oe){var ce=[0],Ne=[0],Re=0,he=oe!=null?oe.kd:0,ke=oe??new Qe;if(b==null||12>A)return 7;ke.data=b,ke.w=N,ke.ha=A,N=[N],A=[A],ke.gb=[ke.gb];e:{var we=N,Oe=A,Ae=ke.gb;if(e(b!=null),e(Oe!=null),e(Ae!=null),Ae[0]=0,12<=Oe[0]&&!r(b,we[0],"RIFF")){if(r(b,we[0]+8,"WEBP")){Ae=3;break e}var Ue=ze(b,we[0]+4);if(12>Ue||4294967286<Ue){Ae=3;break e}if(he&&Ue>Oe[0]-8){Ae=7;break e}Ae[0]=Ue,we[0]+=12,Oe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Ue=0<ke.gb[0],A=A[0];;){e:{var He=b;Oe=N,Ae=A;var et=ce,Ze=Ne,yt=we=[0];if((nt=Re=[Re])[0]=0,8>Ae[0])Ae=7;else{if(!r(He,Oe[0],"VP8X")){if(ze(He,Oe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var dt=ze(He,Oe[0]+8),Kt=1+Ve(He,Oe[0]+12);if(2147483648<=Kt*(He=1+Ve(He,Oe[0]+15))){Ae=3;break e}yt!=null&&(yt[0]=dt),et!=null&&(et[0]=Kt),Ze!=null&&(Ze[0]=He),Oe[0]+=18,Ae[0]-=18,nt[0]=1}Ae=0}}if(Re=Re[0],we=we[0],Ae!=0)return Ae;if(Oe=!!(2&we),!Ue&&Re)return 3;if(Z!=null&&(Z[0]=!!(16&we)),ee!=null&&(ee[0]=Oe),ne!=null&&(ne[0]=0),ee=ce[0],we=Ne[0],Re&&Oe&&oe==null){Ae=0;break}if(4>A){Ae=7;break}if(Ue&&Re||!Ue&&!Re&&!r(b,N[0],"ALPH")){A=[A],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{dt=b,Ae=N,Ue=A;var nt=ke.gb;et=ke.na,Ze=ke.P,yt=ke.Sa,Kt=22,e(dt!=null),e(Ue!=null),He=Ae[0];var nr=Ue[0];for(e(et!=null),e(yt!=null),et[0]=null,Ze[0]=null,yt[0]=0;;){if(Ae[0]=He,Ue[0]=nr,8>nr){Ae=7;break e}var va=ze(dt,He+4);if(4294967286<va){Ae=3;break e}var Gt=8+va+1&-2;if(Kt+=Gt,0<nt&&Kt>nt){Ae=3;break e}if(!r(dt,He,"VP8 ")||!r(dt,He,"VP8L")){Ae=0;break e}if(nr[0]<Gt){Ae=7;break e}r(dt,He,"ALPH")||(et[0]=dt,Ze[0]=He+8,yt[0]=va),He+=Gt,nr-=Gt}}if(A=A[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Ae!=0)break}A=[A],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(nt=b,Ae=N,Ue=A,et=ke.gb[0],Ze=ke.Ja,yt=ke.xa,dt=Ae[0],He=!r(nt,dt,"VP8 "),Kt=!r(nt,dt,"VP8L"),e(nt!=null),e(Ue!=null),e(Ze!=null),e(yt!=null),8>Ue[0])Ae=7;else{if(He||Kt){if(nt=ze(nt,dt+4),12<=et&&nt>et-12){Ae=3;break e}if(he&&nt>Ue[0]-8){Ae=7;break e}Ze[0]=nt,Ae[0]+=8,Ue[0]-=8,yt[0]=Kt}else yt[0]=5<=Ue[0]&&nt[dt+0]==47&&!(nt[dt+4]>>5),Ze[0]=Ue[0];Ae=0}if(A=A[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],N=N[0],Ae!=0)break;if(4294967286<ke.Ja)return 3;if(ne==null||Oe||(ne[0]=ke.xa?2:1),ee=[ee],we=[we],ke.xa){if(5>A){Ae=7;break}ne=ee,he=we,Oe=Z,b==null||5>A?b=0:5<=A&&b[N+0]==47&&!(b[N+4]>>5)?(Ue=[0],nt=[0],et=[0],ye(Ze=new Y,b,N,A),Hs(Ze,Ue,nt,et)?(ne!=null&&(ne[0]=Ue[0]),he!=null&&(he[0]=nt[0]),Oe!=null&&(Oe[0]=et[0]),b=1):b=0):b=0}else{if(10>A){Ae=7;break}ne=we,b==null||10>A||!zi(b,N+3,A-3)?b=0:(he=b[N+0]|b[N+1]<<8|b[N+2]<<16,Oe=16383&(b[N+7]<<8|b[N+6]),b=16383&(b[N+9]<<8|b[N+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=ke.Ja||!Oe||!b?b=0:(ee&&(ee[0]=Oe),ne&&(ne[0]=b),b=1))}if(!b||(ee=ee[0],we=we[0],Re&&(ce[0]!=ee||Ne[0]!=we)))return 3;oe!=null&&(oe[0]=ke,oe.offset=N-oe.w,e(4294967286>N-oe.w),e(oe.offset==oe.ha-A));break}return Ae==0||Ae==7&&Re&&oe==null?(Z!=null&&(Z[0]|=ke.na!=null&&0<ke.na.length),M!=null&&(M[0]=ee),H!=null&&(H[0]=we),0):Ae}function Lo(b,N,A){var M=N.width,H=N.height,Z=0,ee=0,ne=M,oe=H;if(N.Da=b!=null&&0<b.Da,N.Da&&(ne=b.cd,oe=b.bd,Z=b.v,ee=b.j,11>A||(Z&=-2,ee&=-2),0>Z||0>ee||0>=ne||0>=oe||Z+ne>M||ee+oe>H))return 0;if(N.v=Z,N.j=ee,N.va=Z+ne,N.o=ee+oe,N.U=ne,N.T=oe,N.da=b!=null&&0<b.da,N.da){if(!rt(ne,oe,A=[b.ib],Z=[b.hb]))return 0;N.ib=A[0],N.hb=Z[0]}return N.ob=b!=null&&b.ob,N.Kb=b==null||!b.Sd,N.da&&(N.ob=N.ib<3*M/4&&N.hb<3*H/4,N.Kb=0),1}function sc(b){if(b==null)return 2;if(11>b.S){var N=b.f.RGBA;N.fb+=(b.height-1)*N.A,N.A=-N.A}else N=b.f.kb,b=b.height,N.O+=(b-1)*N.fa,N.fa=-N.fa,N.N+=(b-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(b-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(b-1)*N.lb,N.lb=-N.lb);return 0}function Gi(b,N,A,M){if(M==null||0>=b||0>=N)return 2;if(A!=null){if(A.Da){var H=A.cd,Z=A.bd,ee=-2&A.v,ne=-2&A.j;if(0>ee||0>ne||0>=H||0>=Z||ee+H>b||ne+Z>N)return 2;b=H,N=Z}if(A.da){if(!rt(b,N,H=[A.ib],Z=[A.hb]))return 2;b=H[0],N=Z[0]}}M.width=b,M.height=N;e:{var oe=M.width,ce=M.height;if(b=M.S,0>=oe||0>=ce||!(b>=Ji&&13>b))b=2;else{if(0>=M.Rd&&M.sd==null){ee=Z=H=N=0;var Ne=(ne=oe*yu[b])*ce;if(11>b||(Z=(ce+1)/2*(N=(oe+1)/2),b==12&&(ee=(H=oe)*ce)),(ce=i(Ne+2*Z+ee))==null){b=1;break e}M.sd=ce,11>b?((oe=M.f.RGBA).eb=ce,oe.fb=0,oe.A=ne,oe.size=Ne):((oe=M.f.kb).y=ce,oe.O=0,oe.fa=ne,oe.Fd=Ne,oe.f=ce,oe.N=0+Ne,oe.Ab=N,oe.Cd=Z,oe.ea=ce,oe.W=0+Ne+Z,oe.Db=N,oe.Ed=Z,b==12&&(oe.F=ce,oe.J=0+Ne+2*Z),oe.Tc=ee,oe.lb=H)}if(N=1,H=M.S,Z=M.width,ee=M.height,H>=Ji&&13>H)if(11>H)b=M.f.RGBA,N&=(ne=Math.abs(b.A))*(ee-1)+Z<=b.size,N&=ne>=Z*yu[H],N&=b.eb!=null;else{b=M.f.kb,ne=(Z+1)/2,Ne=(ee+1)/2,oe=Math.abs(b.fa),ce=Math.abs(b.Ab);var Re=Math.abs(b.Db),he=Math.abs(b.lb),ke=he*(ee-1)+Z;N&=oe*(ee-1)+Z<=b.Fd,N&=ce*(Ne-1)+ne<=b.Cd,N=(N&=Re*(Ne-1)+ne<=b.Ed)&oe>=Z&ce>=ne&Re>=ne,N&=b.y!=null,N&=b.f!=null,N&=b.ea!=null,H==12&&(N&=he>=Z,N&=ke<=b.Tc,N&=b.F!=null)}else N=0;b=N?0:2}}return b!=0||A!=null&&A.fd&&(b=sc(M)),b}var Xi=64,Ms=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,Zi=32,pi=8,Eo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(b){return b},T.Predictor2=function(b,N,A){return N[A+0]},T.Predictor3=function(b,N,A){return N[A+1]},T.Predictor4=function(b,N,A){return N[A-1]},T.Predictor5=function(b,N,A){return pt(pt(b,N[A+1]),N[A+0])},T.Predictor6=function(b,N,A){return pt(b,N[A-1])},T.Predictor7=function(b,N,A){return pt(b,N[A+0])},T.Predictor8=function(b,N,A){return pt(N[A-1],N[A+0])},T.Predictor9=function(b,N,A){return pt(N[A+0],N[A+1])},T.Predictor10=function(b,N,A){return pt(pt(b,N[A-1]),pt(N[A+0],N[A+1]))},T.Predictor11=function(b,N,A){var M=N[A+0];return 0>=Pt(M>>24&255,b>>24&255,(N=N[A-1])>>24&255)+Pt(M>>16&255,b>>16&255,N>>16&255)+Pt(M>>8&255,b>>8&255,N>>8&255)+Pt(255&M,255&b,255&N)?M:b},T.Predictor12=function(b,N,A){var M=N[A+0];return(qt((b>>24&255)+(M>>24&255)-((N=N[A-1])>>24&255))<<24|qt((b>>16&255)+(M>>16&255)-(N>>16&255))<<16|qt((b>>8&255)+(M>>8&255)-(N>>8&255))<<8|qt((255&b)+(255&M)-(255&N)))>>>0},T.Predictor13=function(b,N,A){var M=N[A-1];return(ar((b=pt(b,N[A+0]))>>24&255,M>>24&255)<<24|ar(b>>16&255,M>>16&255)<<16|ar(b>>8&255,M>>8&255)<<8|ar(255&b,255&M))>>>0};var rd=T.PredictorAdd0;T.PredictorAdd1=er,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var nc=T.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var ya,uu=T.ColorIndexInverseTransform,ua=T.MapARGB,Ws=T.VP8LColorIndexInverseTransformAlpha,ic=T.MapAlpha,oc=T.VP8LPredictorsAdd=[];oc.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var lc,cc,xi,Mo,Ro,kn,bi,Vn,Ys,$n,ir,vr,na,La,Rs,dc,fl,ad,of,lf,cf,Ah,Lh,Eh,Ts,bn,gl,hu,sd=i(511),nd=i(2041),fu=i(225),Qi=i(767),Mh=0,uc=nd,Ki=fu,Gs=Qi,ia=sd,Ji=0,eo=1,id=2,ml=3,Ps=4,Xs=5,To=6,Wn=7,Yn=8,yi=9,gu=10,Rh=[2,3,7],Th=[3,3,11],ps=[280,256,256,256,40],ss=[0,1,1,1,0],wr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Gn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ph=8,to=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hc=null,od=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ld=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],df=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Dh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xn=[],Sn=[],yn=[],hf=1,pl=2,Cn=[],Ds=[];Wi("UpsampleRgbLinePair",Yi,3),Wi("UpsampleBgrLinePair",Za,3),Wi("UpsampleRgbaLinePair",Es,4),Wi("UpsampleBgraLinePair",td,4),Wi("UpsampleArgbLinePair",ed,4),Wi("UpsampleRgba4444LinePair",jn,2),Wi("UpsampleRgb565LinePair",_o,2);var dd=T.UpsampleRgbLinePair,pu=T.UpsampleBgrLinePair,Oh=T.UpsampleRgbaLinePair,Fh=T.UpsampleBgraLinePair,Po=T.UpsampleArgbLinePair,Bh=T.UpsampleRgba4444LinePair,gc=T.UpsampleRgb565LinePair,xl=16,ud=1<<xl-1,bl=-227,hd=482,_n=6,Zn=0,Do=i(256),ff=i(256),Oo=i(256),ro=i(256),Ba=i(hd-bl),xu=i(hd-bl);mi("YuvToRgbRow",Yi,3),mi("YuvToBgrRow",Za,3),mi("YuvToRgbaRow",Es,4),mi("YuvToBgraRow",td,4),mi("YuvToArgbRow",ed,4),mi("YuvToRgba4444Row",jn,2),mi("YuvToRgb565Row",_o,2);var gf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bu=[0,2,8],Tm=[8,7,6,4,4,2,2,2,1,1,1,1],za=1;this.WebPDecodeRGBA=function(b,N,A,M,H){var Z=eo,ee=new $e,ne=new Ht;ee.ba=ne,ne.S=Z,ne.width=[ne.width],ne.height=[ne.height];var oe=ne.width,ce=ne.height,Ne=new kt;if(Ne==null||b==null)var Re=2;else e(Ne!=null),Re=hl(b,N,A,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Re!=0?oe=0:(oe!=null&&(oe[0]=Ne.width[0]),ce!=null&&(ce[0]=Ne.height[0]),oe=1),oe){ne.width=ne.width[0],ne.height=ne.height[0],M!=null&&(M[0]=ne.width),H!=null&&(H[0]=ne.height);e:{if(M=new xa,(H=new Qe).data=b,H.w=N,H.ha=A,H.kd=1,N=[0],e(H!=null),((b=hl(H.data,H.w,H.ha,null,null,null,N,null,H))==0||b==7)&&N[0]&&(b=4),(N=b)==0){if(e(ee!=null),M.data=H.data,M.w=H.w+H.offset,M.ha=H.ha-H.offset,M.put=At,M.ac=mn,M.bc=ks,M.ma=ee,H.xa){if((b=ds())==null){ee=1;break e}if((function(he,ke){var we=[0],Oe=[0],Ae=[0];t:for(;;){if(he==null)return 0;if(ke==null)return he.a=2,0;if(he.l=ke,he.a=0,ye(he.m,ke.data,ke.w,ke.ha),!Hs(he.m,we,Oe,Ae)){he.a=3;break t}if(he.xb=pl,ke.width=we[0],ke.height=Oe[0],!Sa(we[0],Oe[0],1,he,null))break t;return 1}return e(he.a!=0),0})(b,M)){if(M=(N=Gi(M.width,M.height,ee.Oa,ee.ba))==0){t:{M=b;r:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((A=M.l)!=null),e((H=A.ma)!=null),M.xb!=0){if(M.ca=H.ba,M.tb=H.tb,e(M.ca!=null),!Lo(H.Oa,A,ml)){M.a=2;break r}if(!_s(M,A.width)||A.da)break r;if((A.da||Rt(M.ca.S))&&qn(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&qn()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!V(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!qs(M,M.V,M.Ba,M.c,M.i,A.o,Vr))break r;H.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(N=b.a)}else N=b.a}else{if((b=new hs)==null){ee=1;break e}if(b.Fa=H.na,b.P=H.P,b.qc=H.Sa,Vs(b,M)){if((N=Gi(M.width,M.height,ee.Oa,ee.ba))==0){if(b.Aa=0,A=ee.Oa,e((H=b)!=null),A!=null){if(0<(oe=0>(oe=A.Md)?0:100<oe?255:255*oe/100)){for(ce=Ne=0;4>ce;++ce)12>(Re=H.pb[ce]).lc&&(Re.ia=oe*Tm[0>Re.lc?0:Re.lc]>>3),Ne|=Re.ia;Ne&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=A.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(he,ke){if(he==null)return 0;if(ke==null)return hr(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!Vs(he,ke))return 0;if(e(he.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(he.L=0);var we=bu[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=ke.v-we>>4,he.zb=ke.j-we>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=ke.o+15+we>>4,he.Hb=ke.va+15+we>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Oe=he.ed;for(we=0;4>we;++we){var Ae;if(he.Qa.Cb){var Ue=he.Qa.Lb[we];he.Qa.Fb||(Ue+=Oe.Tb)}else Ue=Oe.Tb;for(Ae=0;1>=Ae;++Ae){var He=he.gd[we][Ae],et=Ue;if(Oe.Pc&&(et+=Oe.vd[0],Ae&&(et+=Oe.od[0])),0<(et=0>et?0:63<et?63:et)){var Ze=et;0<Oe.wb&&(Ze=4<Oe.wb?Ze>>2:Ze>>1)>9-Oe.wb&&(Ze=9-Oe.wb),1>Ze&&(Ze=1),He.dd=Ze,He.tc=2*et+Ze,He.ld=40<=et?2:15<=et?1:0}else He.tc=0;He.La=Ae}}}we=0}else hr(he,6,"Frame setup failed"),we=he.a;if(we=we==0){if(we){he.$c=0,0<he.Aa||(he.Ic=za);t:{we=he.Ic,Oe=4*(Ze=he.za);var yt=32*Ze,dt=Ze+1,Kt=0<he.L?Ze*(0<he.Aa?2:1):0,nt=(he.Aa==2?2:1)*Ze;if((He=Oe+832+(Ae=3*(16*we+bu[he.L])/2*yt)+(Ue=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=He)we=0;else{if(He>he.Vb){if(he.Vb=0,he.Ec=i(He),he.Fc=0,he.Ec==null){we=hr(he,1,"no memory during frame initialization.");break t}he.Vb=He}He=he.Ec,et=he.Fc,he.Ac=He,he.Bc=et,et+=Oe,he.Gd=l(yt,yo),he.Hd=0,he.rb=l(dt+1,Ca),he.sb=1,he.wa=Kt?l(Kt,Dr):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=Ze),e(!0),he.oc=He,he.pc=et,et+=832,he.ya=l(nt,us),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=Ze),he.R=16*Ze,he.B=8*Ze,Ze=(yt=bu[he.L])*he.R,yt=yt/2*he.B,he.sa=He,he.ta=et+Ze,he.qa=he.sa,he.ra=he.ta+16*we*he.R+yt,he.Ha=he.qa,he.Ia=he.ra+8*we*he.B+yt,he.$c=0,et+=Ae,he.mb=Ue?He:null,he.nb=Ue?et:null,e(et+Ue<=he.Fc+he.Vb),oi(he),n(he.Ac,he.Bc,0,Oe),we=1}}if(we){if(ke.ka=0,ke.y=he.sa,ke.O=he.ta,ke.f=he.qa,ke.N=he.ra,ke.ea=he.Ha,ke.Vd=he.Ia,ke.fa=he.R,ke.Rc=he.B,ke.F=null,ke.J=0,!Mh){for(we=-255;255>=we;++we)sd[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)nd[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)fu[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)Qi[255+we]=0>we?0:255<we?255:we;Mh=1}bi=pe,Vn=il,$n=rs,ir=K,vr=le,Ys=nl,na=cu,La=cl,Rs=q,dc=fe,fl=du,ad=_,of=ve,lf=Ee,cf=fi,Ah=ac,Lh=ou,Eh=lu,Sn[0]=ol,Sn[1]=Je,Sn[2]=Kc,Sn[3]=iu,Sn[4]=In,Sn[5]=di,Sn[6]=xn,Sn[7]=Jc,Sn[8]=tc,Sn[9]=Ui,Xn[0]=fs,Xn[1]=Vt,Xn[2]=Gr,Xn[3]=da,Xn[4]=Ii,Xn[5]=ci,Xn[6]=vo,yn[0]=gs,yn[1]=ct,yn[2]=ui,yn[3]=rc,yn[4]=wo,yn[5]=Un,yn[6]=No,we=1}else we=0}we&&(we=(function(nr,va){for(nr.M=0;nr.M<nr.Va;++nr.M){var Gt,vt=nr.Jc[nr.M&nr.Xb],ot=nr.m,oa=nr;for(Gt=0;Gt<oa.za;++Gt){var It=ot,or=oa,sr=or.Ac,lr=or.Bc+4*Gt,Qa=or.zc,Ur=or.ya[or.aa+Gt];if(or.Qa.Bb?Ur.$b=Le(It,or.Pa.jb[0])?2+Le(It,or.Pa.jb[2]):Le(It,or.Pa.jb[1]):Ur.$b=0,or.kc&&(Ur.Ad=Le(It,or.Bd)),Ur.Za=!Le(It,145)+0,Ur.Za){var Ia=Ur.Ob,ns=0;for(or=0;4>or;++or){var Or,cr=Qa[0+or];for(Or=0;4>Or;++Or){cr=df[sr[lr+Or]][cr];for(var Sr=fc[Le(It,cr[0])];0<Sr;)Sr=fc[2*Sr+Le(It,cr[Sr])];cr=-Sr,sr[lr+Or]=cr}a(Ia,ns,sr,lr,4),ns+=4,Qa[0+or]=cr}}else cr=Le(It,156)?Le(It,128)?1:3:Le(It,163)?2:0,Ur.Ob[0]=cr,n(sr,lr,cr,4),n(Qa,0,cr,4);Ur.Dd=Le(It,142)?Le(It,114)?Le(It,183)?1:3:2:0}if(oa.m.Ka)return hr(nr,7,"Premature end-of-partition0 encountered.");for(;nr.ja<nr.za;++nr.ja){if(oa=vt,It=(ot=nr).rb[ot.sb-1],sr=ot.rb[ot.sb+ot.ja],Gt=ot.ya[ot.aa+ot.ja],lr=ot.kc?Gt.Ad:0)It.la=sr.la=0,Gt.Za||(It.Na=sr.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var Xr,Ar;if(It=sr,sr=oa,lr=ot.Pa.Xc,Qa=ot.ya[ot.aa+ot.ja],Ur=ot.pb[Qa.$b],or=Qa.ad,Ia=0,ns=ot.rb[ot.sb-1],cr=Or=0,n(or,Ia,0,384),Qa.Za)var Ka=0,An=lr[3];else{Sr=i(16);var ha=It.Na+ns.Na;if(ha=hc(sr,lr[1],ha,Ur.Eb,0,Sr,0),It.Na=ns.Na=(0<ha)+0,1<ha)bi(Sr,0,or,Ia);else{var Os=Sr[0]+3>>3;for(Sr=0;256>Sr;Sr+=16)or[Ia+Sr]=Os}Ka=1,An=lr[0]}var Mr=15&It.la,wa=15&ns.la;for(Sr=0;4>Sr;++Sr){var Zs=1&wa;for(Os=Ar=0;4>Os;++Os)Mr=Mr>>1|(Zs=(ha=hc(sr,An,ha=Zs+(1&Mr),Ur.Sc,Ka,or,Ia))>Ka)<<7,Ar=Ar<<2|(3<ha?3:1<ha?2:or[Ia+0]!=0),Ia+=16;Mr>>=4,wa=wa>>1|Zs<<7,Or=(Or<<8|Ar)>>>0}for(An=Mr,Ka=wa>>4,Xr=0;4>Xr;Xr+=2){for(Ar=0,Mr=It.la>>4+Xr,wa=ns.la>>4+Xr,Sr=0;2>Sr;++Sr){for(Zs=1&wa,Os=0;2>Os;++Os)ha=Zs+(1&Mr),Mr=Mr>>1|(Zs=0<(ha=hc(sr,lr[2],ha,Ur.Qc,0,or,Ia)))<<3,Ar=Ar<<2|(3<ha?3:1<ha?2:or[Ia+0]!=0),Ia+=16;Mr>>=2,wa=wa>>1|Zs<<5}cr|=Ar<<4*Xr,An|=Mr<<4<<Xr,Ka|=(240&wa)<<Xr}It.la=An,ns.la=Ka,Qa.Hc=Or,Qa.Gc=cr,Qa.ia=43690&cr?0:Ur.ia,lr=!(Or|cr)}if(0<ot.L&&(ot.wa[ot.Y+ot.ja]=ot.gd[Gt.$b][Gt.Za],ot.wa[ot.Y+ot.ja].La|=!lr),oa.Ka)return hr(nr,7,"Premature end-of-file encountered.")}if(oi(nr),ot=va,oa=1,Gt=(vt=nr).D,It=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(Gt.M=vt.M,Gt.uc=It,ms(vt,Gt),oa=1,Gt=(Ar=vt.D).Nb,It=(cr=bu[vt.L])*vt.R,sr=cr/2*vt.B,Sr=16*Gt*vt.R,Os=8*Gt*vt.B,lr=vt.sa,Qa=vt.ta-It+Sr,Ur=vt.qa,or=vt.ra-sr+Os,Ia=vt.Ha,ns=vt.Ia-sr+Os,wa=(Mr=Ar.M)==0,Or=Mr>=vt.Va-1,vt.Aa==2&&ms(vt,Ar),Ar.uc)for(Zs=(ha=vt).D.M,e(ha.D.uc),Ar=ha.yb;Ar<ha.Hb;++Ar){Ka=Ar,An=Zs;var Fs=(Qs=(is=ha).D).Nb;Xr=is.R;var Qs=Qs.wa[Qs.Y+Ka],Ks=is.sa,Bs=is.ta+16*Fs*Xr+16*Ka,zs=Qs.dd,Fr=Qs.tc;if(Fr!=0)if(e(3<=Fr),is.L==1)0<Ka&&Ah(Ks,Bs,Xr,Fr+4),Qs.La&&Eh(Ks,Bs,Xr,Fr),0<An&&cf(Ks,Bs,Xr,Fr+4),Qs.La&&Lh(Ks,Bs,Xr,Fr);else{var Js=is.B,Ln=is.qa,Fo=is.ra+8*Fs*Js+8*Ka,wi=is.Ha,is=is.Ia+8*Fs*Js+8*Ka;Fs=Qs.ld,0<Ka&&(La(Ks,Bs,Xr,Fr+4,zs,Fs),dc(Ln,Fo,wi,is,Js,Fr+4,zs,Fs)),Qs.La&&(ad(Ks,Bs,Xr,Fr,zs,Fs),lf(Ln,Fo,wi,is,Js,Fr,zs,Fs)),0<An&&(na(Ks,Bs,Xr,Fr+4,zs,Fs),Rs(Ln,Fo,wi,is,Js,Fr+4,zs,Fs)),Qs.La&&(fl(Ks,Bs,Xr,Fr,zs,Fs),of(Ln,Fo,wi,is,Js,Fr,zs,Fs))}}if(vt.ia&&alert("todo:DitherRow"),ot.put!=null){if(Ar=16*Mr,Mr=16*(Mr+1),wa?(ot.y=vt.sa,ot.O=vt.ta+Sr,ot.f=vt.qa,ot.N=vt.ra+Os,ot.ea=vt.Ha,ot.W=vt.Ia+Os):(Ar-=cr,ot.y=lr,ot.O=Qa,ot.f=Ur,ot.N=or,ot.ea=Ia,ot.W=ns),Or||(Mr-=cr),Mr>ot.o&&(Mr=ot.o),ot.F=null,ot.J=null,vt.Fa!=null&&0<vt.Fa.length&&Ar<Mr&&(ot.J=Ir(vt,ot,Ar,Mr-Ar),ot.F=vt.mb,ot.F==null&&ot.F.length==0)){oa=hr(vt,3,"Could not decode alpha data.");break t}Ar<ot.j&&(cr=ot.j-Ar,Ar=ot.j,e(!(1&cr)),ot.O+=vt.R*cr,ot.N+=vt.B*(cr>>1),ot.W+=vt.B*(cr>>1),ot.F!=null&&(ot.J+=ot.width*cr)),Ar<Mr&&(ot.O+=ot.v,ot.N+=ot.v>>1,ot.W+=ot.v>>1,ot.F!=null&&(ot.J+=ot.v),ot.ka=Ar-ot.j,ot.U=ot.va-ot.v,ot.T=Mr-Ar,oa=ot.put(ot))}Gt+1!=vt.Ic||Or||(a(vt.sa,vt.ta-It,lr,Qa+16*vt.R,It),a(vt.qa,vt.ra-sr,Ur,or+8*vt.B,sr),a(vt.Ha,vt.Ia-sr,Ia,ns+8*vt.B,sr))}if(!oa)return hr(nr,6,"Output aborted.")}return 1})(he,ke)),ke.bc!=null&&ke.bc(ke),we&=1}return we?(he.cb=0,we):0})(b,M)||(N=b.a)}}else N=b.a}N==0&&ee.Oa!=null&&ee.Oa.fd&&(N=sc(ee.ba))}ee=N}Z=ee!=0?null:11>Z?ne.f.RGBA.eb:ne.f.kb.y}else Z=null;return Z};var yu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(T,W){for(var I="",B=0;B<4;B++)I+=String.fromCharCode(T[W++]);return I}function g(T,W){return T[W+0]|T[W+1]<<8}function x(T,W){return(T[W+0]|T[W+1]<<8|T[W+2]<<16)>>>0}function y(T,W){return(T[W+0]|T[W+1]<<8|T[W+2]<<16|T[W+3]<<24)>>>0}new u;var p=[0],w=[0],j=[],k=new u,C=t,L=(function(T,W){var I={},B=0,X=!1,Q=0,ge=0;if(I.frames=[],!(function(P,Y){for(var G=0;G<4;G++)if(P[Y+G]!="RIFF".charCodeAt(G))return!0;return!1})(T,W)){for(y(T,W+=4),W+=8;W<T.length;){var $=h(T,W),de=y(T,W+=4);W+=4;var ie=de+(1&de);switch($){case"VP8 ":case"VP8L":I.frames[B]===void 0&&(I.frames[B]={}),(te=I.frames[B]).src_off=X?ge:W-8,te.src_size=Q+de+8,B++,X&&(X=!1,Q=0,ge=0);break;case"VP8X":(te=I.header={}).feature_flags=T[W];var ye=W+4;te.canvas_width=1+x(T,ye),ye+=3,te.canvas_height=1+x(T,ye),ye+=3;break;case"ALPH":X=!0,Q=ie+8,ge=W-8;break;case"ANIM":(te=I.header).bgcolor=y(T,W),ye=W+4,te.loop_count=g(T,ye),ye+=2;break;case"ANMF":var J,te;(te=I.frames[B]={}).offset_x=2*x(T,W),W+=3,te.offset_y=2*x(T,W),W+=3,te.width=1+x(T,W),W+=3,te.height=1+x(T,W),W+=3,te.duration=x(T,W),W+=3,J=T[W++],te.dispose=1&J,te.blend=J>>1&1}$!="ANMF"&&(W+=ie)}return I}})(C,0);L.response=C,L.rgbaoutput=!0,L.dataurl=!1;var E=L.header?L.header:null,D=L.frames?L.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],w=[E.canvas_width];for(var F=0;F<D.length&&D[F].blend!=0;F++);}var se=D[0],O=k.WebPDecodeRGBA(C,se.src_off,se.src_size,w,p);se.rgba=O,se.imgwidth=w[0],se.imgheight=p[0];for(var U=0;U<w[0]*p[0]*4;U++)j[U]=O[U];return this.width=w,this.height=p,this.data=j,this}(function(t){var e,r,a,n,i,l,d,u,h,g=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new u,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new l,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new l,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,d=this.internal.Rectangle,u=this.internal.Matrix,h=new g}]);var x=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=P;Object.defineProperty(this,"pdf",{get:function(){return Y}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(V){G=!!V}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(V){ue=!!V}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(V){isNaN(V)||(re=V)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(V){isNaN(V)||(xe=V)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(V){var Pe;typeof V=="number"?Pe=[V,V,V,V]:((Pe=new Array(4))[0]=V[0],Pe[1]=V.length>=2?V[1]:Pe[0],Pe[2]=V.length>=3?V[2]:Pe[0],Pe[3]=V.length>=4?V[3]:Pe[1]),h.margin=Pe}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(V){je=V}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(V){Se=V}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(V){Le=V}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(V){V instanceof g&&(h=V)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(V){h.path=V}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(V){be=V}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(V){var Pe;Pe=y(V),this.ctx.fillStyle=Pe.style,this.ctx.isFillTransparent=Pe.a===0,this.ctx.fillOpacity=Pe.a,this.pdf.setFillColor(Pe.r,Pe.g,Pe.b,{a:Pe.a}),this.pdf.setTextColor(Pe.r,Pe.g,Pe.b,{a:Pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(V){var Pe=y(V);this.ctx.strokeStyle=Pe.style,this.ctx.isStrokeTransparent=Pe.a===0,this.ctx.strokeOpacity=Pe.a,Pe.a===0?this.pdf.setDrawColor(255,255,255):(Pe.a,this.pdf.setDrawColor(Pe.r,Pe.g,Pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(V){["butt","round","square"].indexOf(V)!==-1&&(this.ctx.lineCap=V,this.pdf.setLineCap(V))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(V){isNaN(V)||(this.ctx.lineWidth=V,this.pdf.setLineWidth(V))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(V){["bevel","round","miter"].indexOf(V)!==-1&&(this.ctx.lineJoin=V,this.pdf.setLineJoin(V))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(V){isNaN(V)||(this.ctx.miterLimit=V,this.pdf.setMiterLimit(V))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(V){this.ctx.textBaseline=V}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(V){["right","end","center","left","start"].indexOf(V)!==-1&&(this.ctx.textAlign=V)}});var Ge=null,Ve=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(V){Ge=null,Ve=null,ze=V}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(V){var Pe;if(this.ctx.font=V,(Pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(V))!==null){var st=Pe[1];Pe[2];var rt=Pe[3],We=Pe[4];Pe[5];var ut=Pe[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(at==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var jt=(function(bt){var qr,tr,Et=[],Qt=bt.trim();if(Qt==="")return Ux;if(Qt in U4)return[U4[Qt]];for(;Qt!=="";){switch(tr=null,qr=(Qt=q4(Qt)).charAt(0)){case'"':case"'":tr=GP(Qt.substring(1),qr);break;default:tr=XP(Qt)}if(tr===null||(Et.push(tr[0]),(Qt=q4(tr[1]))!==""&&Qt.charAt(0)!==","))return Ux;Qt=Qt.replace(/^,/,"")}return Et})(ut);if(this.fontFaces){var pt=(function(bt,qr){var tr=bt.getFontList(),Et=JSON.stringify(tr);if(Ge===null||Ve!==Et){var Qt=(function(br){var ht=[];return Object.keys(br).forEach(function(kr){br[kr].forEach(function(Rt){var zt=null;switch(Rt){case"bold":zt={family:kr,weight:"bold"};break;case"italic":zt={family:kr,style:"italic"};break;case"bolditalic":zt={family:kr,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:kr}}zt!==null&&(zt.ref={name:kr,style:Rt},ht.push(zt))})}),ht})(tr);Ge=(function(br){for(var ht={},kr=0;kr<br.length;++kr){var Rt=Ix(br[kr]),zt=Rt.family,Cr=Rt.stretch,Ht=Rt.style,kt=Rt.weight;ht[zt]=ht[zt]||{},ht[zt][Cr]=ht[zt][Cr]||{},ht[zt][Cr][Ht]=ht[zt][Cr][Ht]||{},ht[zt][Cr][Ht][kt]=Rt}return ht})(Qt.concat(qr)),Ve=Et}return Ge})(this.pdf,this.fontFaces),qt=jt.map(function(bt){return{family:bt,stretch:"normal",weight:rt,style:st}}),ar=(function(bt,qr,tr){for(var Et=(tr=tr||{}).defaultFontFamily||"times",Qt=Object.assign({},YP,tr.genericFontFamilies||{}),br=null,ht=null,kr=0;kr<qr.length;++kr)if(Qt[(br=Ix(qr[kr])).family]&&(br.family=Qt[br.family]),bt.hasOwnProperty(br.family)){ht=bt[br.family];break}if(!(ht=ht||bt[Et]))throw new Error("Could not find a font-family for the rule '"+H4(br)+"' and default family '"+Et+"'.");if(ht=(function(Rt,zt){if(zt[Rt])return zt[Rt];var Cr=H1[Rt],Ht=Cr<=H1.normal?-1:1,kt=I4(zt,E6,Cr,Ht);if(!kt)throw new Error("Could not find a matching font-stretch value for "+Rt);return kt})(br.stretch,ht),ht=(function(Rt,zt){if(zt[Rt])return zt[Rt];for(var Cr=L6[Rt],Ht=0;Ht<Cr.length;++Ht)if(zt[Cr[Ht]])return zt[Cr[Ht]];throw new Error("Could not find a matching font-style for "+Rt)})(br.style,ht),!(ht=(function(Rt,zt){if(zt[Rt])return zt[Rt];if(Rt===400&&zt[500])return zt[500];if(Rt===500&&zt[400])return zt[400];var Cr=WP[Rt],Ht=I4(zt,M6,Cr,Rt<400?-1:1);if(!Ht)throw new Error("Could not find a matching font-weight for value "+Rt);return Ht})(br.weight,ht)))throw new Error("Failed to resolve a font for the rule '"+H4(br)+"'.");return ht})(pt,qt);this.pdf.setFont(ar.ref.name,ar.ref.style)}else{var Pt="";(rt==="bold"||parseInt(rt,10)>=700||st==="bold")&&(Pt="bold"),st==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var er="",Wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<jt.length;xt++){if(this.pdf.internal.getFont(jt[xt],Pt,{noFallback:!0,disableWarning:!0})!==void 0){er=jt[xt];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(jt[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)er=jt[xt],Pt="bold";else if(this.pdf.internal.getFont(jt[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){er=jt[xt],Pt="normal";break}}if(er===""){for(var Dt=0;Dt<jt.length;Dt++)if(Wt[jt[Dt]]){er=Wt[jt[Dt]];break}}er=er===""?"Times":er,this.pdf.setFont(er,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(V){this.ctx.globalCompositeOperation=V}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(V){this.ctx.globalAlpha=V}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(V){this.ctx.lineDashOffset=V,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(V){this.ctx.lineDash=V,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(V){this.ctx.ignoreClearRect=!!V}})};x.prototype.setLineDash=function(P){this.lineDash=P},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){D.call(this,"fill",!1)},x.prototype.stroke=function(){D.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(P,Y){if(isNaN(P)||isNaN(Y))throw Wr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new l(P,Y));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(P,Y)},x.prototype.closePath=function(){var P=new l(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Br(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){P=new l(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(P.x,P.y)},x.prototype.lineTo=function(P,Y){if(isNaN(P)||isNaN(Y))throw Wr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new l(P,Y));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(G.x,G.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},x.prototype.quadraticCurveTo=function(P,Y,G,ue){if(isNaN(G)||isNaN(ue)||isNaN(P)||isNaN(Y))throw Wr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new l(G,ue)),xe=this.ctx.transform.applyToPoint(new l(P,Y));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new l(re.x,re.y)},x.prototype.bezierCurveTo=function(P,Y,G,ue,re,xe){if(isNaN(re)||isNaN(xe)||isNaN(P)||isNaN(Y)||isNaN(G)||isNaN(ue))throw Wr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new l(re,xe)),Se=this.ctx.transform.applyToPoint(new l(P,Y)),Le=this.ctx.transform.applyToPoint(new l(G,ue));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Le.x,y2:Le.y,x:je.x,y:je.y}),this.ctx.lastPoint=new l(je.x,je.y)},x.prototype.arc=function(P,Y,G,ue,re,xe){if(isNaN(P)||isNaN(Y)||isNaN(G)||isNaN(ue)||isNaN(re))throw Wr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new l(P,Y));P=je.x,Y=je.y;var Se=this.ctx.transform.applyToPoint(new l(0,G)),Le=this.ctx.transform.applyToPoint(new l(0,0));G=Math.sqrt(Math.pow(Se.x-Le.x,2)+Math.pow(Se.y-Le.y,2))}Math.abs(re-ue)>=2*Math.PI&&(ue=0,re=2*Math.PI),this.path.push({type:"arc",x:P,y:Y,radius:G,startAngle:ue,endAngle:re,counterclockwise:xe})},x.prototype.arcTo=function(P,Y,G,ue,re){throw new Error("arcTo not implemented.")},x.prototype.rect=function(P,Y,G,ue){if(isNaN(P)||isNaN(Y)||isNaN(G)||isNaN(ue))throw Wr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,Y),this.lineTo(P+G,Y),this.lineTo(P+G,Y+ue),this.lineTo(P,Y+ue),this.lineTo(P,Y),this.lineTo(P+G,Y),this.lineTo(P,Y)},x.prototype.fillRect=function(P,Y,G,ue){if(isNaN(P)||isNaN(Y)||isNaN(G)||isNaN(ue))throw Wr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,Y,G,ue),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},x.prototype.strokeRect=function(P,Y,G,ue){if(isNaN(P)||isNaN(Y)||isNaN(G)||isNaN(ue))throw Wr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(P,Y,G,ue),this.stroke())},x.prototype.clearRect=function(P,Y,G,ue){if(isNaN(P)||isNaN(Y)||isNaN(G)||isNaN(ue))throw Wr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,Y,G,ue))},x.prototype.save=function(P){P=typeof P!="boolean"||P;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},x.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var Y,G,ue,re;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))Y=0,G=0,ue=0,re=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(xe!==null)Y=parseInt(xe[1]),G=parseInt(xe[2]),ue=parseInt(xe[3]),re=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)Y=parseInt(xe[1]),G=parseInt(xe[2]),ue=parseInt(xe[3]),re=parseFloat(xe[4]);else{if(re=1,typeof P=="string"&&P.charAt(0)!=="#"){var je=new N6(P);P=je.ok?je.toHex():"#000000"}P.length===4?(Y=P.substring(1,2),Y+=Y,G=P.substring(2,3),G+=G,ue=P.substring(3,4),ue+=ue):(Y=P.substring(1,3),G=P.substring(3,5),ue=P.substring(5,7)),Y=parseInt(Y,16),G=parseInt(G,16),ue=parseInt(ue,16)}}return{r:Y,g:G,b:ue,a:re,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(P,Y,G,ue){if(isNaN(Y)||isNaN(G)||typeof P!="string")throw Wr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!p.call(this)){var re=ie(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;B.call(this,{text:P,x:Y,y:G,scale:xe,angle:re,align:this.textAlign,maxWidth:ue})}},x.prototype.strokeText=function(P,Y,G,ue){if(isNaN(Y)||isNaN(G)||typeof P!="string")throw Wr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ue=isNaN(ue)?void 0:ue;var re=ie(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;B.call(this,{text:P,x:Y,y:G,scale:xe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ue})}},x.prototype.measureText=function(P){if(typeof P!="string")throw Wr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,G=this.pdf.internal.scaleFactor,ue=Y.internal.getFontSize(),re=Y.getStringUnitWidth(P)*ue/Y.internal.scaleFactor;return new function(xe){var je=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this}({width:re*=Math.round(96*G/72*1e4)/1e4})},x.prototype.scale=function(P,Y){if(isNaN(P)||isNaN(Y))throw Wr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(P,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},x.prototype.rotate=function(P){if(isNaN(P))throw Wr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new u(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},x.prototype.translate=function(P,Y){if(isNaN(P)||isNaN(Y))throw Wr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,P,Y);this.ctx.transform=this.ctx.transform.multiply(G)},x.prototype.transform=function(P,Y,G,ue,re,xe){if(isNaN(P)||isNaN(Y)||isNaN(G)||isNaN(ue)||isNaN(re)||isNaN(xe))throw Wr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new u(P,Y,G,ue,re,xe);this.ctx.transform=this.ctx.transform.multiply(je)},x.prototype.setTransform=function(P,Y,G,ue,re,xe){P=isNaN(P)?1:P,Y=isNaN(Y)?0:Y,G=isNaN(G)?0:G,ue=isNaN(ue)?1:ue,re=isNaN(re)?0:re,xe=isNaN(xe)?0:xe,this.ctx.transform=new u(P,Y,G,ue,re,xe)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(P,Y,G,ue,re,xe,je,Se,Le){var be=this.pdf.getImageProperties(P),Ge=1,Ve=1,ze=1,V=1;ue!==void 0&&Se!==void 0&&(ze=Se/ue,V=Le/re,Ge=be.width/ue*Se/ue,Ve=be.height/re*Le/re),xe===void 0&&(xe=Y,je=G,Y=0,G=0),ue!==void 0&&Se===void 0&&(Se=ue,Le=re),ue===void 0&&Se===void 0&&(Se=be.width,Le=be.height);var Pe=this.ctx.transform.decompose(),st=ie(Pe.rotate.shx),rt=new u,We=(rt=(rt=(rt=rt.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new d(xe-Y*ze,je-G*V,ue*Ge,re*Ve));if(this.autoPaging){for(var ut,at=k.call(this,We),jt=[],pt=0;pt<at.length;pt+=1)jt.indexOf(at[pt])===-1&&jt.push(at[pt]);E(jt);for(var qt=jt[0],ar=jt[jt.length-1],Pt=qt;Pt<ar+1;Pt++){this.pdf.setPage(Pt);var er=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wt=Pt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Pt===1?0:xt+(Pt-2)*Dt;if(this.ctx.clip_path.length!==0){var qr=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ut,this.posX+this.margin[3],-bt+Wt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=qr}var tr=JSON.parse(JSON.stringify(We));tr=L([tr],this.posX+this.margin[3],-bt+Wt+this.ctx.prevPageLastElemOffset)[0];var Et=(Pt>qt||Pt<ar)&&j.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],er,Dt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",tr.x,tr.y,tr.w,tr.h,null,null,st),Et&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",We.x,We.y,We.w,We.h,null,null,st)};var k=function(P,Y,G){var ue=[];Y=Y||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ue.push(Math.floor((P.y+re)/G)+1);break;case"arc":ue.push(Math.floor((P.y+re-P.radius)/G)+1),ue.push(Math.floor((P.y+re+P.radius)/G)+1);break;case"qct":var xe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ue.push(Math.floor((xe.y+re)/G)+1),ue.push(Math.floor((xe.y+xe.h+re)/G)+1);break;case"bct":var je=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ue.push(Math.floor((je.y+re)/G)+1),ue.push(Math.floor((je.y+je.h+re)/G)+1);break;case"rect":ue.push(Math.floor((P.y+re)/G)+1),ue.push(Math.floor((P.y+P.h+re)/G)+1)}for(var Se=0;Se<ue.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Se];)C.call(this);return ue},C=function(){var P=this.fillStyle,Y=this.strokeStyle,G=this.font,ue=this.lineCap,re=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=Y,this.font=G,this.lineCap=ue,this.lineWidth=re,this.lineJoin=xe},L=function(P,Y,G){for(var ue=0;ue<P.length;ue++)switch(P[ue].type){case"bct":P[ue].x2+=Y,P[ue].y2+=G;case"qct":P[ue].x1+=Y,P[ue].y1+=G;default:P[ue].x+=Y,P[ue].y+=G}return P},E=function(P){return P.sort(function(Y,G){return Y-G})},D=function(P,Y){var G=this.fillStyle,ue=this.strokeStyle,re=this.lineCap,xe=this.lineWidth,je=Math.abs(xe*this.ctx.transform.scaleX),Se=this.lineJoin;if(this.autoPaging){for(var Le,be,Ge=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),ze=[],V=0;V<Ve.length;V++)if(Ve[V].x!==void 0)for(var Pe=k.call(this,Ve[V]),st=0;st<Pe.length;st+=1)ze.indexOf(Pe[st])===-1&&ze.push(Pe[st]);for(var rt=0;rt<ze.length;rt++)for(;this.pdf.internal.getNumberOfPages()<ze[rt];)C.call(this);E(ze);for(var We=ze[0],ut=ze[ze.length-1],at=We;at<ut+1;at++){this.pdf.setPage(at),this.fillStyle=G,this.strokeStyle=ue,this.lineCap=re,this.lineWidth=je,this.lineJoin=Se;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=at===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ar=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=at===1?0:qt+(at-2)*ar;if(this.ctx.clip_path.length!==0){var er=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Le,this.posX+this.margin[3],-Pt+pt+this.ctx.prevPageLastElemOffset),F.call(this,P,!0),this.path=er}if(be=JSON.parse(JSON.stringify(Ge)),this.path=L(be,this.posX+this.margin[3],-Pt+pt+this.ctx.prevPageLastElemOffset),Y===!1||at===0){var Wt=(at>We||at<ut)&&j.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,ar,null).clip().discardPath()),F.call(this,P,Y),Wt&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}this.path=Ge}else this.lineWidth=je,F.call(this,P,Y),this.lineWidth=xe},F=function(P,Y){if((P!=="stroke"||Y||!w.call(this))&&(P==="stroke"||Y||!p.call(this))){for(var G,ue,re=[],xe=this.path,je=0;je<xe.length;je++){var Se=xe[je];switch(Se.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:Se,deltas:[],abs:[]});break;case"lt":var Le=re.length;if(xe[je-1]&&!isNaN(xe[je-1].x)&&(G=[Se.x-xe[je-1].x,Se.y-xe[je-1].y],Le>0)){for(;Le>=0;Le--)if(re[Le-1].close!==!0&&re[Le-1].begin!==!0){re[Le-1].deltas.push(G),re[Le-1].abs.push(Se);break}}break;case"bct":G=[Se.x1-xe[je-1].x,Se.y1-xe[je-1].y,Se.x2-xe[je-1].x,Se.y2-xe[je-1].y,Se.x-xe[je-1].x,Se.y-xe[je-1].y],re[re.length-1].deltas.push(G);break;case"qct":var be=xe[je-1].x+2/3*(Se.x1-xe[je-1].x),Ge=xe[je-1].y+2/3*(Se.y1-xe[je-1].y),Ve=Se.x+2/3*(Se.x1-Se.x),ze=Se.y+2/3*(Se.y1-Se.y),V=Se.x,Pe=Se.y;G=[be-xe[je-1].x,Ge-xe[je-1].y,Ve-xe[je-1].x,ze-xe[je-1].y,V-xe[je-1].x,Pe-xe[je-1].y],re[re.length-1].deltas.push(G);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(Se)}}ue=Y?null:P==="stroke"?"stroke":"fill";for(var st=!1,rt=0;rt<re.length;rt++)if(re[rt].arc)for(var We=re[rt].abs,ut=0;ut<We.length;ut++){var at=We[ut];at.type==="arc"?U.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,Y,!st):X.call(this,at.x,at.y),st=!0}else if(re[rt].close===!0)this.pdf.internal.out("h"),st=!1;else if(re[rt].begin!==!0){var jt=re[rt].start.x,pt=re[rt].start.y;Q.call(this,re[rt].deltas,jt,pt),st=!0}ue&&T.call(this,ue),Y&&W.call(this)}},se=function(P){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-G;case"top":return P+Y-G;case"hanging":return P+Y-2*G;case"middle":return P+Y/2-G;default:return P}},O=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(Y,G){this.colorStops.push([Y,G])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(P,Y,G,ue,re,xe,je,Se,Le){for(var be=$.call(this,G,ue,re,xe),Ge=0;Ge<be.length;Ge++){var Ve=be[Ge];Ge===0&&(Le?I.call(this,Ve.x1+P,Ve.y1+Y):X.call(this,Ve.x1+P,Ve.y1+Y)),ge.call(this,P,Y,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}Se?W.call(this):T.call(this,je)},T=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(P,Y){this.pdf.internal.out(r(P)+" "+a(Y)+" m")},B=function(P){var Y;switch(P.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var G,ue,re,xe=this.pdf.getTextDimensions(P.text),je=se.call(this,P.y),Se=O.call(this,je)-xe.h,Le=this.ctx.transform.applyToPoint(new l(P.x,je));if(this.autoPaging){var be=this.ctx.transform.decompose(),Ge=new u;Ge=(Ge=(Ge=Ge.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Ve=this.ctx.transform.applyToRectangle(new d(P.x,je,xe.w,xe.h)),ze=Ge.applyToRectangle(new d(P.x,Se,xe.w,xe.h)),V=k.call(this,ze),Pe=[],st=0;st<V.length;st+=1)Pe.indexOf(V[st])===-1&&Pe.push(V[st]);E(Pe);for(var rt=Pe[0],We=Pe[Pe.length-1],ut=rt;ut<We+1;ut++){this.pdf.setPage(ut);var at=ut===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],qt=pt-this.margin[0],ar=this.pdf.internal.pageSize.width-this.margin[1],Pt=ar-this.margin[3],er=ut===1?0:jt+(ut-2)*qt;if(this.ctx.clip_path.length!==0){var Wt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(G,this.posX+this.margin[3],-1*er+at),F.call(this,"fill",!0),this.path=Wt}var xt=L([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-er+at+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*P.scale),re=this.lineWidth,this.lineWidth=re*P.scale);var Dt=this.autoPaging!=="text";if(Dt||xt.y+xt.h<=pt){if(Dt||xt.y>=at&&xt.x<=ar){var bt=Dt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ar-xt.x)[0],qr=L([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-er+at+this.ctx.prevPageLastElemOffset)[0],tr=Dt&&(ut>rt||ut<We)&&j.call(this);tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,qt,null).clip().discardPath()),this.pdf.text(bt,qr.x,qr.y,{angle:P.angle,align:Y,renderingMode:P.renderingMode}),tr&&this.pdf.restoreGraphicsState()}}else xt.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-xt.y);P.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=re)}}else P.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*P.scale),re=this.lineWidth,this.lineWidth=re*P.scale),this.pdf.text(P.text,Le.x+this.posX,Le.y+this.posY,{angle:P.angle,align:Y,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=re)},X=function(P,Y,G,ue){G=G||0,ue=ue||0,this.pdf.internal.out(r(P+G)+" "+a(Y+ue)+" l")},Q=function(P,Y,G){return this.pdf.lines(P,Y,G,null,null)},ge=function(P,Y,G,ue,re,xe,je,Se){this.pdf.internal.out([e(n(G+P)),e(i(ue+Y)),e(n(re+P)),e(i(xe+Y)),e(n(je+P)),e(i(Se+Y)),"c"].join(" "))},$=function(P,Y,G,ue){for(var re=2*Math.PI,xe=Math.PI/2;Y>G;)Y-=re;var je=Math.abs(G-Y);je<re&&ue&&(je=re-je);for(var Se=[],Le=ue?-1:1,be=Y;je>1e-5;){var Ge=be+Le*Math.min(je,xe);Se.push(de.call(this,P,be,Ge)),je-=Math.abs(Ge-be),be=Ge}return Se},de=function(P,Y,G){var ue=(G-Y)/2,re=P*Math.cos(ue),xe=P*Math.sin(ue),je=re,Se=-xe,Le=je*je+Se*Se,be=Le+je*re+Se*xe,Ge=4/3*(Math.sqrt(2*Le*be)-be)/(je*xe-Se*re),Ve=je-Ge*Se,ze=Se+Ge*je,V=Ve,Pe=-ze,st=ue+Y,rt=Math.cos(st),We=Math.sin(st);return{x1:P*Math.cos(Y),y1:P*Math.sin(Y),x2:Ve*rt-ze*We,y2:Ve*We+ze*rt,x3:V*rt-Pe*We,y3:V*We+Pe*rt,x4:P*Math.cos(G),y4:P*Math.sin(G)}},ie=function(P){return 180*P/Math.PI},ye=function(P,Y,G,ue,re,xe){var je=P+.5*(G-P),Se=Y+.5*(ue-Y),Le=re+.5*(G-re),be=xe+.5*(ue-xe),Ge=Math.min(P,re,je,Le),Ve=Math.max(P,re,je,Le),ze=Math.min(Y,xe,Se,be),V=Math.max(Y,xe,Se,be);return new d(Ge,ze,Ve-Ge,V-ze)},J=function(P,Y,G,ue,re,xe,je,Se){var Le,be,Ge,Ve,ze,V,Pe,st,rt,We,ut,at,jt,pt,qt=G-P,ar=ue-Y,Pt=re-G,er=xe-ue,Wt=je-re,xt=Se-xe;for(be=0;be<41;be++)rt=(Pe=(Ge=P+(Le=be/40)*qt)+Le*((ze=G+Le*Pt)-Ge))+Le*(ze+Le*(re+Le*Wt-ze)-Pe),We=(st=(Ve=Y+Le*ar)+Le*((V=ue+Le*er)-Ve))+Le*(V+Le*(xe+Le*xt-V)-st),be==0?(ut=rt,at=We,jt=rt,pt=We):(ut=Math.min(ut,rt),at=Math.min(at,We),jt=Math.max(jt,rt),pt=Math.max(pt,We));return new d(Math.round(ut),Math.round(at),Math.round(jt-ut),Math.round(pt-at))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,Y,G=(P=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:Y}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(_t.API),(function(t){var e=function(l){var d,u,h,g,x,y,p,w,j,k;for(u=[],h=0,g=(l+=d="\0\0\0\0".slice(l.length%4||4)).length;g>h;h+=4)(x=(l.charCodeAt(h)<<24)+(l.charCodeAt(h+1)<<16)+(l.charCodeAt(h+2)<<8)+l.charCodeAt(h+3))!==0?(y=(x=((x=((x=((x=(x-(k=x%85))/85)-(j=x%85))/85)-(w=x%85))/85)-(p=x%85))/85)%85,u.push(y+33,p+33,w+33,j+33,k+33)):u.push(122);return(function(C,L){for(var E=L;E>0;E--)C.pop()})(u,d.length),String.fromCharCode.apply(String,u)+"~>"},r=function(l){var d,u,h,g,x,y=String,p="length",w=255,j="charCodeAt",k="slice",C="replace";for(l[k](-2),l=l[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),h=[],g=0,x=(l+=d="uuuuu"[k](l[p]%5||5))[p];x>g;g+=5)u=52200625*(l[j](g)-33)+614125*(l[j](g+1)-33)+7225*(l[j](g+2)-33)+85*(l[j](g+3)-33)+(l[j](g+4)-33),h.push(w&u>>24,w&u>>16,w&u>>8,w&u);return(function(L,E){for(var D=E;D>0;D--)L.pop()})(h,d[p]),y.fromCharCode.apply(y,h)},a=function(l){return l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(l){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),d.test(l)===!1)return"";for(var u="",h=0;h<l.length;h+=2)u+=String.fromCharCode("0x"+(l[h]+l[h+1]));return u},i=function(l){for(var d=new Uint8Array(l.length),u=l.length;u--;)d[u]=l.charCodeAt(u);return(d=D1(d)).reduce(function(h,g){return h+String.fromCharCode(g)},"")};t.processDataByFilters=function(l,d){var u=0,h=l||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),u=0;u<d.length;u+=1)switch(d[u]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=n(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=a(h),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[u]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}})(_t.API),(function(t){t.loadFile=function(e,r,a){return(function(n,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var d=void 0;try{d=(function(u,h,g){var x=new XMLHttpRequest,y=0,p=function(w){var j=w.length,k=[],C=String.fromCharCode;for(y=0;y<j;y+=1)k.push(C(255&w.charCodeAt(y)));return k.join("")};if(x.open("GET",u,!h),x.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(x.onload=function(){x.status===200?g(p(this.responseText)):g(void 0)}),x.send(null),h&&x.status===200)return p(x.responseText)})(n,i,l)}catch{}return d})(e,r,a)},t.loadImageFile=t.loadFile})(_t.API),(function(t){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):Nx(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):Nx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var u=Br(d);return u==="undefined"?"undefined":u==="string"||d instanceof String?"string":u==="number"||d instanceof Number?"number":u==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":u==="object"?"object":"unknown"},n=function(d,u){var h=document.createElement(d);for(var g in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[g]=u.style[g];return h},i=function d(u,h){for(var g=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),x=u.firstChild;x;x=x.nextSibling)h!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||g.appendChild(d(x,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(g.width=u.width,g.height=u.height,g.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(g.value=u.value),g.addEventListener("load",function(){g.scrollTop=u.scrollTop,g.scrollLeft=u.scrollLeft},!0)),g},l=function d(u){var h=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),h);return(g=g.setProgress(1,d,1,[d])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(d,u){return d.__proto__=u||l.prototype,d},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(d,u){return this.then(function(){switch(u=u||(function(h){switch(a(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),u){case"string":return this.then(r).then(function(h){return this.set({src:n("div",{innerHTML:d,dompurify:h})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},l.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(u){var h=this.opt.jsPDF,g=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var p=0;p<g.length;++p){var w=g[p],j=w.src.find(function(k){return k.format==="truetype"});j&&h.addFont(j.url,w.ref.name,w.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(d,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(d,u):this.outputPdf(d,u)},l.prototype.outputPdf=function(d,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,u)})},l.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},l.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(d){if(a(d)!=="object")return this;var u=Object.keys(d||{}).map(function(h){if(h in l.template.prop)return function(){this.prop[h]=d[h]};switch(h){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[h]=d[h]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(d,u){return this.then(function(){var h=d in l.template.prop?this.prop[d]:this.opt[d];return u?u(h):h})},l.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},l.prototype.setPageSize=function(d){function u(h,g){return Math.floor(h*g/72*96)}return this.then(function(){(d=d||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:u(d.inner.width,d.k),height:u(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},l.prototype.setProgress=function(d,u,h,g){return d!=null&&(this.progress.val=d),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(d,u,h,g){return this.setProgress(d?this.progress.val+d:null,u||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},l.prototype.then=function(d,u){var h=this;return this.thenCore(d,u,function(g,x){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,g),y}).then(g,x).then(function(y){return h.updateProgress(1),y})})},l.prototype.thenCore=function(d,u,h){h=h||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),u&&(u=u.bind(g));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:l.convert(Object.assign({},g),Promise.prototype),y=h.call(x,d,u);return l.convert(y,g.__proto__)},l.prototype.thenExternal=function(d,u){return Promise.prototype.then.call(this,d,u)},l.prototype.thenList=function(d){var u=this;return d.forEach(function(h){u=u.thenCore(h)}),u},l.prototype.catch=function(d){d&&(d=d.bind(this));var u=Promise.prototype.catch.call(this,d);return l.convert(u,this)},l.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},l.prototype.error=function(d){return this.then(function(){throw new Error(d)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,_t.getPageSize=function(d,u,h){if(Br(d)==="object"){var g=d;d=g.orientation,u=g.unit||u,h=g.format||h}u=u||"mm",h=h||"a4",d=(""+(d||"P")).toLowerCase();var x,y=(""+h).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+u}var w,j=0,k=0;if(p.hasOwnProperty(y))j=p[y][1]/x,k=p[y][0]/x;else try{j=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(d==="p"||d==="portrait")d="p",k>j&&(w=k,k=j,j=w);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",j>k&&(w=k,k=j,j=w)}return{width:k,height:j,unit:u,k:x,orientation:d}},t.html=function(d,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Ix):null;var h=new l(u);return u.worker?h:h.from(d).doCallback()}})(_t.API),_t.API.addJS=function(t){return $4=t,this.internal.events.subscribe("postPutResources",function(){Sg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),V4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sg!==void 0&&V4!==void 0&&this.internal.out("/Names <</JavaScript "+Sg+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),i=0;i<n.length;i++){var l=n[i],d=a.exec(l);if(d!=null){var u=d[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(i=0;i<h;i++){var x=r.internal.newObject();g.push(x);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<g.length;i++)r.internal.write("(page_"+(i+1)+")"+g[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,i){var l={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var l=a.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var d=this.count=this.count_r({count:0},l);if(d>0&&this.line("/Count "+d),l.options&&l.options.pageNumber){var u=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var h=0;h<a.children.length;h++)this.renderItems(a.children[h])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])})(_t.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,a,n,i,l,d){var u,h=this.decode.DCT_DECODE,g=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(x){for(var y,p=256*x.charCodeAt(4)+x.charCodeAt(5),w=x.length,j={width:0,height:0,numcomponents:1},k=4;k<w;k+=2){if(k+=p,e.indexOf(x.charCodeAt(k+1))!==-1){y=256*x.charCodeAt(k+5)+x.charCodeAt(k+6),j={width:256*x.charCodeAt(k+7)+x.charCodeAt(k+8),height:y,numcomponents:x.charCodeAt(k+9)};break}p=256*x.charCodeAt(k+2)+x.charCodeAt(k+3)}return j})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:r,width:u.width,height:u.height,colorSpace:d,bitsPerComponent:8,filter:h,index:a,alias:n}}return g}})(_t.API),_t.API.processPNG=function(t,e,r,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var n,i=RP(t,{checkCrc:!0}),l=i.width,d=i.height,u=i.channels,h=i.palette,g=i.depth;n=h&&u===1?(function(U){for(var T=U.width,W=U.height,I=U.data,B=U.palette,X=U.depth,Q=!1,ge=[],$=[],de=void 0,ie=!1,ye=0,J=0;J<B.length;J++){var te=Xv(B[J],4),P=te[0],Y=te[1],G=te[2],ue=te[3];ge.push(P,Y,G),ue!=null&&(ue===0?(ye++,$.length<1&&$.push(J)):ue<255&&(ie=!0))}if(ie||ye>1){Q=!0,$=void 0;var re=T*W;de=new Uint8Array(re);for(var xe=new DataView(I.buffer),je=0;je<re;je++){var Se=Hx(xe,je,X),Le=Xv(B[Se],4)[3];de[je]=Le}}else ye===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Q?8:void 0,colorBytes:I,alphaBytes:de,needSMask:Q,palette:ge,mask:$}})(i):u===2||u===4?(function(U){for(var T=U.data,W=U.width,I=U.height,B=U.channels,X=U.depth,Q=B===2?"DeviceGray":"DeviceRGB",ge=B-1,$=W*I,de=ge,ie=$*de,ye=1*$,J=Math.ceil(ie*X/8),te=Math.ceil(ye*X/8),P=new Uint8Array(J),Y=new Uint8Array(te),G=new DataView(T.buffer),ue=new DataView(P.buffer),re=new DataView(Y.buffer),xe=!1,je=0;je<$;je++){for(var Se=je*B,Le=0;Le<de;Le++)ew(ue,Hx(G,Se+Le,X),je*de+Le,X);var be=Hx(G,Se+de,X);be<(1<<X)-1&&(xe=!0),ew(re,be,1*je,X)}return{colorSpace:Q,colorsPerPixel:ge,sMaskBitsPerComponent:xe?X:void 0,colorBytes:P,alphaBytes:Y,needSMask:xe}})(i):(function(U){var T=U.data,W=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:W,colorsPerPixel:W==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?(function(I){for(var B=I.length,X=new Uint8Array(2*B),Q=new DataView(X.buffer,X.byteOffset,X.byteLength),ge=0;ge<B;ge++)Q.setUint16(2*ge,I[ge],!1);return X})(T):T,needSMask:!1}})(i);var x,y,p,w=n,j=w.colorSpace,k=w.colorsPerPixel,C=w.sMaskBitsPerComponent,L=w.colorBytes,E=w.alphaBytes,D=w.needSMask,F=w.palette,se=w.mask,O=null;return a!==_t.API.image_compression.NONE&&typeof D1=="function"?(O=(function(U){var T;switch(U){case _t.API.image_compression.FAST:T=11;break;case _t.API.image_compression.MEDIUM:T=13;break;case _t.API.image_compression.SLOW:T=14;break;default:T=12}return T})(a),x=this.decode.FLATE_DECODE,y="/Predictor ".concat(O," /Colors ").concat(k," /BitsPerComponent ").concat(g," /Columns ").concat(l),t=X4(L,Math.ceil(l*k*g/8),k,g,a),D&&(p=X4(E,Math.ceil(l*C/8),1,C,a))):(x=void 0,y=void 0,t=L,D&&(p=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:x,decodeParameters:y,transparency:se,palette:F,sMask:p,predictor:O,width:l,height:d,bitsPerComponent:g,sMaskBitsPerComponent:C,colorSpace:j}}},(function(t){t.processGIF89A=function(e,r,a,n){var i=new JP(e),l=i.width,d=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:l,height:d},g=new qx(100).encode(h,100);return t.processJPEG.call(this,g,r,a,n)},t.processGIF87A=t.processGIF89A})(_t.API),uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Wr.log("bit decode error:"+r)}},uo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,n=0;n<e;n++)for(var i=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+8*n*4,d=0;d<8&&8*n+d<this.width;d++){var u=this.palette[i>>7-d&1];this.data[l+4*d]=u.blue,this.data[l+4*d+1]=u.green,this.data[l+4*d+2]=u.red,this.data[l+4*d+3]=255}r!==0&&(this.pos+=4-r)}},uo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<t;n++){var i=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+2*n*4,d=i>>4,u=15&i,h=this.palette[d];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*n+1>=this.width)break;h=this.palette[u],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},uo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(n<this.palette.length){var l=this.palette[n];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},uo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,d=(i>>5&e)/e*255|0,u=(i>>10&e)/e*255|0,h=i>>15?255:0,g=a*this.width*4+4*n;this.data[g]=u,this.data[g+1]=d,this.data[g+2]=l,this.data[g+3]=h}this.pos+=t}},uo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&e)/e*255|0,u=(l>>5&r)/r*255|0,h=(l>>11)/e*255|0,g=n*this.width*4+4*i;this.data[g]=h,this.data[g+1]=u,this.data[g+2]=d,this.data[g+3]=255}this.pos+=t}},uo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=a,this.data[l+3]=255}this.pos+=this.width%4}},uo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*r;this.data[d]=i,this.data[d+1]=n,this.data[d+2]=a,this.data[d+3]=l}},uo.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,a,n){var i=new uo(e,!1),l=i.width,d=i.height,u={data:i.getData(),width:l,height:d},h=new qx(100).encode(u,100);return t.processJPEG.call(this,h,r,a,n)}})(_t.API),rw.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,a,n){var i=new rw(e),l=i.width,d=i.height,u={data:i.getData(),width:l,height:d},h=new qx(100).encode(u,100);return t.processJPEG.call(this,h,r,a,n)}})(_t.API),_t.API.processRGBA=function(t,e,r){for(var a=t.data,n=a.length,i=new Uint8Array(n/4*3),l=new Uint8Array(n/4),d=0,u=0,h=0;h<n;h+=4){var g=a[h],x=a[h+1],y=a[h+2],p=a[h+3];i[d++]=g,i[d++]=x,i[d++]=y,l[u++]=p}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zu=_t.API,Cg=Zu.getCharWidthsArray=function(t,e){var r,a,n=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:n.metadata.Unicode.widths,u=d.fof?d.fof:1,h=e.kerning?e.kerning:n.metadata.Unicode.kerning,g=h.fof?h.fof:1,x=e.doKerning!==!1,y=0,p=t.length,w=0,j=d[0]||u,k=[];for(r=0;r<p;r++)a=t.charCodeAt(r),typeof n.metadata.widthOfString=="function"?k.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+l*(1e3/i)||0)/1e3):(y=x&&Br(h[a])==="object"&&!isNaN(parseInt(h[a][w],10))?h[a][w]/g:0,k.push((d[a]||j)/u+y)),w=a;return k},W4=Zu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return Zu.processArabic&&(t=Zu.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,r,n)/r:Cg.apply(this,arguments).reduce(function(i,l){return i+l},0)},Y4=function(t,e,r,a){for(var n=[],i=0,l=t.length,d=0;i!==l&&d+e[i]<r;)d+=e[i],i++;n.push(t.slice(0,i));var u=i;for(d=0;i!==l;)d+e[i]>a&&(n.push(t.slice(u,i)),d=0,u=i),d+=e[i],i++;return u!==i&&n.push(t.slice(u,i)),n},G4=function(t,e,r){r||(r={});var a,n,i,l,d,u,h,g=[],x=[g],y=r.textIndent||0,p=0,w=0,j=t.split(" "),k=Cg.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?j[0].length+2:r.lineIndent||0){var C=Array(u).join(" "),L=[];j.map(function(D){(D=D.split(/\s*\n/)).length>1?L=L.concat(D.map(function(F,se){return(se&&F.length?`
`:"")+F})):L.push(D[0])}),j=L,u=W4.apply(this,[C,r])}for(i=0,l=j.length;i<l;i++){var E=0;if(a=j[i],u&&a[0]==`
`&&(a=a.substr(1),E=1),y+p+(w=(n=Cg.apply(this,[a,r])).reduce(function(D,F){return D+F},0))>e||E){if(w>e){for(d=Y4.apply(this,[a,n,e-(y+p),e]),g.push(d.shift()),g=[d.pop()];d.length;)x.push([d.shift()]);w=n.slice(a.length-(g[0]?g[0].length:0)).reduce(function(D,F){return D+F},0)}else g=[a];x.push(g),y=w+u,p=k}else g.push(a),y+=p+w,p=k}return h=u?function(D,F){return(F?C:"")+D.join(" ")}:function(D){return D.join(" ")},x.map(h)},Zu.splitTextToSize=function(t,e,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var x=this.internal.getFont(g.fontName,g.fontStyle),y="Unicode";return x.metadata[y]?{widths:x.metadata[y].widths||{0:1},kerning:x.metadata[y].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/n;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=r.lineIndent;var d,u,h=[];for(d=0,u=a.length;d<u;d++)h=h.concat(G4.apply(this,[a[d],l,i]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",a={},n={},i=0;i<16;i++)a[r[i]]=e[i],n[e[i]]=r[i];var l=function(y){return"0x"+parseInt(y,10).toString(16)},d=t.__fontmetrics__.compress=function(y){var p,w,j,k,C=["{"];for(var L in y){if(p=y[L],isNaN(parseInt(L,10))?w="'"+L+"'":(L=parseInt(L,10),w=(w=l(L).slice(2)).slice(0,-1)+n[w.slice(-1)]),typeof p=="number")p<0?(j=l(p).slice(3),k="-"):(j=l(p).slice(2),k=""),j=k+j.slice(0,-1)+n[j.slice(-1)];else{if(Br(p)!=="object")throw new Error("Don't know what to do with value type "+Br(p)+".");j=d(p)}C.push(w+j)}return C.push("}"),C.join("")},u=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,w,j,k,C={},L=1,E=C,D=[],F="",se="",O=y.length-1,U=1;U<O;U+=1)(k=y[U])=="'"?p?(j=p.join(""),p=void 0):p=[]:p?p.push(k):k=="{"?(D.push([E,j]),E={},j=void 0):k=="}"?((w=D.pop())[0][w[1]]=E,j=void 0,E=w[0]):k=="-"?L=-1:j===void 0?a.hasOwnProperty(k)?(F+=a[k],j=parseInt(F,16)*L,L=1,F=""):F+=k:a.hasOwnProperty(k)?(se+=a[k],E[j]=parseInt(se,16)*L,L=1,j=void 0,se=""):se+=k;return C},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},x={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var p=y.font,w=x.Unicode[p.postScriptName];w&&(p.metadata.Unicode={},p.metadata.Unicode.widths=w.widths,p.metadata.Unicode.kerning=w.kerning);var j=g.Unicode[p.postScriptName];j&&(p.metadata.Unicode.encoding=j,p.encoding=j.codePages[0])}])})(_t.API),(function(t){var e=function(r){for(var a=r.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=r.charCodeAt(i);return n};t.API.events.push(["addFont",function(r){var a=void 0,n=r.font,i=r.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e($g(d)),l.metadata=t.API.TTFFont.open(d),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,a)}}])})(_t),_t.API.addSvgAsImage=function(t,e,r,a,n,i,l,d){if(isNaN(e)||isNaN(r))throw Wr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw Wr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=n;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Ut.canvg?Promise.resolve(Ut.canvg):Nx(()=>import("./index.es-B2gVbu12.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(g)}).then(function(){x.addImage(u.toDataURL("image/jpeg",1),e,r,a,n,l,d)})},_t.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(e,r);return this},_t.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var a,n,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(l),u=[],h=0,g=0,x=0;function y(w,j){var k,C=!1;for(k=0;k<w.length;k+=1)w[k]===j&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=d.length;for(x=0;x<p;x+=1)r[d[x]].value=r[d[x]].defaultValue,r[d[x]].explicitSet=!1}if(Br(t)==="object"){for(n in t)if(i=t[n],y(d,n)&&i!==void 0){if(r[n].type==="boolean"&&typeof i=="boolean")r[n].value=i;else if(r[n].type==="name"&&y(r[n].valueSet,i))r[n].value=i;else if(r[n].type==="integer"&&Number.isInteger(i))r[n].value=i;else if(r[n].type==="array"){for(h=0;h<i.length;h+=1)if(a=!0,i[h].length===1&&typeof i[h][0]=="number")u.push(String(i[h]-1));else if(i[h].length>1){for(g=0;g<i[h].length;g+=1)typeof i[h][g]!="number"&&(a=!1);a===!0&&u.push([i[h][0]-1,i[h][1]-1].join(" "))}r[n].value="["+u.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,j=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?j.push("/"+w+" /"+r[w].value):j.push("/"+w+" "+r[w].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+l.length+d.length+n.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(n+i+l+d+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(_t.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,l){for(var d,u=l.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],x=0,y=i.length;x<y;++x){if(d=l.metadata.characterToGlyph(i.charCodeAt(x)),l.metadata.glyIdsUsed.push(d),l.metadata.toUnicode[d]=i.charCodeAt(x),u.indexOf(d)==-1&&(u.push(d),u.push([parseInt(l.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(h[4-d.length],d)}return g.join("")},a=function(i){var l,d,u,h,g,x,y;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],x=0,y=(d=Object.keys(i).sort(function(p,w){return p-w})).length;x<y;x++)l=d[x],u.length>=100&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(h=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+h+">"));return u.length&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(l){var d=l.font,u=l.out,h=l.newObject,g=l.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,y=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),p="",w=0;w<y.length;w++)p+=String.fromCharCode(y[w]);var j=h();g({data:p,addLength1:!0,objectId:j}),u("endobj");var k=h();g({data:a(d.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var C=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+eh(d.fontName)),u("/FontFile2 "+j+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),u("/Flags "+d.metadata.flags),u("/StemV "+d.metadata.stemV),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u(">>"),u("endobj");var L=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+eh(d.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+t.API.PDFObject.convert(x)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+d.encoding+")"),u(">>"),u(">>"),u("endobj"),d.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+k+" 0 R"),u("/BaseFont /"+eh(d.fontName)),u("/Encoding /"+d.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),d.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(l){var d=l.font,u=l.out,h=l.newObject,g=l.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,y="",p=0;p<x.length;p++)y+=String.fromCharCode(x[p]);var w=h();g({data:y,addLength1:!0,objectId:w}),u("endobj");var j=h();g({data:a(d.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var k=h();u("<<"),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u("/StemV "+d.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),u("/FontName /"+eh(d.fontName)),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u(">>"),u("endobj"),d.objectNumber=h();for(var C=0;C<d.metadata.hmtx.widths.length;C++)d.metadata.hmtx.widths[C]=parseInt(d.metadata.hmtx.widths[C]*(1e3/d.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+eh(d.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),u("endobj"),d.isAlreadyPutted=!0}})(i)}]);var n=function(i){var l,d=i.text||"",u=i.x,h=i.y,g=i.options||{},x=i.mutex||{},y=x.pdfEscape,p=x.activeFontKey,w=x.fonts,j=p,k="",C=0,L="",E=w[j].encoding;if(w[j].encoding!=="Identity-H")return{text:d,x:u,y:h,options:g,mutex:x};for(L=d,j=p,Array.isArray(d)&&(L=d[0]),C=0;C<L.length;C+=1)w[j].metadata.hasOwnProperty("cmap")&&(l=w[j].metadata.cmap.unicode.codeMap[L[C].charCodeAt(0)]),l||L[C].charCodeAt(0)<256&&w[j].metadata.hasOwnProperty("Unicode")?k+=L[C]:k+="";var D="";return parseInt(j.slice(1))<14||E==="WinAnsiEncoding"?D=y(k,j).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(D=r(k,w[j])),x.isHex=!0,{text:D,x:u,y:h,options:g,mutex:x}};e.events.push(["postProcessText",function(i){var l=i.text||"",d=[],u={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?d.push([n(Object.assign({},u,{text:l[h][0]})).text,l[h][1],l[h][2]]):d.push(n(Object.assign({},u,{text:l[h]})).text);i.text=d}else i.text=n(Object.assign({},u,{text:l})).text}])})(_t),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,a){return e.call(this),this.internal.vFS[r]=a,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(_t.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var n,i,l,d,u,h,g,x=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,E=0;this.__bidiEngine__={};var D=function(I){var B=I.charCodeAt(),X=B>>8,Q=j[X];return Q!==void 0?x[256*Q+(255&B)]:X===252||X===253?"AL":C.test(X)?"L":X===8?"R":"N"},F=function(I){for(var B,X=0;X<I.length;X++){if((B=D(I.charAt(X)))==="L")return!1;if(B==="R")return!0}return!1},se=function(I,B,X,Q){var ge,$,de,ie,ye=B[Q];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(ye="AN");break;case"AL":L=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":Q<1||Q+1>=B.length||(ge=X[Q-1])!=="EN"&&ge!=="AN"||($=B[Q+1])!=="EN"&&$!=="AN"?ye="N":L&&($="AN"),ye=$===ge?$:"N";break;case"ES":ye=(ge=Q>0?X[Q-1]:"B")==="EN"&&Q+1<B.length&&B[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&X[Q-1]==="EN"){ye="EN";break}if(L){ye="N";break}for(de=Q+1,ie=B.length;de<ie&&B[de]==="ET";)de++;ye=de<ie&&B[de]==="EN"?"EN":"N";break;case"NSM":if(l&&!d){for(ie=B.length,de=Q+1;de<ie&&B[de]==="NSM";)de++;if(de<ie){var J=I[Q],te=J>=1425&&J<=2303||J===64286;if(ge=B[de],te&&(ge==="R"||ge==="AL")){ye="R";break}}}ye=Q<1||(ge=B[Q-1])==="B"?"N":X[Q-1];break;case"B":L=!1,n=!0,ye=E;break;case"S":i=!0,ye="N"}return ye},O=function(I,B,X){var Q=I.split("");return X&&U(Q,X,{hiLevel:E}),Q.reverse(),B&&B.reverse(),Q.join("")},U=function(I,B,X){var Q,ge,$,de,ie,ye=-1,J=I.length,te=0,P=[],Y=E?p:y,G=[];for(L=!1,n=!1,i=!1,ge=0;ge<J;ge++)G[ge]=D(I[ge]);for($=0;$<J;$++){if(ie=te,P[$]=se(I,G,P,$),Q=240&(te=Y[ie][w[P[$]]]),te&=15,B[$]=de=Y[te][5],Q>0)if(Q===16){for(ge=ye;ge<$;ge++)B[ge]=1;ye=-1}else ye=-1;if(Y[te][6])ye===-1&&(ye=$);else if(ye>-1){for(ge=ye;ge<$;ge++)B[ge]=de;ye=-1}G[$]==="B"&&(B[$]=0),X.hiLevel|=de}i&&(function(ue,re,xe){for(var je=0;je<xe;je++)if(ue[je]==="S"){re[je]=E;for(var Se=je-1;Se>=0&&ue[Se]==="WS";Se--)re[Se]=E}})(G,B,J)},T=function(I,B,X,Q,ge){if(!(ge.hiLevel<I)){if(I===1&&E===1&&!n)return B.reverse(),void(X&&X.reverse());for(var $,de,ie,ye,J=B.length,te=0;te<J;){if(Q[te]>=I){for(ie=te+1;ie<J&&Q[ie]>=I;)ie++;for(ye=te,de=ie-1;ye<de;ye++,de--)$=B[ye],B[ye]=B[de],B[de]=$,X&&($=X[ye],X[ye]=X[de],X[de]=$);te=ie}te++}}},W=function(I,B,X){var Q=I.split(""),ge={hiLevel:E};return X||(X=[]),U(Q,X,ge),(function($,de,ie){if(ie.hiLevel!==0&&g)for(var ye,J=0;J<$.length;J++)de[J]===1&&(ye=k.indexOf($[J]))>=0&&($[J]=k[ye+1])})(Q,X,ge),T(2,Q,B,X,ge),T(1,Q,B,X,ge),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(I,B,X){if((function(ge,$){if($)for(var de=0;de<ge.length;de++)$[de]=de;d===void 0&&(d=F(ge)),h===void 0&&(h=F(ge))})(I,B),l||!u||h)if(l&&u&&d^h)E=d?1:0,I=O(I,B,X);else if(!l&&u&&h)E=d?1:0,I=W(I,B,X),I=O(I,B);else if(!l||d||u||h){if(l&&!u&&d^h)I=O(I,B),d?(E=0,I=W(I,B,X)):(E=1,I=W(I,B,X),I=O(I,B));else if(l&&d&&!u&&h)E=1,I=W(I,B,X),I=O(I,B);else if(!l&&!u&&d^h){var Q=g;d?(E=1,I=W(I,B,X),E=0,g=!1,I=W(I,B,X),g=Q):(E=0,I=W(I,B,X),I=O(I,B),E=1,g=!1,I=W(I,B,X),g=Q,I=O(I,B))}}else E=0,I=W(I,B,X);else E=d?1:0,I=W(I,B,X);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,u=I.isOutputVisual,d=I.isInputRtl,h=I.isOutputRtl,g=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var d=0;for(l=[],d=0;d<n.length;d+=1)Object.prototype.toString.call(n[d])==="[object Array]"?l.push([r.doBidiReorder(n[d][0]),n[d][1],n[d][2]]):l.push([r.doBidiReorder(n[d])]);a.text=l}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])})(_t),_t.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Zc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new gD(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new eD(this.contents),this.head=new rD(this),this.name=new oD(this),this.cmap=new T6(this),this.toUnicode={},this.hhea=new aD(this),this.maxp=new lD(this),this.hmtx=new cD(this),this.post=new nD(this),this.os2=new sD(this),this.loca=new fD(this),this.glyf=new dD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,d,u,h;for(h=[],l=0,d=(u=this.bbox).length;l<d;l++)e=u[l],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,a){var n,i,l,d;for(l=0,i=0,d=(e=""+e).length;0<=d?i<d:i>d;i=0<=d?++i:--i)n=e.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return l*(r/1e3)},t.prototype.lineHeight=function(e,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t})();var bo,Zc=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,a;for(a=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var r,a,n;for(n=[],r=0,a=e.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(e.charCodeAt(r)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,a,n,i,l,d,u;return e=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),d=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^l)+256*(255^d)+(255^u)+1):72057594037927940*e+281474976710656*r+1099511627776*a+4294967296*n+16777216*i+65536*l+256*d+u},t.prototype.writeLongLong=function(e){var r,a;return r=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,a;for(r=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)r.push(this.readByte());return r},t.prototype.write=function(e){var r,a,n,i;for(i=[],a=0,n=e.length;a<n;a++)r=e[a],i.push(this.writeByte(r));return i},t})(),eD=(function(){var t;function e(r){var a,n,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(r){var a,n,i,l,d,u,h,g,x,y,p,w,j;for(j in p=Object.keys(r).length,u=Math.log(2),x=16*Math.floor(Math.log(p)/u),l=Math.floor(x/u),g=16*p-x,(n=new Zc).writeInt(this.scalarType),n.writeShort(p),n.writeShort(x),n.writeShort(l),n.writeShort(g),i=16*p,h=n.pos+i,d=null,w=[],r)for(y=r[j],n.writeString(j),n.writeInt(t(y)),n.writeInt(h),n.writeInt(y.length),w=w.concat(y),j==="head"&&(d=h),h+=y.length;h%4;)w.push(0),h++;return n.write(w),a=2981146554-t(n.data),n.pos=d+8,n.writeUInt32(a),n.data},t=function(r){var a,n,i,l;for(r=P6.call(r);r.length%4;)r.push(0);for(i=new Zc(r),n=0,a=0,l=r.length;a<l;a=a+=4)n+=i.readUInt32();return 4294967295&n},e})(),tD={}.hasOwnProperty,al=function(t,e){for(var r in e)tD.call(e,r)&&(t[r]=e[r]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};bo=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var rD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Zc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),aw=(function(){function t(e,r){var a,n,i,l,d,u,h,g,x,y,p,w,j,k,C,L,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,i=(function(){var D,F;for(F=[],u=D=0;0<=y?D<y:D>y;u=0<=y?++D:--D)F.push(e.readUInt16());return F})(),e.pos+=2,j=(function(){var D,F;for(F=[],u=D=0;0<=y?D<y:D>y;u=0<=y?++D:--D)F.push(e.readUInt16());return F})(),h=(function(){var D,F;for(F=[],u=D=0;0<=y?D<y:D>y;u=0<=y?++D:--D)F.push(e.readUInt16());return F})(),g=(function(){var D,F;for(F=[],u=D=0;0<=y?D<y:D>y;u=0<=y?++D:--D)F.push(e.readUInt16());return F})(),n=(this.length-e.pos+this.offset)/2,d=(function(){var D,F;for(F=[],u=D=0;0<=n?D<n:D>n;u=0<=n?++D:--D)F.push(e.readUInt16());return F})(),u=C=0,E=i.length;C<E;u=++C)for(k=i[u],a=L=w=j[u];w<=k?L<=k:L>=k;a=w<=k?++L:--L)g[u]===0?l=a+h[u]:(l=d[g[u]/2+(a-w)-(y-u)]||0)!==0&&(l+=h[u]),this.codeMap[a]=65535&l}e.pos=x}return t.encode=function(e,r){var a,n,i,l,d,u,h,g,x,y,p,w,j,k,C,L,E,D,F,se,O,U,T,W,I,B,X,Q,ge,$,de,ie,ye,J,te,P,Y,G,ue,re,xe,je,Se,Le,be,Ge;switch(Q=new Zc,l=Object.keys(e).sort(function(Ve,ze){return Ve-ze}),r){case"macroman":for(j=0,k=(function(){var Ve=[];for(w=0;w<256;++w)Ve.push(0);return Ve})(),L={0:0},i={},ge=0,ye=l.length;ge<ye;ge++)L[Se=e[n=l[ge]]]==null&&(L[Se]=++j),i[n]={old:e[n],new:L[e[n]]},k[n]=L[e[n]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(k),{charMap:i,subtable:Q.data,maxGlyphID:j+1};case"unicode":for(B=[],x=[],E=0,L={},a={},C=h=null,$=0,J=l.length;$<J;$++)L[F=e[n=l[$]]]==null&&(L[F]=++E),a[n]={old:F,new:L[F]},d=L[F]-n,C!=null&&d===h||(C&&x.push(C),B.push(n),h=d),C=n;for(C&&x.push(C),x.push(65535),B.push(65535),W=2*(T=B.length),U=2*Math.pow(Math.log(T)/Math.LN2,2),y=Math.log(U/2)/Math.LN2,O=2*T-U,u=[],se=[],p=[],w=de=0,te=B.length;de<te;w=++de){if(I=B[w],g=x[w],I===65535){u.push(0),se.push(0);break}if(I-(X=a[I].new)>=32768)for(u.push(0),se.push(2*(p.length+T-w)),n=ie=I;I<=g?ie<=g:ie>=g;n=I<=g?++ie:--ie)p.push(a[n].new);else u.push(X-I),se.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*T+2*p.length),Q.writeUInt16(0),Q.writeUInt16(W),Q.writeUInt16(U),Q.writeUInt16(y),Q.writeUInt16(O),xe=0,P=x.length;xe<P;xe++)n=x[xe],Q.writeUInt16(n);for(Q.writeUInt16(0),je=0,Y=B.length;je<Y;je++)n=B[je],Q.writeUInt16(n);for(Le=0,G=u.length;Le<G;Le++)d=u[Le],Q.writeUInt16(d);for(be=0,ue=se.length;be<ue;be++)D=se[be],Q.writeUInt16(D);for(Ge=0,re=p.length;Ge<re;Ge++)j=p[Ge],Q.writeUInt16(j);return{charMap:a,subtable:Q.data,maxGlyphID:E+1}}},t})(),T6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,a,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r=new aw(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var a,n;return r==null&&(r="macroman"),a=aw.encode(e,r),(n=new Zc).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},t})(),aD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),sD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(e.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),nD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="post",t.prototype.parse=function(e){var r,a,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)r=e.readByte(),n.push(this.names.push(e.readString(r)));return n;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var l,d,u;for(u=[],i=l=0,d=this.file.maxp.numGlyphs;0<=d?l<d:l>d;i=0<=d?++l:--l)u.push(e.readUInt32());return u}).call(this)}},t})(),iD=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="name",t.prototype.parse=function(e){var r,a,n,i,l,d,u,h,g,x,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),d=e.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(u={},i=g=0,x=a.length;g<x;i=++g)n=a[i],e.pos=n.offset,h=e.readString(n.length),l=new iD(h,n),u[y=n.nameID]==null&&(u[y]=[]),u[n.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),lD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),cD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,a,n,i,l,d,u;for(e.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,g;for(g=[],r=h=0;0<=n?h<n:h>n;r=0<=n?++h:--h)g.push(e.readInt16());return g})(),this.widths=(function(){var h,g,x,y;for(y=[],h=0,g=(x=this.metrics).length;h<g;h++)i=x[h],y.push(i.advance);return y}).call(this),a=this.widths[this.widths.length-1],u=[],r=l=0;0<=n?l<n:l>n;r=0<=n?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),P6=[].slice,dD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,a,n,i,l,d,u,h,g,x;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(e),(n=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+a,l=(d=new Zc(r.read(n))).readShort(),h=d.readShort(),x=d.readShort(),u=d.readShort(),g=d.readShort(),this.cache[e]=l===-1?new hD(d,h,x,u,g):new uD(d,l,h,x,u,g),this.cache[e]))},t.prototype.encode=function(e,r,a){var n,i,l,d,u;for(l=[],i=[],d=0,u=r.length;d<u;d++)n=e[r[d]],i.push(l.length),n&&(l=l.concat(n.encode(a)));return i.push(l.length),{table:l,offsets:i}},t})(),uD=(function(){function t(e,r,a,n,i,l){this.raw=e,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),hD=(function(){function t(e,r,a,n,i){var l,d;for(this.raw=e,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;d=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&d;)l.pos+=1&d?4:2,128&d?l.pos+=8:64&d?l.pos+=4:8&d&&(l.pos+=2)}return t.prototype.encode=function(){var e,r,a;for(r=new Zc(P6.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),fD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return al(t,bo),t.prototype.tag="loca",t.prototype.parse=function(e){var r,a;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var a=new Uint32Array(this.offsets.length),n=0,i=0,l=0;l<a.length;++l)if(a[l]=n,i<r.length&&r[i]==l){++i,a[l]=n;var d=this.offsets[l],u=this.offsets[l+1]-d;u>0&&(n+=u)}for(var h=new Array(4*a.length),g=0;g<a.length;++g)h[4*g+3]=255&a[g],h[4*g+2]=(65280&a[g])>>8,h[4*g+1]=(16711680&a[g])>>16,h[4*g]=(4278190080&a[g])>>24;return h},t})(),gD=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,a,n,i;for(r in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)a=i[r],e[r]=n[a];return e},t.prototype.glyphsFor=function(e){var r,a,n,i,l,d,u;for(n={},l=0,d=e.length;l<d;l++)n[i=e[l]]=this.font.glyf.glyphFor(i);for(i in r=[],n)(a=n[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))a=u[i],n[i]=a;return n},t.prototype.encode=function(e,r){var a,n,i,l,d,u,h,g,x,y,p,w,j,k,C;for(n in a=T6.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),p={0:0},C=a.charMap)p[(u=C[n]).old]=u.new;for(w in y=a.maxGlyphID,l)w in p||(p[w]=y++);return g=(function(L){var E,D;for(E in D={},L)D[L[E]]=E;return D})(p),x=Object.keys(g).sort(function(L,E){return L-E}),j=(function(){var L,E,D;for(D=[],L=0,E=x.length;L<E;L++)d=x[L],D.push(g[d]);return D})(),i=this.font.glyf.encode(l,j,p),h=this.font.loca.encode(i.offsets,j),k={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t})();_t.API.PDFObject=(function(){var t;function e(){}return t=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},e.convert=function(r){var a,n,i,l;if(Array.isArray(r))return"["+(function(){var d,u,h;for(h=[],d=0,u=r.length;d<u;d++)a=r[d],h.push(e.convert(a));return h})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in i=["<<"],r)l=r[n],i.push("/"+n+" "+e.convert(l));return i.push(">>"),i.join(`
`)}return""+r},e})();function D6(t,e,r,a,n){a=a||{};var i=1.15,l=n.internal.scaleFactor,d=n.internal.getFontSize()/l,u=n.getLineHeightFactor?n.getLineHeightFactor():i,h=d*u,g=/\r\n|\r|\n/g,x="",y=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(x=typeof t=="string"?t.split(g):t,y=x.length||1),r+=d*(2-i),a.valign==="middle"?r-=y/2*h:a.valign==="bottom"&&(r-=y*h),a.halign==="center"||a.halign==="right"){var p=d;if(a.halign==="center"&&(p*=.5),x&&y>=1){for(var w=0;w<x.length;w++)n.text(x[w],e-n.getStringUnitWidth(x[w])*p,r),r+=h;return n}e-=n.getStringUnitWidth(t)*p}return a.halign==="justify"?n.text(t,e,r,{maxWidth:a.maxWidth||100,align:"justify"}):n.text(t,e,r),n}var sw={},uh=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:sw=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var a,n,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),d=l.fontStyle,u=l.fontName;if(e.font&&(u=e.font),e.fontStyle){d=e.fontStyle;var h=this.getFontList()[u];h&&h.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),d=h[0])}if(this.jsPDFDocument.setFont(u,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var g=t.unifyColor(e.fillColor);g&&(a=this.jsPDFDocument).setFillColor.apply(a,g),g=t.unifyColor(e.textColor),g&&(n=this.jsPDFDocument).setTextColor.apply(n,g),g=t.unifyColor(e.lineColor),g&&(i=this.jsPDFDocument).setDrawColor.apply(i,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,a){return this.jsPDFDocument.splitTextToSize(e,r,a)},t.prototype.rect=function(e,r,a,n,i){return this.jsPDFDocument.rect(e,r,a,n,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return sw||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),q1=function(t,e){return q1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},q1(t,e)};function O6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");q1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var F6=(function(t){O6(e,t);function e(r){var a=t.call(this)||this;return a._element=r,a}return e})(Array);function mD(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function pD(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function fm(t,e,r){r.applyStyles(e,!0);var a=Array.isArray(t)?t:[t],n=a.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return n}function B6(t,e,r,a){var n=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:n,lineColor:i});var l=z6(n,!1);l&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),a.y-r.y,l)}function z6(t,e){var r=t>0,a=e||e===0;return r&&a?"DF":r?"S":a?"F":null}function Rm(t,e){var r,a,n,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(a=t.top)!==null&&a!==void 0?a:e,right:(n=t.right)!==null&&n!==void 0?n:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function I6(t,e){var r=Rm(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function xD(t,e,r,a,n){var i={},l=1.3333333333333333,d=Vx(e,function(E){return n.getComputedStyle(E).backgroundColor});d!=null&&(i.fillColor=d);var u=Vx(e,function(E){return n.getComputedStyle(E).color});u!=null&&(i.textColor=u);var h=yD(a,r);h&&(i.cellPadding=h);var g="borderTopColor",x=l*r,y=a.borderTopWidth;if(a.borderBottomWidth===y&&a.borderRightWidth===y&&a.borderLeftWidth===y){var p=(parseFloat(y)||0)/x;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/x,right:(parseFloat(a.borderRightWidth)||0)/x,bottom:(parseFloat(a.borderBottomWidth)||0)/x,left:(parseFloat(a.borderLeftWidth)||0)/x},i.lineWidth.top||(i.lineWidth.right?g="borderRightColor":i.lineWidth.bottom?g="borderBottomColor":i.lineWidth.left&&(g="borderLeftColor"));var w=Vx(e,function(E){return n.getComputedStyle(E)[g]});w!=null&&(i.lineColor=w);var j=["left","right","center","justify"];j.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),j=["middle","bottom","top"],j.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var k=parseInt(a.fontSize||"");isNaN(k)||(i.fontSize=k/l);var C=bD(a);C&&(i.fontStyle=C);var L=(a.fontFamily||"").toLowerCase();return t.indexOf(L)!==-1&&(i.font=L),i}function bD(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Vx(t,e){var r=U6(t,e);if(!r)return null;var a=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var n=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function U6(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:U6(t.parentElement,e):r}function yD(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],a=96/(72/e),n=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(d){return parseInt(d||"0")/a}),l=Rm(i,0);return n>l.top&&(l.top=n),n>l.bottom&&(l.bottom=n),l}function H6(t,e,r,a,n){var i,l;a===void 0&&(a=!1),n===void 0&&(n=!1);var d;typeof e=="string"?d=r.document.querySelector(e):d=e;var u=Object.keys(t.getFontList()),h=t.scaleFactor(),g=[],x=[],y=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:g,body:x,foot:y};for(var p=0;p<d.rows.length;p++){var w=d.rows[p],j=(l=(i=w==null?void 0:w.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),k=vD(u,h,r,w,a,n);k&&(j==="thead"?g.push(k):j==="tfoot"?y.push(k):x.push(k))}return{head:g,body:x,foot:y}}function vD(t,e,r,a,n,i){for(var l=new F6(a),d=0;d<a.cells.length;d++){var u=a.cells[d],h=r.getComputedStyle(u);if(n||h.display!=="none"){var g=void 0;i&&(g=xD(t,u,e,h,r)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:g,_element:u,content:wD(u)})}}var x=r.getComputedStyle(a);if(l.length>0&&(n||x.display!=="none"))return l}function wD(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function ND(t,e,r){for(var a=0,n=[t,e,r];a<n.length;a++){var i=n[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Hl(t,e,r,a,n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),l=1;l<arguments.length;l++){var d=arguments[l];if(d!=null)for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(i[u]=d[u])}return i}function q6(t,e){var r=new uh(t),a=r.getDocumentOptions(),n=r.getGlobalOptions();ND(n,a,e);var i=Hl({},n,a,e),l;typeof window<"u"&&(l=window);var d=jD(n,a,e),u=kD(n,a,e),h=SD(r,i),g=_D(r,i,l);return{id:e.tableId,content:g,hooks:u,styles:d,settings:h}}function jD(t,e,r){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(u){if(u==="columnStyles"){var h=t[u],g=e[u],x=r[u];a.columnStyles=Hl({},h,g,x)}else{var y=[t,e,r],p=y.map(function(w){return w[u]||{}});a[u]=Hl({},p[0],p[1],p[2])}},i=0,l=Object.keys(a);i<l.length;i++){var d=l[i];n(d)}return a}function kD(t,e,r){for(var a=[t,e,r],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=a;i<l.length;i++){var d=l[i];d.didParseCell&&n.didParseCell.push(d.didParseCell),d.willDrawCell&&n.willDrawCell.push(d.willDrawCell),d.didDrawCell&&n.didDrawCell.push(d.didDrawCell),d.willDrawPage&&n.willDrawPage.push(d.willDrawPage),d.didDrawPage&&n.didDrawPage.push(d.didDrawPage)}return n}function SD(t,e){var r,a,n,i,l,d,u,h,g,x,y,p,w=Rm(e.margin,40/t.scaleFactor()),j=(r=CD(t,e.startY))!==null&&r!==void 0?r:w.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(a=e.showFoot)!==null&&a!==void 0?a:"everyPage";var C;e.showHead===!0?C="everyPage":e.showHead===!1?C="never":C=(n=e.showHead)!==null&&n!==void 0?n:"everyPage";var L=(i=e.useCss)!==null&&i!==void 0?i:!1,E=e.theme||(L?"plain":"striped"),D=!!e.horizontalPageBreak,F=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:L,theme:E,startY:j,margin:w,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:C,showFoot:k,tableLineWidth:(x=e.tableLineWidth)!==null&&x!==void 0?x:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:D,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function CD(t,e){var r=t.getLastAutoTable(),a=t.scaleFactor(),n=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===n}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/a:null}function _D(t,e,r){var a=e.head||[],n=e.body||[],i=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(r){var d=H6(t,e.html,r,l,e.useCss)||{};a=d.head||a,n=d.body||a,i=d.foot||a}else console.error("Cannot parse html in non browser environment")}var u=e.columns||AD(a,n,i);return{columns:u,head:a,body:n,foot:i}}function AD(t,e,r){var a=t[0]||e[0]||r[0]||[],n=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,d;Array.isArray(a)?d=a[parseInt(i)]:d=a[i],typeof d=="object"&&!Array.isArray(d)&&(l=(d==null?void 0:d.colSpan)||1);for(var u=0;u<l;u++){var h=void 0;Array.isArray(a)?h=n.length:h=i+(u>0?"_".concat(u):"");var g={dataKey:h};n.push(g)}}),n}var V1=(function(){function t(e,r,a){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=a,this.doc=e.getDocument()}return t})(),LD=(function(t){O6(e,t);function e(r,a,n,i,l,d){var u=t.call(this,r,a,d)||this;return u.cell=n,u.row=i,u.column=l,u.section=i.section,u}return e})(V1),ED=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,a){return r+a.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,a){return r+a.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,a,n,i,l){for(var d=0,u=r;d<u.length;d++){var h=u[d],g=new LD(e,this,a,n,i,l),x=h(g)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],x)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var a=0,n=this.hooks.didDrawPage;a<n.length;a++){var i=n[a];i(new V1(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var a=0,n=this.hooks.willDrawPage;a<n.length;a++){var i=n[a];i(new V1(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return r}else{var a=this.settings.margin;return e-a.left-a.right}},t})(),V6=(function(){function t(e,r,a,n,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof F6&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=a,this.cells=n,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(a,n){var i;return Math.max(a,((i=r.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(a){var n=r.cells[a.index];return n?n.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var a=this;return e.reduce(function(n,i){var l=a.cells[i.index];if(!l)return 0;var d=r.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),h=u+d;return h>n?h:n},0)},t})(),$6=(function(){function t(e,r,a){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=a,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(n=e.content)!==null&&n!==void 0?n:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",d=/\r\n|\r|\n/g;this.text=l.split(d)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");a=this.x+n/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var a=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/e*r,i=a*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Rm(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),MD=(function(){function t(e,r,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=a}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,a=0,n=e.allRows();a<n.length;a++){var i=n[a],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},t})();function RD(t,e){TD(t,e);var r=[],a=0;e.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(e);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),a+=i.width});var n=e.getWidth(t.pageSize().width)-a;n&&(n=$1(r,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=$1(r,n,function(i){return i.minWidth})),n=Math.abs(n),!e.settings.horizontalPageBreak&&n>.1/t.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),DD(e),OD(e,t),PD(e)}function TD(t,e){var r=t.scaleFactor(),a=e.settings.horizontalPageBreak,n=I6(t,e);e.allRows().forEach(function(i){for(var l=0,d=e.columns;l<d.length;l++){var u=d[l],h=i.cells[u.index];if(h){var g=e.hooks.didParseCell;e.callCellHooks(t,g,h,i,u,null);var x=h.padding("horizontal");h.contentWidth=fm(h.text,h.styles,t)+x;var y=fm(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||a===!0)h.contentWidth>n?(h.minWidth=n,h.wrappedWidth=n):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var p=10/r;h.minWidth=h.styles.minCellWidth||p,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(i){for(var l=0,d=e.columns;l<d.length;l++){var u=d[l],h=i.cells[u.index];if(h&&h.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,h.wrappedWidth),u.minWidth=Math.max(u.minWidth,h.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,h.minReadableWidth);else{var g=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},x=g.cellWidth||g.minCellWidth;x&&typeof x=="number"&&(u.minWidth=x,u.wrappedWidth=x)}h&&(h.colSpan>1&&!u.minWidth&&(u.minWidth=h.minWidth),h.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=h.minWidth))}})}function $1(t,e,r){for(var a=e,n=t.reduce(function(p,w){return p+w.wrappedWidth},0),i=0;i<t.length;i++){var l=t[i],d=l.wrappedWidth/n,u=a*d,h=l.width+u,g=r(l),x=h<g?g:h;e-=x-l.width,l.width=x}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(p){return e<0?p.width>r(p):!0});y.length&&(e=$1(y,e,r))}return e}function PD(t){for(var e={},r=1,a=t.allRows(),n=0;n<a.length;n++)for(var i=a[n],l=0,d=t.columns;l<d.length;l++){var u=d[l],h=e[u.index];if(r>1)r--,delete i.cells[u.index];else if(h)h.cell.height+=i.height,r=h.cell.colSpan,delete i.cells[u.index],h.left--,h.left<=1&&delete e[u.index];else{var g=i.cells[u.index];if(!g)continue;if(g.height=i.height,g.rowSpan>1){var x=a.length-n,y=g.rowSpan>x?x:g.rowSpan;e[u.index]={cell:g,left:y,row:i}}}}}function DD(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var a=e[r],n=null,i=0,l=0,d=0;d<t.columns.length;d++){var u=t.columns[d];if(l-=1,l>1&&t.columns[d+1])i+=u.width,delete a.cells[u.index];else if(n){var h=n;delete a.cells[u.index],n=null,h.width=u.width+i}else{var h=a.cells[u.index];if(!h)continue;if(l=h.colSpan,i=0,h.colSpan>1){n=h,i+=u.width;continue}h.width=u.width+i}}}function OD(t,e){for(var r={count:0,height:0},a=0,n=t.allRows();a<n.length;a++){for(var i=n[a],l=0,d=t.columns;l<d.length;l++){var u=d[l],h=i.cells[u.index];if(h){e.applyStyles(h.styles,!0);var g=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,g+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=nw(h.text,g,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=nw(h.text,g,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var x=h.styles.overflow(h.text,g);typeof x=="string"?h.text=[x]:h.text=x}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<y*h.rowSpan?r={height:y,count:h.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>i.height&&(i.height=y)}}r.count--}}function nw(t,e,r,a,n){return t.map(function(i){return FD(i,e,r,a,n)})}function FD(t,e,r,a,n){var i=1e4*a.scaleFactor();if(e=Math.ceil(e*i)/i,e>=fm(t,r,a))return t;for(;e<fm(t+n,r,a)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+n}function W6(t,e){var r=new uh(t),a=BD(e,r.scaleFactor()),n=new ED(e,a);return RD(r,n),r.applyStyles(r.userStyles),n}function BD(t,e){var r=t.content,a=ID(r.columns);if(r.head.length===0){var n=iw(a,"head");n&&r.head.push(n)}if(r.foot.length===0){var n=iw(a,"foot");n&&r.foot.push(n)}var i=t.settings.theme,l=t.styles;return{columns:a,head:$x("head",r.head,a,l,i,e),body:$x("body",r.body,a,l,i,e),foot:$x("foot",r.foot,a,l,i,e)}}function $x(t,e,r,a,n,i){var l={},d=e.map(function(u,h){for(var g=0,x={},y=0,p=0,w=0,j=r;w<j.length;w++){var k=j[w];if(l[k.index]==null||l[k.index].left===0)if(p===0){var C=void 0;Array.isArray(u)?C=u[k.index-y-g]:C=u[k.dataKey];var L={};typeof C=="object"&&!Array.isArray(C)&&(L=(C==null?void 0:C.styles)||{});var E=UD(t,k,h,n,a,i,L),D=new $6(C,E,t);x[k.dataKey]=D,x[k.index]=D,p=D.colSpan-1,l[k.index]={left:D.rowSpan-1,times:p}}else p--,y++;else l[k.index].left--,p=l[k.index].times,g++}return new V6(u,h,t,x)});return d}function iw(t,e){var r={};return t.forEach(function(a){if(a.raw!=null){var n=zD(e,a.raw);n!=null&&(r[a.dataKey]=n)}}),Object.keys(r).length>0?r:null}function zD(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function ID(t){return t.map(function(e,r){var a,n;return typeof e=="object"?n=(a=e.dataKey)!==null&&a!==void 0?a:r:n=r,new MD(n,e,r)})}function UD(t,e,r,a,n,i,l){var d=pD(a),u;t==="head"?u=n.headStyles:t==="body"?u=n.bodyStyles:t==="foot"&&(u=n.footStyles);var h=Hl({},d.table,d[t],n.styles,u),g=n.columnStyles[e.dataKey]||n.columnStyles[e.index]||{},x=t==="body"?g:{},y=t==="body"&&r%2===0?Hl({},d.alternateRow,n.alternateRowStyles):{},p=mD(i),w=Hl({},p,h,y,x);return Hl(w,l)}function HD(t,e,r){var a;r===void 0&&(r={});var n=I6(t,e),i=new Map,l=[],d=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var p=e.columns.find(function(w){return w.dataKey===y||w.index===y});p&&!i.has(p.index)&&(i.set(p.index,!0),l.push(p.index),d.push(e.columns[p.index]),n-=p.wrappedWidth)});for(var h=!0,g=(a=r==null?void 0:r.start)!==null&&a!==void 0?a:0;g<e.columns.length;){if(i.has(g)){g++;continue}var x=e.columns[g].wrappedWidth;if(h||n>=x)h=!1,l.push(g),d.push(e.columns[g]),n-=x;else break;g++}return{colIndexes:l,columns:d,lastIndex:g-1}}function qD(t,e){for(var r=[],a=0;a<e.columns.length;a++){var n=HD(t,e,{start:a});n.columns.length&&(r.push(n),a=n.lastIndex)}return r}function Y6(t,e){var r=e.settings,a=r.startY,n=r.margin,i={x:n.left,y:a},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=a+n.bottom+l;if(r.pageBreak==="avoid"){var u=e.body,h=u.reduce(function(y,p){return y+p.height},0);d+=h}var g=new uh(t);(r.pageBreak==="always"||r.startY!=null&&d>g.pageSize().height)&&(X6(g),i.y=n.top),e.callWillDrawPageHooks(g,i);var x=Hl({},i);e.startPageNumber=g.pageNumber(),r.horizontalPageBreak?VD(g,e,x,i):(g.applyStyles(g.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(y){return Zl(g,e,y,i,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(y,p){var w=p===e.body.length-1;gm(g,e,y,w,x,i,e.columns)}),g.applyStyles(g.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(y){return Zl(g,e,y,i,e.columns)})),B6(g,e,x,i),e.callEndPageHooks(g,i),e.finalY=i.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function VD(t,e,r,a){var n=qD(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(h,g){t.applyStyles(t.userStyles),g>0?F0(t,e,r,a,h.columns,!0):ow(t,e,a,h.columns),$D(t,e,r,a,h.columns),Wx(t,e,a,h.columns)});else for(var l=-1,d=n[0],u=function(){var h=l;if(d){t.applyStyles(t.userStyles);var g=d.columns;l>=0?F0(t,e,r,a,g,!0):ow(t,e,a,g),h=lw(t,e,l+1,a,g),Wx(t,e,a,g)}var x=h-l;n.slice(1).forEach(function(y){t.applyStyles(t.userStyles),F0(t,e,r,a,y.columns,!0),lw(t,e,l+1,a,y.columns,x),Wx(t,e,a,y.columns)}),l=h};l<e.body.length-1;)u()}function ow(t,e,r,a){var n=e.settings;t.applyStyles(t.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(i){return Zl(t,e,i,r,a)})}function $D(t,e,r,a,n){t.applyStyles(t.userStyles),e.body.forEach(function(i,l){var d=l===e.body.length-1;gm(t,e,i,d,r,a,n)})}function lw(t,e,r,a,n,i){t.applyStyles(t.userStyles),i=i??e.body.length;var l=Math.min(r+i,e.body.length),d=-1;return e.body.slice(r,l).forEach(function(u,h){var g=r+h===e.body.length-1,x=G6(t,e,g,a);u.canEntireRowFit(x,n)&&(Zl(t,e,u,a,n),d=r+h)}),d}function Wx(t,e,r,a){var n=e.settings;t.applyStyles(t.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(i){return Zl(t,e,i,r,a)})}function WD(t,e,r){var a=r.getLineHeight(t.styles.fontSize),n=t.padding("vertical"),i=Math.floor((e-n)/a);return Math.max(0,i)}function YD(t,e,r,a){var n={};t.spansMultiplePages=!0,t.height=0;for(var i=0,l=0,d=r.columns;l<d.length;l++){var u=d[l],h=t.cells[u.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var g=new $6(h.raw,h.styles,h.section);g=Hl(g,h),g.text=[];var x=WD(h,e,a);h.text.length>x&&(g.text=h.text.splice(x,h.text.length));var y=a.scaleFactor(),p=a.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,p),h.contentHeight>=e&&(h.contentHeight=e,g.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),g.contentHeight=g.getContentHeight(y,p),g.contentHeight>i&&(i=g.contentHeight),n[u.index]=g}}var w=new V6(t.raw,-1,t.section,n,!0);w.height=i;for(var j=0,k=r.columns;j<k.length;j++){var u=k[j],g=w.cells[u.index];g&&(g.height=w.height);var h=t.cells[u.index];h&&(h.height=t.height)}return w}function GD(t,e,r,a){var n=t.pageSize().height,i=a.settings.margin,l=i.top+i.bottom,d=n-l;e.section==="body"&&(d-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var u=e.getMinimumRowHeight(a.columns,t),h=u<r;if(u>d)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var g=e.hasRowSpan(a.columns),x=e.getMaxCellHeight(a.columns)>d;return x?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||a.settings.rowPageBreak==="avoid")}function gm(t,e,r,a,n,i,l){var d=G6(t,e,a,i);if(r.canEntireRowFit(d,l))Zl(t,e,r,i,l);else if(GD(t,r,d,e)){var u=YD(r,d,e,t);Zl(t,e,r,i,l),F0(t,e,n,i,l),gm(t,e,u,a,n,i,l)}else F0(t,e,n,i,l),gm(t,e,r,a,n,i,l)}function Zl(t,e,r,a,n){a.x=e.settings.margin.left;for(var i=0,l=n;i<l.length;i++){var d=l[i],u=r.cells[d.index];if(!u){a.x+=d.width;continue}t.applyStyles(u.styles),u.x=a.x,u.y=a.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,u,r,d,a);if(h===!1){a.x+=d.width;continue}XD(t,u,a);var g=u.getTextPos();D6(u.text,g.x,g.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,u,r,d,a),a.x+=d.width}a.y+=r.height}function XD(t,e,r){var a=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof a.lineWidth=="number"){var n=z6(a.lineWidth,a.fillColor);n&&t.rect(e.x,r.y,e.width,e.height,n)}else typeof a.lineWidth=="object"&&(a.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),ZD(t,e,r,a.lineWidth))}function ZD(t,e,r,a){var n,i,l,d;a.top&&(n=r.x,i=r.y,l=r.x+e.width,d=r.y,a.right&&(l+=.5*a.right),a.left&&(n-=.5*a.left),u(a.top,n,i,l,d)),a.bottom&&(n=r.x,i=r.y+e.height,l=r.x+e.width,d=r.y+e.height,a.right&&(l+=.5*a.right),a.left&&(n-=.5*a.left),u(a.bottom,n,i,l,d)),a.left&&(n=r.x,i=r.y,l=r.x,d=r.y+e.height,a.top&&(i-=.5*a.top),a.bottom&&(d+=.5*a.bottom),u(a.left,n,i,l,d)),a.right&&(n=r.x+e.width,i=r.y,l=r.x+e.width,d=r.y+e.height,a.top&&(i-=.5*a.top),a.bottom&&(d+=.5*a.bottom),u(a.right,n,i,l,d));function u(h,g,x,y,p){t.getDocument().setLineWidth(h),t.getDocument().line(g,x,y,p,"S")}}function G6(t,e,r,a){var n=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(n+=e.getFootHeight(e.columns)),t.pageSize().height-a.y-n}function F0(t,e,r,a,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(d){return Zl(t,e,d,a,n)}),e.callEndPageHooks(t,a);var l=e.settings.margin;B6(t,e,r,a),X6(t),e.pageNumber++,a.x=l.left,a.y=l.top,r.y=l.top,e.callWillDrawPageHooks(t,a),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return Zl(t,e,d,a,n)}),t.applyStyles(t.userStyles))}function X6(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function QD(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var a=e[0],n=q6(this,a),i=W6(this,n);return Y6(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,a,n){D6(e,r,a,n,this)},t.API.autoTableSetDefaults=function(e){return uh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){uh.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var a;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new uh(this),i=H6(n,e,window,r,!1),l=i.head,d=i.body,u=((a=l[0])===null||a===void 0?void 0:a.map(function(h){return h.content}))||[];return{columns:u,rows:d,data:d}}}var Yx;function Gx(t,e){var r=q6(t,e),a=W6(t,r);Y6(t,a)}try{if(typeof window<"u"&&window){var cw=window,dw=cw.jsPDF||((Yx=cw.jspdf)===null||Yx===void 0?void 0:Yx.jsPDF);dw&&QD(dw)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Wo="http://localhost:8080/api",Yo=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),KD={getAdvancedReportData:async()=>{try{return(await Ie.get(`${Wo}/analyst/reports/advanced`,{headers:Yo()})).data.data}catch(t){throw console.error("Error fetching advanced report data:",t),t}},getAdminReportData:async()=>{var t,e,r,a,n,i,l;try{const[d,u,h]=await Promise.all([Ie.get(`${Wo}/admin/product-approvals/dashboard`,{headers:Yo()}),Ie.get(`${Wo}/products? page=0&size=20&sortBy=salesCount&sortOrder=desc`,{headers:Yo()}),Ie.get(`${Wo}/admin/sellers?page=0&size=10`,{headers:Yo()})]),g=((t=d.data)==null?void 0:t.data)||{},x=((r=(e=u.data)==null?void 0:e.data)==null?void 0:r.content)||((a=u.data)==null?void 0:a.data)||[],y=((i=(n=h.data)==null?void 0:n.data)==null?void 0:i.content)||((l=h.data)==null?void 0:l.data)||[],p=x.map(k=>{var C;return{asin:k.asin||"",productName:k.productName||k.product_name||"Unknown",price:k.price||0,salesCount:k.salesCount||k.sales_count||0,revenue:(k.price||0)*(k.salesCount||k.sales_count||0),rating:k.rating||0,category:k.categoryName||((C=k.category)==null?void 0:C.name)||k.category_name||"Uncategorized"}}),w=y.map(k=>({id:k.id||0,storeName:k.storeName||k.store_name||k.fullName||k.full_name||"Unknown Store",email:k.email||"",productCount:k.productCount||k.product_count||0,totalSales:k.totalSales||k.total_sales||k.salesCount||0,totalRevenue:k.totalRevenue||k.total_revenue||0,rating:k.rating||4.5})),j=p.reduce((k,C)=>k+(C.revenue||0),0);return{kpis:{totalRevenue:g.totalPlatformRevenue||g.totalRevenue||j||0,totalOrders:g.totalOrders||0,totalBuyers:g.totalBuyers||0,totalSellers:g.totalSellers||0,totalProducts:g.totalProducts||x.length||0,pendingApprovals:g.pendingApprovals||0,avgOrderValue:g.avgOrderValue||g.totalPlatformRevenue/(g.totalOrders||1)||0,conversionRate:g.conversionRate||0},topProducts:p.sort((k,C)=>(C.salesCount||0)-(k.salesCount||0)).slice(0,10),topSellers:w,ordersByStatus:g.ordersByStatus||{PENDING:g.pendingOrders||0,CONFIRMED:g.confirmedOrders||0,SHIPPED:g.shippedOrders||0,DELIVERED:g.deliveredOrders||0,CANCELLED:g.cancelledOrders||0},revenueByMonth:[]}}catch(d){throw console.error("Error fetching admin report data:",d),d}},getAnalystReportData:async()=>{var t,e,r,a,n,i,l,d,u,h,g,x,y,p;try{const[w,j,k,C]=await Promise.all([Ie.get(`${Wo}/analyst/kpis`,{headers:Yo()}).catch(()=>null),Ie.get(`${Wo}/analyst/products/performance? limit=20`,{headers:Yo()}).catch(()=>null),Ie.get(`${Wo}/analyst/sellers/ranking?limit=15`,{headers:Yo()}).catch(()=>null),Ie.get(`${Wo}/analyst/categories/overview`,{headers:Yo()}).catch(()=>null)]);let L=((t=j==null?void 0:j.data)==null?void 0:t.data)||[],E=((e=k==null?void 0:k.data)==null?void 0:e.data)||[],D=((r=w==null?void 0:w.data)==null?void 0:r.data)||{};if(L.length===0){const U=await Ie.get(`${Wo}/products?page=0&size=20&sortBy=salesCount&sortOrder=desc`,{headers:Yo()}).catch(()=>null);L=((n=(a=U==null?void 0:U.data)==null?void 0:a.data)==null?void 0:n.content)||[]}if(E.length===0){const U=await Ie.get(`${Wo}/admin/sellers?page=0&size=15`,{headers:Yo()}).catch(()=>null);E=((l=(i=U==null?void 0:U.data)==null?void 0:i.data)==null?void 0:l.content)||[]}const F=L.map(U=>{var T;return{asin:U.asin||"",productName:U.productName||U.product_name||"Unknown",price:U.price||0,salesCount:U.salesCount||U.sales_count||0,revenue:(U.price||0)*(U.salesCount||U.sales_count||0),rating:U.rating||0,category:U.categoryName||((T=U.category)==null?void 0:T.name)||"Uncategorized"}}),se=E.map(U=>({id:U.id||U.sellerId||0,storeName:U.storeName||U.store_name||U.sellerName||U.fullName||"Unknown",email:U.email||"",productCount:U.productCount||U.product_count||U.products||0,totalSales:U.totalSales||U.sales||U.salesCount||0,totalRevenue:U.totalRevenue||U.revenue||0,rating:U.rating||U.avgRating||4.5})),O=F.reduce((U,T)=>U+(T.revenue||0),0);return{kpis:{totalRevenue:((d=D.totalRevenue)==null?void 0:d.value)||O||0,totalOrders:((u=D.totalOrders)==null?void 0:u.value)||0,totalBuyers:((h=D.totalBuyers)==null?void 0:h.value)||0,totalSellers:((g=D.totalSellers)==null?void 0:g.value)||se.length||0,totalProducts:((x=D.totalProducts)==null?void 0:x.value)||F.length||0,pendingApprovals:0,avgOrderValue:((y=D.avgOrderValue)==null?void 0:y.value)||0,conversionRate:3.5},topProducts:F.sort((U,T)=>(T.salesCount||0)-(U.salesCount||0)),topSellers:se.sort((U,T)=>(T.totalRevenue||0)-(U.totalRevenue||0)),ordersByStatus:{},revenueByMonth:[],categoryPerformance:((p=C==null?void 0:C.data)==null?void 0:p.data)||[],lowStockProducts:[],priceDistribution:{},ratingDistribution:{}}}catch(w){throw console.error("Error fetching analyst report data:",w),w}}},it={primary:[37,99,235],primaryDark:[29,78,216],secondary:[124,58,237],success:[16,185,129],warning:[245,158,11],danger:[239,68,68],dark:[17,24,39],gray:[107,114,128],lightGray:[243,244,246],white:[255,255,255],gold:[234,179,8],silver:[156,163,175],bronze:[180,83,9]},zc=[[59,130,246],[16,185,129],[245,158,11],[239,68,68],[139,92,246],[236,72,153],[6,182,212],[132,204,22]],Ta=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t||0),Rn=t=>new Intl.NumberFormat("en-US").format(t||0),Bc=(t,e)=>t?t.length>e?t.substring(0,e)+"...":t:"",uw=(t,e,r,a,n,i,l)=>{const d=Math.min((i-30)/e.length-5,14),u=Math.max(...e.map(h=>h.value),1);e.forEach((h,g)=>{const x=h.value/u*(n-80),y=h.color||zc[g%zc.length],p=a+g*(d+6);t.setFontSize(8),t.setFont("helvetica","normal"),t.setTextColor(...it.gray),t.text(Bc(h.label,10),r,p+d/2+2),t.setFillColor(230,230,230),t.roundedRect(r+40,p,n-80,d,2,2,"F"),x>0&&(t.setFillColor(...y),t.roundedRect(r+40,p,Math.max(x,4),d,2,2,"F")),t.setFontSize(8),t.setFont("helvetica","bold"),t.setTextColor(...it.dark),t.text(Ta(h.value),r+45+Math.max(x,4),p+d/2+2)})},JD=(t,e,r,a,n,i,l)=>{const d=r+25,u=a+5,h=n-35,g=i-35,x=e.map(w=>w.value),y=Math.max(...x,1),p=0;t.setDrawColor(230,230,230),t.setLineWidth(.3);for(let w=0;w<=4;w++){const j=u+g*w/4;t.line(d,j,d+h,j);const k=y-(y-p)*w/4;t.setFontSize(7),t.setTextColor(...it.gray),t.text(Ta(k),r,j+2)}if(e.length>1){const w=e.map((j,k)=>{const C=d+h*k/(e.length-1),L=u+g-(j.value-p)/(y-p)*g;return[C,L]});t.setFillColor(59,130,246,.1),t.setDrawColor(...it.primary),t.setLineWidth(2);for(let j=0;j<w.length-1;j++)t.line(w[j][0],w[j][1],w[j+1][0],w[j+1][1]);w.forEach(([j,k])=>{t.setFillColor(...it.white),t.circle(j,k,3,"F"),t.setFillColor(...it.primary),t.circle(j,k,2,"F")}),t.setFontSize(6),t.setTextColor(...it.gray),e.forEach((j,k)=>{if(k%2===0||e.length<=7){const C=d+h*k/(e.length-1);t.text(j.label,C-5,u+g+12)}})}},Li=(t,e,r,a,n="")=>(t.setFillColor(...it.primary),t.roundedRect(r,a-6,4,16,1,1,"F"),t.setFontSize(13),t.setFont("helvetica","bold"),t.setTextColor(...it.dark),t.text(`${n} ${e}`.trim(),r+8,a+4),a+16),eO=async()=>{var U,T,W,I,B,X,Q,ge,$,de,ie,ye,J,te,P,Y,G,ue,re,xe,je,Se,Le,be,Ge,Ve;console.log("Starting advanced PDF generation...");const t=await KD.getAdvancedReportData();console.log("Data fetched:",t);const e=new _t,r=e.internal.pageSize.getWidth(),a=e.internal.pageSize.getHeight();let n=0;n++,e.setFillColor(...it.primaryDark),e.rect(0,0,r,a,"F"),e.setFillColor(255,255,255,.05),e.circle(r+20,50,80,"F"),e.circle(-30,a-50,100,"F"),e.setTextColor(...it.white),e.setFontSize(42),e.setFont("helvetica","bold"),e.text("MouadVision",r/2,80,{align:"center"}),e.setFontSize(18),e.setFont("helvetica","normal"),e.text("Executive Business Report",r/2,100,{align:"center"}),e.setDrawColor(...it.white),e.setLineWidth(.5),e.line(r/2-50,115,r/2+50,115),e.setFillColor(255,255,255,.1),e.roundedRect(30,140,r-60,80,5,5,"F"),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Comprehensive Analytics & Insights",r/2,165,{align:"center"}),e.setFontSize(11),e.setFont("helvetica","normal");const i=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});e.text(`Generated:  ${i}`,r/2,185,{align:"center"}),e.text("Report Period: Last 12 Months",r/2,200,{align:"center"});const l=((U=t.platformRevenue)==null?void 0:U.totalRevenue)||0,d=((T=t.platformRevenue)==null?void 0:T.totalOrders)||0,u=((W=t.top3Sellers)==null?void 0:W.length)||0,h=(r-70)/3;[{label:"Total Revenue",value:Ta(l)},{label:"Total Orders",value:Rn(d)},{label:"Top Sellers",value:String(u)}].forEach((ze,V)=>{const Pe=25+V*(h+10);e.setFillColor(255,255,255,.08),e.roundedRect(Pe,240,h,45,3,3,"F"),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(ze.value,Pe+h/2,260,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text(ze.label,Pe+h/2,275,{align:"center"})}),e.setFontSize(8),e.text("Confidential Business Report",r/2,a-20,{align:"center"}),e.addPage(),n++,e.setFillColor(...it.primary),e.rect(0,0,r,35,"F"),e.setTextColor(...it.white),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("Executive Summary",14,23),e.setFontSize(9),e.text(`Page ${n}`,r-25,23);let x=50;x=Li(e,"Key Performance Indicators",14,x);const y=[{label:"Total Revenue",value:Ta(((I=t.platformRevenue)==null?void 0:I.totalRevenue)||0),color:it.success},{label:"Total Orders",value:Rn(((B=t.platformRevenue)==null?void 0:B.totalOrders)||0),color:it.primary},{label:"Avg Order Value",value:Ta(((X=t.platformRevenue)==null?void 0:X.avgOrderValue)||0),color:it.warning},{label:"Revenue Growth",value:`${(((Q=t.platformRevenue)==null?void 0:Q.revenueGrowth)||0).toFixed(1)}%`,color:it.secondary}],p=(r-38)/4;if(y.forEach((ze,V)=>{const Pe=14+V*(p+4);e.setFillColor(...it.lightGray),e.roundedRect(Pe,x,p,35,3,3,"F"),e.setFillColor(...ze.color),e.roundedRect(Pe,x,p,4,2,2,"F"),e.rect(Pe+2,x+2,p-4,2,"F"),e.setFontSize(8),e.setTextColor(...it.gray),e.text(ze.label,Pe+5,x+15),e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(ze.value,Pe+5,x+28)}),x+=50,x=Li(e,"Revenue Breakdown",14,x),e.setFillColor(...it.lightGray),e.roundedRect(14,x,r/2-20,55,3,3,"F"),[{label:"Direct Sales",value:((ge=t.platformRevenue)==null?void 0:ge.directSalesRevenue)||0},{label:"Seller Revenue",value:(($=t.platformRevenue)==null?void 0:$.sellerRevenue)||0},{label:"Commission",value:((de=t.platformRevenue)==null?void 0:de.commissionRevenue)||0}].forEach((ze,V)=>{const Pe=x+15+V*14;e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(...it.gray),e.text(ze.label,20,Pe),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(Ta(ze.value),r/2-30,Pe,{align:"right"})}),e.setFillColor(...it.lightGray),e.roundedRect(r/2+5,x,r/2-20,55,3,3,"F"),e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text("Monthly Comparison",r/2+15,x+15),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(...it.gray),e.text("This Month:",r/2+15,x+30),e.setFont("helvetica","bold"),e.setTextColor(...it.success),e.text(Ta(((ie=t.platformRevenue)==null?void 0:ie.thisMonthRevenue)||0),r-25,x+30,{align:"right"}),e.setFont("helvetica","normal"),e.setTextColor(...it.gray),e.text("Last Month:",r/2+15,x+44),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(Ta(((ye=t.platformRevenue)==null?void 0:ye.lastMonthRevenue)||0),r-25,x+44,{align:"right"}),x+=70,x=Li(e,"Top 3 Best Sellers",14,x),t.top3Sellers&&t.top3Sellers.length>0){const ze=[it.gold,it.silver,it.bronze],V=["#1","#2","#3"];t.top3Sellers.slice(0,3).forEach((Pe,st)=>{const rt=x+st*26;e.setFillColor(...it.lightGray),e.roundedRect(14,rt,r-28,23,3,3,"F"),e.setFillColor(...ze[st]),e.roundedRect(14,rt,5,23,2,2,"F"),e.rect(17,rt,2,23,"F"),e.setFillColor(...ze[st]),e.circle(30,rt+11,8,"F"),e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(...it.white),e.text(V[st],30,rt+14,{align:"center"}),e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(Bc(Pe.storeName||Pe.sellerName||"Unknown",30),45,rt+10),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(...it.gray),e.text(`${Rn(Pe.productsSold||0)} products sold | ${Rn(Pe.totalOrders||0)} orders`,45,rt+18),e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(...it.success),e.text(Ta(Pe.totalRevenue||0),r-20,rt+14,{align:"right"})}),x+=90}if(x=Li(e,"Top 3 Revenue Categories",14,x),t.top3Categories&&t.top3Categories.length>0){const ze=t.top3Categories.reduce((V,Pe)=>V+(Pe.revenue||0),0);t.top3Categories.slice(0,3).forEach((V,Pe)=>{const st=x+Pe*20,rt=ze>0?(V.revenue||0)/ze*100:0,We=(r-120)*rt/100,ut=zc[Pe%zc.length];e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(`${Pe+1}.${Bc(V.categoryName||"Unknown",20)}`,14,st+7),e.setFillColor(230,230,230),e.roundedRect(14,st+10,r-120,6,2,2,"F"),e.setFillColor(...ut),e.roundedRect(14,st+10,Math.max(We,5),6,2,2,"F"),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(...it.gray),e.text(`${Rn(V.unitsSold||0)} units`,r-95,st+7),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(Ta(V.revenue||0),r-50,st+7),e.text(`${rt.toFixed(1)}%`,r-20,st+15,{align:"right"})})}if(e.setFontSize(8),e.setTextColor(...it.gray),e.text(`MouadVision Analytics Report | Generated: ${new Date().toLocaleDateString()}`,r/2,a-10,{align:"center"}),e.addPage(),n++,e.setFillColor(...it.secondary),e.rect(0,0,r,35,"F"),e.setTextColor(...it.white),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("Revenue Analytics",14,23),e.setFontSize(9),e.text(`Page ${n}`,r-25,23),x=50,x=Li(e,"Monthly Revenue Trend (Last 12 Months)",14,x),t.monthlyRevenueTrend&&t.monthlyRevenueTrend.length>0){const ze=t.monthlyRevenueTrend.map(V=>({label:V.month||"",value:V.revenue||0}));JD(e,ze,14,x,r-28,65),x+=75}if(x=Li(e,"Weekly Sales Performance",14,x),t.weeklySalesTrend&&t.weeklySalesTrend.length>0){const ze=t.weeklySalesTrend.map((V,Pe)=>({label:V.dayName||"",value:V.revenue||0,color:zc[Pe%zc.length]}));uw(e,ze,14,x,r/2-15,60)}if(e.setFillColor(...it.lightGray),e.roundedRect(r/2+5,x-5,r/2-20,65,3,3,"F"),e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text("Performance Metrics",r/2+12,x+8),[{label:"Today",value:Ta(((J=t.salesPerformance)==null?void 0:J.todayRevenue)||0)},{label:"This Week",value:Ta(((te=t.salesPerformance)==null?void 0:te.weekRevenue)||0)},{label:"This Month",value:Ta(((P=t.salesPerformance)==null?void 0:P.monthRevenue)||0)},{label:"Year to Date",value:Ta(((Y=t.salesPerformance)==null?void 0:Y.yearRevenue)||0)},{label:"Conversion Rate",value:`${(((G=t.salesPerformance)==null?void 0:G.conversionRate)||0).toFixed(1)}%`}].forEach((ze,V)=>{const Pe=x+20+V*10;e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(...it.gray),e.text(ze.label,r/2+12,Pe),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(ze.value,r-20,Pe,{align:"right"})}),x+=80,x=Li(e,"Category Revenue Distribution",14,x),t.categoryRevenueDistribution&&t.categoryRevenueDistribution.length>0){const ze=t.categoryRevenueDistribution.slice(0,8).map((V,Pe)=>[`${Pe+1}`,Bc(V.categoryName||"Unknown",25),Rn(V.productCount||0),Ta(V.revenue||0),`${(V.percentage||0).toFixed(1)}%`]);Gx(e,{startY:x,head:[["#","Category","Products","Revenue","Share"]],body:ze,theme:"striped",headStyles:{fillColor:it.secondary,textColor:it.white,fontStyle:"bold",fontSize:8},bodyStyles:{fontSize:8},columnStyles:{0:{cellWidth:12,halign:"center"},1:{cellWidth:55},2:{cellWidth:25,halign:"center"},3:{cellWidth:35,halign:"right"},4:{cellWidth:25,halign:"center"}},margin:{left:14,right:14},alternateRowStyles:{fillColor:[248,250,252]}})}if(e.setFontSize(8),e.setTextColor(...it.gray),e.text(`MouadVision Analytics Report | Generated:  ${new Date().toLocaleDateString()}`,r/2,a-10,{align:"center"}),e.addPage(),n++,e.setFillColor(...it.success),e.rect(0,0,r,35,"F"),e.setTextColor(...it.white),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("Top Selling Products",14,23),e.setFontSize(9),e.text(`Page ${n}`,r-25,23),x=50,x=Li(e,"Most Sold Products",14,x),t.mostSoldProducts&&t.mostSoldProducts.length>0){const ze=t.mostSoldProducts.slice(0,10).map((V,Pe)=>[`${Pe+1}`,Bc(V.productName||"Unknown",32),Bc(V.categoryName||"N/A",14),Ta(V.price||0),Rn(V.salesCount||0),Ta(V.revenue||0),V.rating?`${Number(V.rating).toFixed(1)}`:"N/A"]);Gx(e,{startY:x,head:[["Rank","Product Name","Category","Price","Units Sold","Revenue","Rating"]],body:ze,theme:"striped",headStyles:{fillColor:it.success,textColor:it.white,fontStyle:"bold",fontSize:7},bodyStyles:{fontSize:7},columnStyles:{0:{cellWidth:12,halign:"center"},1:{cellWidth:50},2:{cellWidth:25},3:{cellWidth:22,halign:"right"},4:{cellWidth:20,halign:"center"},5:{cellWidth:26,halign:"right"},6:{cellWidth:16,halign:"center"}},margin:{left:14,right:14},alternateRowStyles:{fillColor:[248,250,252]}}),x=e.lastAutoTable.finalY+18}x=Li(e,"Product Performance Summary",14,x);const k=((ue=t.mostSoldProducts)==null?void 0:ue.length)||0,C=((re=t.mostSoldProducts)==null?void 0:re.reduce((ze,V)=>ze+(V.salesCount||0),0))||0,L=((xe=t.mostSoldProducts)==null?void 0:xe.reduce((ze,V)=>ze+(V.revenue||0),0))||0,E=k>0?(((je=t.mostSoldProducts)==null?void 0:je.reduce((ze,V)=>ze+(V.price||0),0))||0)/k:0,D=[{label:"Total Products Listed",value:Rn(k),color:it.primary},{label:"Total Units Sold",value:Rn(C),color:it.success},{label:"Product Revenue",value:Ta(L),color:it.warning},{label:"Avg Product Price",value:Ta(E),color:it.secondary}],F=(r-38)/4;if(D.forEach((ze,V)=>{const Pe=14+V*(F+4);e.setFillColor(...it.lightGray),e.roundedRect(Pe,x,F,30,3,3,"F"),e.setFillColor(...ze.color),e.roundedRect(Pe,x,F,3,2,2,"F"),e.setFontSize(7),e.setTextColor(...it.gray),e.text(ze.label,Pe+5,x+12),e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(ze.value,Pe+5,x+23)}),e.setFontSize(8),e.setTextColor(...it.gray),e.text(`MouadVision Analytics Report | Generated: ${new Date().toLocaleDateString()}`,r/2,a-10,{align:"center"}),e.addPage(),n++,e.setFillColor(...it.warning),e.rect(0,0,r,35,"F"),e.setTextColor(...it.white),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("Seller Analytics",14,23),e.setFontSize(9),e.text(`Page ${n}`,r-25,23),x=50,x=Li(e,"Top Sellers Performance",14,x),t.top3Sellers&&t.top3Sellers.length>0){const ze=t.top3Sellers.map((V,Pe)=>[Pe===0?"#1 GOLD":Pe===1?"#2 SILVER":Pe===2?"#3 BRONZE":`#${Pe+1}`,Bc(V.storeName||V.sellerName||"Unknown",28),Rn(V.productCount||0),Rn(V.productsSold||0),Rn(V.totalOrders||0),Ta(V.totalRevenue||0),Ta(V.avgOrderValue||0)]);Gx(e,{startY:x,head:[["Rank","Store Name","Products","Units Sold","Orders","Revenue","Avg Order"]],body:ze,theme:"striped",headStyles:{fillColor:it.warning,textColor:it.white,fontStyle:"bold",fontSize:8},bodyStyles:{fontSize:8},columnStyles:{0:{cellWidth:22,halign:"center"},1:{cellWidth:40},2:{cellWidth:20,halign:"center"},3:{cellWidth:22,halign:"center"},4:{cellWidth:18,halign:"center"},5:{cellWidth:28,halign:"right"},6:{cellWidth:25,halign:"right"}},margin:{left:14,right:14},didParseCell:V=>{V.section==="body"&&V.column.index===0&&(V.row.index===0?(V.cell.styles.fillColor=[254,249,195],V.cell.styles.fontStyle="bold"):V.row.index===1?(V.cell.styles.fillColor=[243,244,246],V.cell.styles.fontStyle="bold"):V.row.index===2&&(V.cell.styles.fillColor=[254,243,199],V.cell.styles.fontStyle="bold"))}}),x=e.lastAutoTable.finalY+20}if(x=Li(e,"Seller Revenue Comparison",14,x),t.top3Sellers&&t.top3Sellers.length>0){const ze=t.top3Sellers.slice(0,5).map((V,Pe)=>({label:Bc(V.storeName||V.sellerName||"Unknown",12),value:V.totalRevenue||0,color:zc[Pe%zc.length]}));uw(e,ze,14,x,r-28,55)}if(e.setFontSize(8),e.setTextColor(...it.gray),e.text(`MouadVision Analytics Report | Generated: ${new Date().toLocaleDateString()}`,r/2,a-10,{align:"center"}),e.addPage(),n++,e.setFillColor(...it.danger),e.rect(0,0,r,35,"F"),e.setTextColor(...it.white),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("Order Analytics & Insights",14,23),e.setFontSize(9),e.text(`Page ${n}`,r-25,23),x=50,x=Li(e,"Order Status Distribution",14,x),t.orderStatusDistribution){const ze={PENDING:it.warning,CONFIRMED:it.primary,SHIPPED:it.secondary,DELIVERED:it.success,CANCELLED:it.danger},V=Object.entries(t.orderStatusDistribution).map(([rt,We])=>({status:rt,count:We,color:ze[rt]||it.gray})),Pe=V.reduce((rt,We)=>rt+We.count,0),st=(r-38)/3;V.forEach((rt,We)=>{const ut=Math.floor(We/3),jt=14+We%3*(st+5),pt=x+ut*32,qt=Pe>0?rt.count/Pe*100:0;e.setFillColor(...it.lightGray),e.roundedRect(jt,pt,st,28,3,3,"F"),e.setFillColor(...rt.color),e.roundedRect(jt,pt,5,28,2,2,"F"),e.rect(jt+3,pt,2,28,"F"),e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(...it.dark),e.text(rt.status,jt+12,pt+11),e.setFontSize(13),e.text(Rn(rt.count),jt+12,pt+23),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(...it.gray),e.text(`${qt.toFixed(1)}%`,jt+st-8,pt+17,{align:"right"})}),x+=Math.ceil(V.length/3)*32+15}e.setFontSize(8),e.setTextColor(...it.gray),e.text(`MouadVision Analytics Report | Generated: ${new Date().toLocaleDateString()}`,r/2,a-10,{align:"center"}),e.addPage(),n++,e.setFillColor(...it.primaryDark),e.rect(0,0,r,a,"F"),e.setTextColor(...it.white),e.setFontSize(32),e.setFont("helvetica","bold"),e.text("Thank You",r/2,80,{align:"center"}),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("For reviewing this comprehensive business report",r/2,100,{align:"center"}),e.setFillColor(255,255,255,.1),e.roundedRect(30,120,r-60,100,5,5,"F"),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Report Summary",r/2,138,{align:"center"}),e.setFontSize(10),e.setFont("helvetica","normal"),[`Total Revenue: ${Ta(((Se=t.platformRevenue)==null?void 0:Se.totalRevenue)||0)}`,`Total Orders: ${Rn(((Le=t.platformRevenue)==null?void 0:Le.totalOrders)||0)}`,`Top Performing Sellers: ${((be=t.top3Sellers)==null?void 0:be.length)||0}`,`Categories Analyzed: ${((Ge=t.top3Categories)==null?void 0:Ge.length)||0}`,`Products Tracked: ${((Ve=t.mostSoldProducts)==null?void 0:Ve.length)||0}`].forEach((ze,V)=>{e.text(` ${ze}`,r/2,158+V*12,{align:"center"})}),e.setFontSize(18),e.setFont("helvetica","bold"),e.text("MouadVision",r/2,a-35,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Empowering Business Intelligence",r/2,a-25,{align:"center"}),e.setFontSize(7),e.text(`Report Generated: ${new Date().toLocaleString()}`,r/2,a-15,{align:"center"});const O=`MouadVision_Executive_Report_${new Date().toISOString().split("T")[0]}.pdf`;e.save(O),console.log("Advanced PDF generated successfully:",O)},Z6=({className:t="",variant:e="gradient"})=>{const[r,a]=R.useState(!1),[n,i]=R.useState(null),[l,d]=R.useState(!1),u=async()=>{a(!0),i(null),d(!1);try{await eO(),d(!0),setTimeout(()=>d(!1),3e3)}catch(g){console.error("Export error:",g),i("Failed to generate PDF.Please try again."),setTimeout(()=>i(null),5e3)}finally{a(!1)}},h=()=>{const g="flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg";switch(e){case"primary":return`${g} bg-gray-600 hover:bg-gray-700 text-white hover:shadow-gray-500/25`;case"outline":return`${g} border-2 border-gray-600 text-gray-600 hover:bg-gray-600 hover:text-white`;case"gradient":default:return`${g} bg-gradient-to-r from-gray-600 via-gray-600 to-gray-600 hover:from-gray-700 hover:via-gray-700 hover:to-gray-700 text-white hover:shadow-gray-500/25`}};return s.jsxs("div",{className:"relative inline-block",children:[s.jsx("button",{onClick:u,disabled:r,className:`${h()} ${r?"opacity-70 cursor-not-allowed":"hover:scale-105"} ${t}`,children:r?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Generating Report..."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:"Report Downloaded!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{children:"Export Executive Report"})]})}),n&&s.jsx("div",{className:"absolute top-full mt-2 left-0 right-0 z-50",children:s.jsxs("div",{className:"bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg text-sm flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]})}),l&&s.jsx("div",{className:"absolute top-full mt-2 left-0 right-0 z-50",children:s.jsxs("div",{className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg text-sm flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Report generated successfully!"]})})]})},tO=()=>{var T,W,I,B;const[t,e]=R.useState(()=>{const X=new Date;return X.setMonth(X.getMonth()-1),X.toISOString().split("T")[0]}),[r,a]=R.useState(()=>new Date().toISOString().split("T")[0]),[n,i]=R.useState(null),[l,d]=R.useState(!1),[u,h]=R.useState(null),[g,x]=R.useState("csv"),[y,p]=R.useState(null),[w,j]=R.useState({sales:{count:0,lastExport:null},products:{count:0,lastExport:null},sellers:{count:0,lastExport:null}}),k=async()=>{try{d(!0);const X=await Rr.getReportSummary(t,r);i(X)}catch(X){console.error("Error generating report:",X)}finally{d(!1)}},C=(X,Q,ge)=>{if(!X||X.length===0){alert("No data to export");return}const $=ge?ge.map(P=>P.header):Object.keys(X[0]),de=ge?ge.map(P=>P.key):Object.keys(X[0]),ie="\uFEFF",ye=[$.join(","),...X.map(P=>de.map(Y=>{let G=P[Y];if(G==null)return"";if((Y.toLowerCase().includes("date")||Y.toLowerCase().includes("at"))&&G){const re=new Date(G);isNaN(re.getTime())||(G=re.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))}(Y.toLowerCase().includes("price")||Y.toLowerCase().includes("amount")||Y.toLowerCase().includes("revenue")||Y.toLowerCase().includes("total"))&&typeof G=="number"&&(G=G.toFixed(2));const ue=String(G);return ue.includes(",")||ue.includes('"')||ue.includes(`
`)?`"${ue.replace(/"/g,'""')}"`:ue}).join(","))].join(`
`),J=new Blob([ie+ye],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a");te.href=URL.createObjectURL(J),te.download=`${Q}_${new Date().toISOString().split("T")[0]}.csv`,te.click(),URL.revokeObjectURL(te.href)},L=(X,Q,ge)=>{if(!X||X.length===0){alert("No data to export");return}const $=ge?ge.map(te=>te.header):Object.keys(X[0]),de=ge?ge.map(te=>te.key):Object.keys(X[0]);let ie=`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" 
                  xmlns:x="urn:schemas-microsoft-com:office:excel">
            <head>
                <meta charset="UTF-8">
                <style>
                    table { border-collapse:collapse; }
                    th { background-color:#4F46E5; color:white; font-weight:bold; padding:8px; border:1px solid #ddd; }
                    td { padding:6px; border:1px solid #ddd; }
                    tr:nth-child(even) { background-color:#f9f9f9; }
                    .number { text-align:right; }
                    .currency { text-align:right; color:#059669; }
                </style>
            </head>
            <body>
                <table>
                    <thead>
                        <tr>${$.map(te=>`<th>${te}</th>`).join("")}</tr>
                    </thead>
                    <tbody>
        `;X.forEach(te=>{ie+="<tr>",de.forEach(P=>{let Y=te[P],G="";if(Y==null)Y="";else if(typeof Y=="number")P.toLowerCase().includes("price")||P.toLowerCase().includes("amount")||P.toLowerCase().includes("revenue")?(Y=`$${Y.toFixed(2)}`,G="currency"):G="number";else if(P.toLowerCase().includes("date")||P.toLowerCase().includes("at")){const ue=new Date(Y);isNaN(ue.getTime())||(Y=ue.toLocaleString())}ie+=`<td class="${G}">${Y}</td>`}),ie+="</tr>"}),ie+="</tbody></table></body></html>";const ye=new Blob([ie],{type:"application/vnd.ms-excel"}),J=document.createElement("a");J.href=URL.createObjectURL(ye),J.download=`${Q}_${new Date().toISOString().split("T")[0]}.xls`,J.click(),URL.revokeObjectURL(J.href)},E=async()=>{try{h("sales");const X=await Rr.exportSalesData(t,r),Q=[{key:"orderNumber",header:"Order Number"},{key:"date",header:"Order Date"},{key:"customerName",header:"Customer Name"},{key:"customerEmail",header:"Customer Email"},{key:"totalAmount",header:"Total Amount ($)"},{key:"totalItems",header:"Items Count"},{key:"status",header:"Order Status"}],ge=X.reduce((ye,J)=>ye+(J.totalAmount||0),0),$=X.length,de=X.reduce((ye,J)=>ye+(J.totalItems||0),0),ie=[...X,{orderNumber:"---",date:"",customerName:"",customerEmail:"",totalAmount:"",totalItems:"",status:"---"},{orderNumber:"SUMMARY",date:`${t} to ${r}`,customerName:`${$} Orders`,customerEmail:"",totalAmount:ge,totalItems:de,status:""}];g==="excel"?L(ie,"MouadVision_Sales_Report",Q):C(ie,"MouadVision_Sales_Report",Q),j(ye=>({...ye,sales:{count:X.length,lastExport:new Date().toLocaleString()}}))}catch(X){console.error("Error exporting sales:",X),alert("Failed to export sales data.Please try again.")}finally{h(null)}},D=async()=>{try{h("products");const X=await Rr.exportProductsData(),Q=[{key:"asin",header:"ASIN"},{key:"productName",header:"Product Name"},{key:"category",header:"Category"},{key:"price",header:"Price ($)"},{key:"stockQuantity",header:"Stock Quantity"},{key:"rating",header:"Rating (1-5)"},{key:"reviewsCount",header:"Reviews Count"},{key:"salesCount",header:"Total Sales"},{key:"seller",header:"Seller"},{key:"revenue",header:"Total Revenue ($)"}],ge=X.map(te=>({...te,revenue:(te.price||0)*(te.salesCount||0),stockQuantity:te.stockQuantity||0})),$=ge.length,de=ge.reduce((te,P)=>te+P.revenue,0),ie=ge.reduce((te,P)=>te+(P.stockQuantity||0),0),ye=ge.filter(te=>te.rating).reduce((te,P)=>te+P.rating,0)/ge.filter(te=>te.rating).length||0,J=[...ge,{asin:"---",productName:"",category:"",price:"",stockQuantity:"",rating:"",reviewsCount:"",salesCount:"",seller:"",revenue:""},{asin:"SUMMARY",productName:`${$} Products`,category:"",price:"",stockQuantity:ie,rating:ye.toFixed(1),reviewsCount:"",salesCount:"",seller:"",revenue:de}];g==="excel"?L(J,"MouadVision_Products_Catalog",Q):C(J,"MouadVision_Products_Catalog",Q),j(te=>({...te,products:{count:X.length,lastExport:new Date().toLocaleString()}}))}catch(X){console.error("Error exporting products:",X),alert("Failed to export products data.Please try again.")}finally{h(null)}},F=async()=>{try{h("sellers");const X=await Rr.exportSellersData(),Q=[{key:"rank",header:"Rank"},{key:"sellerName",header:"Seller Name"},{key:"storeName",header:"Store Name"},{key:"totalRevenue",header:"Total Revenue ($)"},{key:"productsSold",header:"Products Sold"},{key:"totalOrders",header:"Total Orders"},{key:"avgOrderValue",header:"Avg Order Value ($)"},{key:"performanceScore",header:"Performance Score"}],ge=X.map(J=>({...J,avgOrderValue:J.totalOrders>0?(J.totalRevenue/J.totalOrders).toFixed(2):0,performanceScore:se(J)})),$=ge.reduce((J,te)=>J+(te.totalRevenue||0),0),de=ge.reduce((J,te)=>J+(te.productsSold||0),0),ie=ge.reduce((J,te)=>J+(te.totalOrders||0),0),ye=[...ge,{rank:"---",sellerName:"",storeName:"",totalRevenue:"",productsSold:"",totalOrders:"",avgOrderValue:"",performanceScore:""},{rank:"TOTAL",sellerName:`${ge.length} Sellers`,storeName:"",totalRevenue:$,productsSold:de,totalOrders:ie,avgOrderValue:"",performanceScore:""}];g==="excel"?L(ye,"MouadVision_Sellers_Performance",Q):C(ye,"MouadVision_Sellers_Performance",Q),j(J=>({...J,sellers:{count:X.length,lastExport:new Date().toLocaleString()}}))}catch(X){console.error("Error exporting sellers:",X),alert("Failed to export sellers data.Please try again.")}finally{h(null)}},se=X=>{const Q=Math.min((X.totalRevenue||0)/1e4,40),ge=Math.min((X.totalOrders||0)*2,30),$=Math.min((X.productsSold||0)*.5,30),de=Math.round(Q+ge+$);return de>=80?`${de}  Excellent`:de>=60?`${de}  Good`:de>=40?`${de}  Average`:`${de}  New`},O=async X=>{try{h(X);let Q;switch(X){case"sales":Q=await Rr.exportSalesData(t,r);break;case"products":Q=await Rr.exportProductsData();break;case"sellers":Q=await Rr.exportSellersData();break}p({type:X,data:Q.slice(0,10)})}catch(Q){console.error("Error loading preview:",Q)}finally{h(null)}},U=X=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(X);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:" Reports & Export"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Generate professional reports and export data for analysis"})]}),s.jsx(Z6,{variant:"gradient"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:" Select Date Range"}),s.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:t,onChange:X=>e(X.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:r,onChange:X=>a(X.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsx("button",{onClick:k,disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate Report"]})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:[{label:"Last 7 days",days:7},{label:"Last 30 days",days:30},{label:"Last 90 days",days:90},{label:"This Year",days:"ytd"},{label:"All Time",days:"all"}].map(X=>s.jsx("button",{onClick:()=>{const Q=new Date;let ge=new Date;X.days==="ytd"?ge=new Date(Q.getFullYear(),0,1):X.days==="all"?ge=new Date("2020-01-01"):ge.setDate(Q.getDate()-X.days),e(ge.toISOString().split("T")[0]),a(Q.toISOString().split("T")[0])},className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:X.label},X.label))})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:" Data Export Center"}),s.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>x("csv"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-colors ${g==="csv"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900"}`,children:" CSV"}),s.jsx("button",{onClick:()=>x("excel"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-colors ${g==="excel"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900"}`,children:" Excel"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-2xl shadow-xl p-6 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Sales Data"}),s.jsx("p",{className:"text-emerald-100 text-sm",children:"Complete order history"})]})]}),s.jsxs("div",{className:"space-y-2 mb-6 text-sm text-emerald-100",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Order numbers & dates"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Customer information"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Amount & item counts"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Order status tracking"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Summary statistics"]})]}),w.sales.lastExport&&s.jsxs("p",{className:"text-xs text-emerald-200 mb-3",children:["Last export:",w.sales.count," records  ",w.sales.lastExport]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:E,disabled:u==="sales",className:"flex-1 px-4 py-3 bg-white text-emerald-600 rounded-xl font-semibold hover:bg-emerald-50 disabled:opacity-50 flex items-center justify-center gap-2 transition-colors shadow-lg",children:u==="sales"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-600"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export ",g.toUpperCase()]})}),s.jsx("button",{onClick:()=>O("sales"),className:"px-4 py-3 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-colors",title:"Preview Data",children:""})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-2xl shadow-xl p-6 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Products Data"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Full product catalog"})]})]}),s.jsxs("div",{className:"space-y-2 mb-6 text-sm text-blue-100",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," ASIN & product names"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Categories & prices"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Stock quantities"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Ratings & reviews"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Sales & revenue data"]})]}),w.products.lastExport&&s.jsxs("p",{className:"text-xs text-blue-200 mb-3",children:["Last export:",w.products.count," records  ",w.products.lastExport]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:D,disabled:u==="products",className:"flex-1 px-4 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:bg-blue-50 disabled:opacity-50 flex items-center justify-center gap-2 transition-colors shadow-lg",children:u==="products"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export ",g.toUpperCase()]})}),s.jsx("button",{onClick:()=>O("products"),className:"px-4 py-3 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-colors",title:"Preview Data",children:""})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-2xl shadow-xl p-6 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Sellers Data"}),s.jsx("p",{className:"text-purple-100 text-sm",children:"Performance analytics"})]})]}),s.jsxs("div",{className:"space-y-2 mb-6 text-sm text-purple-100",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Seller rankings"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Store information"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Revenue & orders"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Products sold metrics"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:""})," Performance scores"]})]}),w.sellers.lastExport&&s.jsxs("p",{className:"text-xs text-purple-200 mb-3",children:["Last export:",w.sellers.count," records  ",w.sellers.lastExport]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:F,disabled:u==="sellers",className:"flex-1 px-4 py-3 bg-white text-purple-600 rounded-xl font-semibold hover:bg-purple-50 disabled:opacity-50 flex items-center justify-center gap-2 transition-colors shadow-lg",children:u==="sellers"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export ",g.toUpperCase()]})}),s.jsx("button",{onClick:()=>O("sellers"),className:"px-4 py-3 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-colors",title:"Preview Data",children:""})]})]})]})]}),y&&s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>p(null)}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs("div",{className:"relative w-full max-w-5xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[" Data Preview - ",y.type.charAt(0).toUpperCase()+y.type.slice(1)]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Showing first 10 records of ",y.data.length," total"]})]}),s.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6 overflow-x-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"sticky top-0 bg-gray-50 dark:bg-gray-700",children:s.jsx("tr",{children:Object.keys(y.data[0]||{}).map(X=>s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300 whitespace-nowrap",children:X.replace(/([A-Z])/g," $1").replace(/^./,Q=>Q.toUpperCase())},X))})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:y.data.map((X,Q)=>s.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:Object.values(X).map((ge,$)=>s.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-white whitespace-nowrap",children:typeof ge=="number"?ge.toLocaleString():String(ge||"-")},$))},Q))})]})}),s.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"}),s.jsxs("button",{onClick:()=>{y.type==="sales"?E():y.type==="products"?D():F(),p(null)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Full Data"]})]})]})})]}),n&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:" Report Summary"}),s.jsxs("span",{className:"text-blue-200 text-sm bg-white/10 px-3 py-1 rounded-full",children:[t," to ",r]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-200 text-sm",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold",children:U(((T=n.sales)==null?void 0:T.totalRevenue)||0)})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-200 text-sm",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:((W=n.sales)==null?void 0:W.totalOrders)||0})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-200 text-sm",children:"Avg Order Value"}),s.jsx("p",{className:"text-2xl font-bold",children:U(((I=n.sales)==null?void 0:I.avgOrderValue)||0)})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-200 text-sm",children:"Items Sold"}),s.jsx("p",{className:"text-2xl font-bold",children:((B=n.sales)==null?void 0:B.totalItems)||0})]})]})]}),n.topProducts&&n.topProducts.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:" Top Selling Products"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"pb-3 text-gray-500 dark:text-gray-400",children:"Rank"}),s.jsx("th",{className:"pb-3 text-gray-500 dark:text-gray-400",children:"Product"}),s.jsx("th",{className:"pb-3 text-gray-500 dark:text-gray-400 text-right",children:"Sales"}),s.jsx("th",{className:"pb-3 text-gray-500 dark:text-gray-400 text-right",children:"Revenue"})]})}),s.jsx("tbody",{children:n.topProducts.slice(0,5).map((X,Q)=>{var ge;return s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"py-3",children:s.jsxs("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm ${Q===0?"bg-yellow-100 text-yellow-700":Q===1?"bg-gray-100 text-gray-700":Q===2?"bg-amber-100 text-amber-700":"bg-gray-50 text-gray-600"}`,children:["#",Q+1]})}),s.jsxs("td",{className:"py-3",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate max-w-xs",children:X.productName}),s.jsx("p",{className:"text-xs text-gray-500",children:X.categoryName||"N/A"})]}),s.jsx("td",{className:"py-3 text-right font-semibold text-gray-900 dark:text-white",children:((ge=X.salesCount)==null?void 0:ge.toLocaleString())||0}),s.jsx("td",{className:"py-3 text-right font-semibold text-gray-600",children:U(X.revenue||0)})]},X.asin||Q)})})]})})]})]})]})},Ql=({message:t,type:e="success",duration:r=3e3,onClose:a})=>{const[n,i]=R.useState(!0);R.useEffect(()=>{const u=setTimeout(()=>{i(!1),setTimeout(a,300)},r);return()=>clearTimeout(u)},[r,a]);const l={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500",warning:"bg-yellow-500"},d={success:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),info:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})};return s.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg text-white transition-all duration-300 ${l[e]} ${n?"opacity-100 translate-x-0":"opacity-0 translate-x-full"}`,children:[d[e],s.jsx("span",{className:"font-medium",children:t}),s.jsx("button",{onClick:()=>{i(!1),setTimeout(a,300)},className:"ml-2 hover:opacity-80",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},rO=()=>{var T,W,I;const[t,e]=R.useState([]),[r,a]=R.useState(null),[n,i]=R.useState(!0),[l,d]=R.useState(0),[u,h]=R.useState(0),[g,x]=R.useState(""),[y,p]=R.useState(null),[w,j]=R.useState(null),[k,C]=R.useState(!1),[L,E]=R.useState({quantity:1,price:0,customProductName:"",customDescription:""});R.useEffect(()=>{D(),F()},[l]);const D=async()=>{var B;try{const X=localStorage.getItem("token"),Q=await Ie.get("http://localhost:8080/api/seller/stock/dashboard",{headers:{Authorization:`Bearer ${X}`}});a((B=Q.data)==null?void 0:B.data)}catch(X){console.error("Error fetching dashboard:",X)}},F=async()=>{var B;try{i(!0);const X=localStorage.getItem("token"),Q=g?`http://localhost:8080/api/seller/stock/search?query=${g}&page=${l}&size=12`:`http://localhost:8080/api/seller/stock? page=${l}&size=12`,$=(B=(await Ie.get(Q,{headers:{Authorization:`Bearer ${X}`}})).data)==null?void 0:B.data;e(($==null?void 0:$.content)||[]),h(($==null?void 0:$.totalPages)||0)}catch(X){console.error("Error fetching stock:",X),p({message:"Failed to load stock",type:"error"})}finally{i(!1)}},se=async()=>{var B,X;if(w)try{const Q=localStorage.getItem("token");await Ie.post("http://localhost:8080/api/seller/stock/list",{stockId:w.id,quantity:L.quantity,price:L.price,customProductName:L.customProductName||null,customDescription:L.customDescription||null},{headers:{Authorization:`Bearer ${Q}`}}),p({message:"Product submitted for approval! ",type:"success"}),C(!1),j(null),F(),D()}catch(Q){p({message:((X=(B=Q.response)==null?void 0:B.data)==null?void 0:X.message)||"Failed to list product",type:"error"})}},O=B=>{j(B),E({quantity:1,price:B.suggestedResalePrice,customProductName:"",customDescription:""}),C(!0)},U=B=>{const X={IN_STOCK:"bg-green-100 text-green-800",PARTIALLY_LISTED:"bg-yellow-100 text-yellow-800",FULLY_LISTED:"bg-blue-100 text-blue-800",OUT_OF_STOCK:"bg-red-100 text-red-800"},Q={IN_STOCK:" In Stock",PARTIALLY_LISTED:" Partially Listed",FULLY_LISTED:" Fully Listed",OUT_OF_STOCK:" Out of Stock"};return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${X[B]||"bg-gray-100"}`,children:Q[B]||B})};return s.jsxs("div",{className:"p-6",children:[y&&s.jsx(Ql,{message:y.message,type:y.type,onClose:()=>p(null)}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Stock Management"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your purchased inventory and list products for sale"})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Total Stock Items"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:r.totalStockItems}),s.jsxs("p",{className:"text-blue-200 text-xs mt-1",children:[r.availableStockItems," available to list"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white",children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Units Available"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:r.totalUnitsAvailable}),s.jsx("p",{className:"text-green-200 text-xs mt-1",children:"Ready to list"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[s.jsx("p",{className:"text-purple-100 text-sm",children:"Total Investment"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:["$",(T=r.totalInvestment)==null?void 0:T.toFixed(2)]}),s.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"Purchase cost"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[s.jsx("p",{className:"text-orange-100 text-sm",children:"Potential Profit"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:["$",(W=r.potentialProfit)==null?void 0:W.toFixed(2)]}),s.jsx("p",{className:"text-orange-200 text-xs mt-1",children:"At 25% markup"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search stock...",value:g,onChange:B=>x(B.target.value),onKeyPress:B=>B.key==="Enter"&&F(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),s.jsxs(lt,{to:"/seller/shop",className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Buy More Stock"]})]})}),n?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-12 text-center",children:[s.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Stock Items"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Purchase products from the shop to add them to your stock"}),s.jsx(lt,{to:"/seller/shop",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700",children:"Start Shopping"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(B=>{var X,Q;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow overflow-hidden hover:shadow-lg transition",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:B.originalProductImage||"/placeholder-product.png",alt:B.originalProductName,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-2 right-2",children:U(B.status)})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white line-clamp-2 mb-2",children:B.originalProductName}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Purchase Price:"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",(X=B.purchasePrice)==null?void 0:X.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Available:"}),s.jsxs("span",{className:"font-medium text-green-600",children:[B.availableQuantity," / ",B.quantity]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Suggested Price:"}),s.jsxs("span",{className:"font-medium text-blue-600",children:["$",(Q=B.suggestedResalePrice)==null?void 0:Q.toFixed(2)]})]})]}),s.jsx("div",{className:"flex gap-2",children:B.availableQuantity>0?s.jsx("button",{onClick:()=>O(B),className:"flex-1 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 text-sm",children:"List for Sale"}):s.jsx("button",{disabled:!0,className:"flex-1 py-2 bg-gray-300 dark:bg-gray-600 text-gray-500 rounded-lg font-medium text-sm cursor-not-allowed",children:"Fully Listed"})})]})]},B.id)})}),u>1&&s.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[s.jsx("button",{onClick:()=>d(B=>Math.max(0,B-1)),disabled:l===0,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Previous"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:["Page ",l+1," of ",u]}),s.jsx("button",{onClick:()=>d(B=>Math.min(u-1,B+1)),disabled:l>=u-1,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Next"})]}),k&&w&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg mx-4 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"List Product for Sale"}),s.jsx("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("img",{src:w.originalProductImage,alt:w.originalProductName,className:"w-24 h-24 object-cover rounded-lg"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:w.originalProductName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Available: ",w.availableQuantity," units"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Purchase Price: $",(I=w.purchasePrice)==null?void 0:I.toFixed(2)]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity *"}),s.jsx("input",{type:"number",min:"1",max:w.availableQuantity,value:L.quantity,onChange:B=>E({...L,quantity:parseInt(B.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Price ($) *"}),s.jsx("input",{type:"number",step:"0.01",min:"0.01",value:L.price,onChange:B=>E({...L,price:parseFloat(B.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Product Name (Optional)"}),s.jsx("input",{type:"text",placeholder:w.originalProductName,value:L.customProductName,onChange:B=>E({...L,customProductName:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Description (Optional)"}),s.jsx("textarea",{rows:3,placeholder:"Add your own description...",value:L.customDescription,onChange:B=>E({...L,customDescription:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[s.jsx("strong",{children:"Profit per unit:"})," $",(L.price-w.purchasePrice).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[s.jsx("strong",{children:"Total profit:"})," $",((L.price-w.purchasePrice)*L.quantity).toFixed(2)]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),s.jsx("button",{onClick:se,disabled:L.quantity<=0||L.price<=0,className:"flex-1 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 disabled:opacity-50",children:"Submit for Approval"})]})]})})]})},aO=()=>{var ue;const[t,e]=R.useState([]),[r,a]=R.useState(null),[n,i]=R.useState(!0),[l,d]=R.useState(0),[u,h]=R.useState(0),[g,x]=R.useState(0),[y,p]=R.useState("all"),[w,j]=R.useState("all"),[k,C]=R.useState(null),[L,E]=R.useState(null),[D,F]=R.useState(0),[se,O]=R.useState(!1),[U,T]=R.useState(!1),[W,I]=R.useState(null),[B,X]=R.useState(""),Q=20,ge=R.useCallback(async()=>{var re;try{const xe=localStorage.getItem("token"),je=await Ie.get("http://localhost:8080/api/admin/stock/dashboard",{headers:{Authorization:`Bearer ${xe}`}});a((re=je.data)==null?void 0:re.data)}catch(xe){console.error("Error fetching dashboard:",xe)}},[]),$=R.useCallback(async()=>{var re;try{i(!0);const xe=localStorage.getItem("token");let je=`http://localhost:8080/api/admin/stock/products? page=${l}&size=${Q}`;y!=="all"&&(je+=`&filter=${y}`),w!=="all"&&(je+=`&owner=${w}`);const Le=(re=(await Ie.get(je,{headers:{Authorization:`Bearer ${xe}`}})).data)==null?void 0:re.data;e((Le==null?void 0:Le.content)||[]),h((Le==null?void 0:Le.totalPages)||0),x((Le==null?void 0:Le.totalElements)||0)}catch(xe){console.error("Error fetching products:",xe),C({message:"Failed to load products",type:"error"})}finally{i(!1)}},[l,y,w,Q]);R.useEffect(()=>{ge()},[ge]),R.useEffect(()=>{$()},[$]);const de=re=>{p(re),d(0)},ie=re=>{j(re),d(0)},ye=re=>{if(!re.canAdminEdit){C({message:"Cannot edit seller products. Send a notification instead.",type:"error"});return}E(re),F(re.stockQuantity),O(!0)},J=re=>{I(re),X(""),T(!0)},te=async()=>{var re,xe;if(L)try{const je=localStorage.getItem("token");await Ie.put(`http://localhost:8080/api/admin/stock/products/${L.asin}`,{quantity:D},{headers:{Authorization:`Bearer ${je}`}}),C({message:"Stock updated successfully! ",type:"success"}),O(!1),E(null),$(),ge()}catch(je){C({message:((xe=(re=je.response)==null?void 0:re.data)==null?void 0:xe.message)||"Failed to update stock",type:"error"})}},P=async()=>{var re,xe;if(W)try{const je=localStorage.getItem("token");await Ie.post(`http://localhost:8080/api/admin/stock/products/${W.asin}/notify-seller`,{message:B||null},{headers:{Authorization:`Bearer ${je}`}}),C({message:`Notification sent to ${W.sellerName}!`,type:"success"}),T(!1),I(null)}catch(je){C({message:((xe=(re=je.response)==null?void 0:re.data)==null?void 0:xe.message)||"Failed to send notification",type:"error"})}},Y=async()=>{var re;if(confirm("Send notifications to all sellers with low stock products?"))try{const xe=localStorage.getItem("token"),Se=(re=(await Ie.post("http://localhost:8080/api/admin/stock/notify-low-stock-sellers",{},{headers:{Authorization:`Bearer ${xe}`}})).data)==null?void 0:re.data;C({message:`Notified ${Se==null?void 0:Se.sellersNotified} sellers about ${Se==null?void 0:Se.productsAffected} products! `,type:"success"})}catch{C({message:"Failed to send notifications",type:"error"})}},G=re=>{switch(re){case"OUT_OF_STOCK":return s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300 rounded-full text-xs font-medium",children:" Out of Stock"});case"LOW_STOCK":return s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300 rounded-full text-xs font-medium",children:" Low Stock"});default:return s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 rounded-full text-xs font-medium",children:" In Stock"})}};return s.jsxs("div",{className:"space-y-6",children:[k&&s.jsx(Ql,{message:k.message,type:k.type,onClose:()=>C(null)}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Stock Management"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor inventory and notify sellers about low stock"})]}),s.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium text-sm flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notify All Low Stock Sellers"]})]}),r&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 border-l-4 border-blue-500",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Total"}),s.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.totalProducts})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 border-l-4 border-purple-500",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"MouadVision"}),s.jsx("p",{className:"text-xl font-bold text-purple-600",children:r.mouadVisionProducts})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 border-l-4 border-cyan-500",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Seller Products"}),s.jsx("p",{className:"text-xl font-bold text-cyan-600",children:r.sellerProducts})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 border-l-4 border-indigo-500",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Total Units"}),s.jsx("p",{className:"text-xl font-bold text-indigo-600",children:(ue=r.totalUnitsInStock)==null?void 0:ue.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 border-l-4 border-green-500",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Healthy"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:r.healthyStockCount})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 border-l-4 border-yellow-500",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Low Stock"}),s.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.lowStockCount})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 border-l-4 border-red-500",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Out of Stock"}),s.jsx("p",{className:"text-xl font-bold text-red-600",children:r.outOfStockCount})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 self-center mr-2",children:"Owner:"}),[{value:"all",label:"All Products"},{value:"mouadvision",label:" MouadVision"},{value:"sellers",label:" Sellers"}].map(re=>s.jsx("button",{onClick:()=>ie(re.value),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${w===re.value?"bg-dark-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200"}`,children:re.label},re.value))]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 self-center mr-2",children:"Status:"}),[{value:"all",label:"All",color:"blue"},{value:"healthy",label:" In Stock",color:"green"},{value:"low",label:" Low",color:"yellow"},{value:"out",label:" Out",color:"red"}].map(re=>s.jsx("button",{onClick:()=>de(re.value),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${y===re.value?re.value==="all"?"bg-blue-600 text-white":re.value==="healthy"?"bg-green-600 text-white":re.value==="low"?"bg-yellow-500 text-white":"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200"}`,children:re.label},re.value))]})]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",t.length," of ",g," products",w==="mouadvision"&&s.jsx("span",{className:"ml-2 text-purple-600",children:"(MouadVision - Editable)"}),w==="sellers"&&s.jsx("span",{className:"ml-2 text-cyan-600",children:"(Seller Products - Notify Only)"})]}),n?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-12 text-center",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No products found"})}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Owner"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Stock"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(re=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:re.imageUrl||"/placeholder-product.png",alt:re.productName}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-[250px]",children:re.productName}),s.jsx("p",{className:"text-xs text-gray-500",children:re.asin})]})]})}),s.jsx("td",{className:"px-4 py-3",children:re.isMouadVisionProduct?s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-300 rounded text-xs font-medium",children:" MouadVision"}):s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-cyan-100 text-cyan-800 dark:bg-cyan-900/50 dark:text-cyan-300 rounded text-xs font-medium",children:[" ",re.sellerName]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`text-lg font-bold ${re.stockQuantity===0?"text-red-600":re.stockQuantity<10?"text-yellow-600":"text-green-600"}`,children:re.stockQuantity})}),s.jsx("td",{className:"px-4 py-3 text-center",children:G(re.stockStatus)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"flex items-center justify-end gap-1",children:re.canAdminEdit?s.jsx(s.Fragment,{children:s.jsx("button",{onClick:()=>ye(re),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700",children:"Edit"})}):s.jsxs("button",{onClick:()=>J(re),className:"px-3 py-1 bg-orange-500 text-white rounded text-xs font-medium hover:bg-orange-600 flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notify Seller"]})})})]},re.asin))})]})})}),u>1&&s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx("button",{onClick:()=>d(re=>Math.max(0,re-1)),disabled:l===0,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50 text-sm",children:"Previous"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600 dark:text-gray-400 text-sm",children:["Page ",l+1," of ",u]}),s.jsx("button",{onClick:()=>d(re=>Math.min(u-1,re+1)),disabled:l>=u-1,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50 text-sm",children:"Next"})]}),se&&L&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Update Stock"}),s.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"flex gap-3 mb-4",children:[s.jsx("img",{src:L.imageUrl||"/placeholder-product.png",alt:"",className:"w-14 h-14 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-2",children:L.productName}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Current:",L.stockQuantity]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>F(Math.max(0,D-10)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg text-sm",children:"-10"}),s.jsx("input",{type:"number",min:"0",value:D,onChange:re=>F(Math.max(0,parseInt(re.target.value)||0)),className:"flex-1 px-4 py-2 text-center text-xl font-bold border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("button",{onClick:()=>F(D+10),className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg text-sm",children:"+10"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:[0,10,25,50,100,200].map(re=>s.jsx("button",{onClick:()=>F(re),className:`px-3 py-1 rounded-lg text-sm ${D===re?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:re},re))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>O(!1),className:"flex-1 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm",children:"Cancel"}),s.jsx("button",{onClick:te,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Update"})]})]})}),U&&W&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Notify Seller"}),s.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.productName}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Seller:",s.jsx("span",{className:"font-medium",children:W.sellerName})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Current Stock:",s.jsx("span",{className:`font-bold ${W.stockQuantity===0?"text-red-600":"text-yellow-600"}`,children:W.stockQuantity})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message (Optional)"}),s.jsx("textarea",{rows:3,value:B,onChange:re=>X(re.target.value),placeholder:"Leave empty for default message...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm",children:"Cancel"}),s.jsxs("button",{onClick:P,className:"flex-1 py-2 bg-orange-500 text-white rounded-lg text-sm hover:bg-orange-600 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Send Notification"]})]})]})})]})},Jl="http://localhost:8080/api/predictions",ec=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),sO=t=>({totalPredictions:t.totalPredictions||0,potentialBestsellers:t.potentialBestsellers||t.potentialBestsellersCount||0,potentialBestsellersCount:t.potentialBestsellersCount||t.potentialBestsellers||0,avgBestsellerProbability:t.avgBestsellerProbability||t.averageBestsellerProbability||0,averageBestsellerProbability:t.averageBestsellerProbability||t.avgBestsellerProbability||0,avgPriceChange:t.avgPriceChange||t.averagePriceChangeRecommended||0,averagePriceChangeRecommended:t.averagePriceChangeRecommended||t.avgPriceChange||0,productsWithPriceRecommendation:t.productsWithPriceRecommendation||0,productsWithRankingImprovement:t.productsWithRankingImprovement||t.improvingProducts||0,improvingProducts:t.improvingProducts||t.productsWithRankingImprovement||0,decliningProducts:t.decliningProducts||0,stableProducts:t.stableProducts||0,trendDistribution:t.trendDistribution||{},priceActionDistribution:t.priceActionDistribution||{},categoryStats:(t.categoryStats||[]).map(nO)}),nO=t=>({category:t.category||"",count:t.count||t.productCount||0,productCount:t.productCount||t.count||0,avgBestsellerProb:t.avgBestsellerProb||t.avgBestsellerProbability||0,avgBestsellerProbability:t.avgBestsellerProbability||t.avgBestsellerProb||0,avgPriceChange:t.avgPriceChange||0}),iO=async()=>{try{return(await Ie.get(`${Jl}/health`,ec())).data}catch{return{springBootService:"DOWN",mlServiceAvailable:!1}}},oO=async()=>(await Ie.get(`${Jl}/metrics`,ec())).data,P2=async()=>(await Ie.get(`${Jl}/all`,ec())).data,Q6=async()=>{const t=await Ie.get(`${Jl}/stats`,ec());return sO(t.data)},lO=async()=>(await Ie.get(`${Jl}/bestsellers`,ec())).data,cO=async()=>(await Ie.post(`${Jl}/generate/all`,{},ec())).data,dO=async t=>(await Ie.get(`${Jl}/seller/${t}/alerts`,ec())).data,uO=async()=>{try{return(await Ie.get(`${Jl}/count`,ec())).data}catch{try{const[e,r]=await Promise.all([P2(),Q6()]),a=(r==null?void 0:r.totalPredictions)||e.length||0,n=e.length,i=a>0?n/a*100:0;return{predictionCount:n,productCount:a,needsGeneration:n===0&&a>0,coveragePercent:i}}catch{return{predictionCount:0,productCount:0,needsGeneration:!1,coveragePercent:0}}}},hO=async(t=50)=>{try{return(await Ie.post(`${Jl}/generate/batch-sync`,{batchSize:t},ec())).data}catch{try{await cO();const r=await P2();return{processed:r.length,successCount:r.length,failureCount:0,remainingProducts:0,totalProducts:r.length}}catch{return{processed:0,successCount:0,failureCount:0,remainingProducts:0,totalProducts:0}}}},th=t=>t==null?"0.0%":`${(t*100).toFixed(1)}%`,B0=t=>t==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),K6=t=>{if(!t)return"N/A";const e=new Date(t);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)},Zg=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),fO=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),_g=()=>s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),Xx=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Ag=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-. 402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),hw=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),fw=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),gw=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),gO=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),mw=()=>s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Lg=({title:t,value:e,subtitle:r,icon:a,trend:n,trendValue:i,color:l})=>{const d={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",yellow:"from-yellow-500 to-yellow-600",purple:"from-purple-500 to-purple-600",red:"from-red-500 to-red-600",indigo:"from-indigo-500 to-indigo-600"},u={blue:"bg-blue-500/10 dark:bg-blue-500/20",green:"bg-green-500/10 dark:bg-green-500/20",yellow:"bg-yellow-500/10 dark:bg-yellow-500/20",purple:"bg-purple-500/10 dark:bg-purple-500/20",red:"bg-red-500/10 dark:bg-red-500/20",indigo:"bg-indigo-500/10 dark:bg-indigo-500/20"},h={blue:"text-blue-500",green:"text-green-500",yellow:"text-yellow-500",purple:"text-purple-500",red:"text-red-500",indigo:"text-indigo-500"};return s.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-lg border border-gray-100 dark:border-gray-700 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[s.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r ${d[l]}`}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-white",children:e}),r&&s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:r}),n&&i&&s.jsxs("div",{className:`mt-2 flex items-center gap-1 text-sm ${n==="up"?"text-green-500":n==="down"?"text-red-500":"text-gray-500"}`,children:[n==="up"?s.jsx(Zg,{}):n==="down"?s.jsx(fO,{}):null,s.jsx("span",{children:i})]})]}),s.jsx("div",{className:`p-3 rounded-xl ${u[l]}`,children:s.jsx("span",{className:h[l],children:a})})]})]})},Zx=({value:t,color:e,label:r})=>s.jsxs("div",{className:"w-full",children:[r&&s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${e}`,style:{width:`${Math.min(t,100)}%`}})})]}),Qx=({value:t,size:e=120,strokeWidth:r=10,color:a})=>{const n=(e-r)/2,i=n*2*Math.PI,l=i-t/100*i;return s.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[s.jsxs("svg",{width:e,height:e,className:"transform -rotate-90",children:[s.jsx("circle",{cx:e/2,cy:e/2,r:n,stroke:"currentColor",strokeWidth:r,fill:"none",className:"text-gray-200 dark:text-gray-700"}),s.jsx("circle",{cx:e/2,cy:e/2,r:n,stroke:"currentColor",strokeWidth:r,fill:"none",strokeLinecap:"round",strokeDasharray:i,strokeDashoffset:l,className:`${a} transition-all duration-700 ease-out`})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.toFixed(0),"%"]})})]})},Ei=({children:t,variant:e})=>{const r={success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",danger:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",neutral:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r[e]}`,children:t})},pw=()=>{var ye,J,te,P,Y,G,ue,re,xe,je,Se,Le;const[t,e]=R.useState([]),[r,a]=R.useState(null),[n,i]=R.useState([]),[l,d]=R.useState(null),[u,h]=R.useState(null),[g,x]=R.useState(!0),[y,p]=R.useState(!1),[w,j]=R.useState(null),[k,C]=R.useState("overview"),[L,E]=R.useState("all"),[D,F]=R.useState(!1),[se,O]=R.useState(null),[U,T]=R.useState(!1),W=R.useCallback(async()=>{var be,Ge;x(!0),j(null);try{const[Ve,ze,V,Pe,st]=await Promise.all([P2().catch(()=>[]),Q6().catch(()=>null),lO().catch(()=>[]),iO().catch(()=>({springBootService:"UP",mlServiceAvailable:!1})),uO().catch(()=>({predictionCount:0,productCount:0,needsGeneration:!1,coveragePercent:0}))]);if(e(Ve),a(ze),i(V),d(Pe),Pe!=null&&Pe.mlServiceAvailable){const rt=await oO().catch(()=>null);h(rt),st.needsGeneration&&st.productCount>0&&F(!0)}}catch(Ve){console.error("Erreur:",Ve),j(((Ge=(be=Ve.response)==null?void 0:be.data)==null?void 0:Ge.message)||"Erreur lors du chargement des donnes")}finally{x(!1)}},[]),I=async()=>{var be,Ge;if(!(l!=null&&l.mlServiceAvailable)){alert("Le service ML n'est pas disponible.");return}F(!1),p(!0),O({processed:0,total:0,success:0,failures:0});try{let Ve=999,ze=0,V=0,Pe=0;for(;Ve>0;){const st=await hO(50);ze+=st.processed,V+=st.successCount,Pe+=st.failureCount,Ve=st.remainingProducts,O({processed:ze,total:st.totalProducts,success:V,failures:Pe}),Ve>0&&await new Promise(rt=>setTimeout(rt,500))}await W()}catch(Ve){console.error("Erreur gnration:",Ve),j(((Ge=(be=Ve.response)==null?void 0:be.data)==null?void 0:Ge.message)||"Erreur lors de la gnration")}finally{p(!1),O(null)}};R.useEffect(()=>{W()},[W]);const B=async()=>{T(!0),await W(),T(!1)},X=async()=>{if(!(l!=null&&l.mlServiceAvailable)){alert("Le service ML n'est pas disponible. Veuillez dmarrer le microservice Flask.");return}await I()},Q=L==="all"?t:t.filter(be=>be.category===L),ge=["all",...new Set(t.map(be=>be.category).filter(Boolean))],$=be=>{switch(be){case"AMLIORATION":return s.jsxs(Ei,{variant:"success",children:[" ",be]});case"DCLIN":return s.jsxs(Ei,{variant:"danger",children:[" ",be]});default:return s.jsxs(Ei,{variant:"neutral",children:[" ",be]})}},de=be=>{switch(be){case"TRS LEV":return s.jsx(Ei,{variant:"success",children:be});case"LEV":return s.jsx(Ei,{variant:"info",children:be});case"MODR":return s.jsx(Ei,{variant:"warning",children:be});default:return s.jsx(Ei,{variant:"danger",children:be})}},ie=be=>{switch(be){case"AUGMENTER":return s.jsxs(Ei,{variant:"success",children:[" ",be]});case"DIMINUER":return s.jsxs(Ei,{variant:"danger",children:[" ",be]});default:return s.jsxs(Ei,{variant:"neutral",children:[" ",be]})}};return g?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 dark:border-blue-900 rounded-full animate-spin border-t-blue-500"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(Xx,{})})]}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400 font-medium",children:"Chargement des analyses prdictives..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:"High Analysis"}),s.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:"Predictive Decision Support Dashboard for Sales Management"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${l!=null&&l.mlServiceAvailable?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[l!=null&&l.mlServiceAvailable?s.jsx(gO,{}):s.jsx(mw,{}),"Service ML: ",l!=null&&l.mlServiceAvailable?"Actif":"Inactif"]}),s.jsx("button",{onClick:B,disabled:U,className:"p-2.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all disabled:opacity-50",children:s.jsx(hw,{})}),s.jsx("button",{onClick:X,disabled:y||!(l!=null&&l.mlServiceAvailable),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-all ${y||!(l!=null&&l.mlServiceAvailable)?"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-gray-500 to-gray-600 text-white hover:shadow-lg hover:shadow-blue-500/25 hover:-translate-y-0.5"}`,children:y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Generation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(hw,{}),"Generate"]})})]})]}),D&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Xx,{})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Bienvenue dans l'Analyse Prdictive"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Aucune prdiction n'a encore t gnre. Voulez-vous lancer l'analyse ML sur tous vos produits ?"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("button",{onClick:()=>F(!1),className:"px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:"Plus tard"}),s.jsx("button",{onClick:I,className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-lg hover:shadow-blue-500/25 transition-all",children:"Gnrer maintenant"})]})]})})}),y&&se&&s.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 dark:border-blue-800 rounded-full animate-spin border-t-blue-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Gnration des prdictions en cours..."}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Analyse ML de ",se.processed," / ",se.total," produits"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden mb-2",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-300",style:{width:`${se.total>0?se.processed/se.total*100:0}%`}})}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[se.success," russies"]}),se.failures>0&&s.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[se.failures," checs"]})]})]}),w&&s.jsx("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mw,{}),s.jsx("span",{children:w})]})}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Lg,{title:"Produits Analyss",value:r.totalPredictions,subtitle:"Total des prdictions",icon:s.jsx(gw,{}),color:"blue"}),s.jsx(Lg,{title:"Bestsellers Potentiels",value:r.potentialBestsellersCount,subtitle:`${th(r.averageBestsellerProbability)} prob.  moyenne`,icon:s.jsx(_g,{}),color:"green",trend:"up",trendValue:`${(r.potentialBestsellersCount/Math.max(r.totalPredictions,1)*100).toFixed(1)}% du total`}),s.jsx(Lg,{title:"Recommandations Prix",value:r.productsWithPriceRecommendation,subtitle:`${r.averagePriceChangeRecommended.toFixed(1)}% en moyenne`,icon:s.jsx(Ag,{}),color:"yellow"}),s.jsx(Lg,{title:"Tendance Positive",value:r.productsWithRankingImprovement,subtitle:"Amlioration prvue",icon:s.jsx(Zg,{}),color:"purple",trend:"up",trendValue:"En progression"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsx("nav",{className:"flex overflow-x-auto",children:[{id:"overview",label:"Vue d'ensemble",icon:s.jsx(Xx,{})},{id:"rankings",label:"Classements",icon:s.jsx(Zg,{})},{id:"bestsellers",label:"Bestsellers",icon:s.jsx(_g,{})},{id:"prices",label:"Prix",icon:s.jsx(Ag,{})},{id:"models",label:"Modles ML",icon:s.jsx(fw,{})}].map(be=>s.jsxs("button",{onClick:()=>C(be.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium whitespace-nowrap border-b-2 transition-all ${k===be.id?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[be.icon,be.label]},be.id))})}),s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Catgorie:"}),s.jsx("select",{value:L,onChange:be=>E(be.target.value),className:"px-4 py-2 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:ge.map(be=>s.jsx("option",{value:be,children:be==="all"?"Toutes les catgories":be},be))}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Q.length," produit(s)"]})]})}),s.jsxs("div",{className:"p-6",children:[k==="overview"&&r&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-6 rounded-xl bg-gray-50 dark:bg-gray-700/30 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Distribution des Tendances"}),s.jsx("div",{className:"space-y-4",children:Object.entries(r.trendDistribution||{}).map(([be,Ge])=>{const Ve=Ge/r.totalPredictions*100,ze=be==="AMLIORATION"?"bg-green-500":be==="DCLIN"?"bg-red-500":"bg-yellow-500";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:be}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Ge," (",Ve.toFixed(1),"%)"]})]}),s.jsx(Zx,{value:Ve,color:ze})]},be)})})]}),s.jsxs("div",{className:"p-6 rounded-xl bg-gray-50 dark:bg-gray-700/30 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recommandations de Prix"}),s.jsx("div",{className:"space-y-4",children:Object.entries(r.priceActionDistribution||{}).map(([be,Ge])=>{const Ve=Ge/r.totalPredictions*100,ze=be==="AUGMENTER"?"bg-green-500":be==="DIMINUER"?"bg-red-500":"bg-gray-400";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:be}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Ge," (",Ve.toFixed(1),"%)"]})]}),s.jsx(Zx,{value:Ve,color:ze})]},be)})})]})]}),r.categoryStats&&r.categoryStats.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Analyse par Catgorie"}),s.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-700",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Catgorie"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Produits"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prob. Bestseller"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Variation Prix"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.categoryStats.map((be,Ge)=>s.jsxs("tr",{className:Ge%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:be.category}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600 dark:text-gray-400",children:be.productCount}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Ei,{variant:be.avgBestsellerProbability>.5?"success":"neutral",children:th(be.avgBestsellerProbability)})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("span",{className:`font-medium ${be.avgPriceChange>0?"text-green-500":be.avgPriceChange<0?"text-red-500":"text-gray-500"}`,children:[be.avgPriceChange>0?"+":"",be.avgPriceChange.toFixed(1),"%"]})})]},be.category))})]})})]})]}),k==="rankings"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Prdictions de Classement Futur"}),Q.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[s.jsx(gw,{}),s.jsx("p",{className:"mt-2",children:"Aucune prdiction disponible"})]}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-700",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Produit"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Catgorie"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Actuel"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Prdit"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Variation"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Tendance"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Confiance"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Q.sort((be,Ge)=>{var Ve,ze;return(((Ve=Ge.rankingPrediction)==null?void 0:Ve.rankingChange)||0)-(((ze=be.rankingPrediction)==null?void 0:ze.rankingChange)||0)}).slice(0,20).map((be,Ge)=>{var Ve,ze,V,Pe,st,rt,We,ut,at;return s.jsxs("tr",{className:Ge%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate max-w-[200px]",children:be.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID:",be.productId]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Ei,{variant:"info",children:be.category})}),s.jsxs("td",{className:"px-6 py-4 text-center font-mono text-gray-600 dark:text-gray-400",children:["#",((Ve=be.rankingPrediction)==null?void 0:Ve.currentRanking)||"-"]}),s.jsxs("td",{className:"px-6 py-4 text-center font-mono font-bold text-gray-900 dark:text-white",children:["#",((ze=be.rankingPrediction)==null?void 0:ze.predictedRanking)||"-"]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("span",{className:`font-bold ${(((V=be.rankingPrediction)==null?void 0:V.rankingChange)||0)>0?"text-green-500":(((Pe=be.rankingPrediction)==null?void 0:Pe.rankingChange)||0)<0?"text-red-500":"text-gray-500"}`,children:[(((st=be.rankingPrediction)==null?void 0:st.rankingChange)||0)>0?"+":"",((rt=be.rankingPrediction)==null?void 0:rt.rankingChange)||0]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:$(((We=be.rankingPrediction)==null?void 0:We.trend)||"STABLE")}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${(((ut=be.rankingPrediction)==null?void 0:ut.confidence)||0)*100}%`}})}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:th(((at=be.rankingPrediction)==null?void 0:at.confidence)||0)})]})})]},be.productId)})})]})})]}),k==="bestsellers"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Bestsellers Potentiels Identifis"}),n.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[s.jsx(_g,{}),s.jsx("p",{className:"mt-2",children:"Aucun bestseller potentiel identifi"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.slice(0,12).map(be=>{var Ge,Ve,ze,V,Pe,st;return s.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-800/50 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all hover:-translate-y-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:be.productName}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:be.category})]}),de(((Ge=be.bestsellerPrediction)==null?void 0:Ge.potentialLevel)||"FAIBLE")]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Probabilit"}),s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:th(((Ve=be.bestsellerPrediction)==null?void 0:Ve.bestsellerProbability)||0)})]}),s.jsx(Zx,{value:(((ze=be.bestsellerPrediction)==null?void 0:ze.bestsellerProbability)||0)*100,color:(((V=be.bestsellerPrediction)==null?void 0:V.bestsellerProbability)||0)>=.7?"bg-green-500":(((Pe=be.bestsellerPrediction)==null?void 0:Pe.bestsellerProbability)||0)>=.5?"bg-yellow-500":"bg-red-500"})]}),((st=be.bestsellerPrediction)==null?void 0:st.recommendation)&&s.jsx("div",{className:"p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:s.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:[" ",be.bestsellerPrediction.recommendation]})}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:["Gnr le ",K6(be.generatedAt)]})]},be.productId)})})]}),k==="prices"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recommandations de Prix Optimal"}),Q.filter(be=>{var Ge;return((Ge=be.pricePrediction)==null?void 0:Ge.priceAction)!=="MAINTENIR"}).length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[s.jsx(Ag,{}),s.jsx("p",{className:"mt-2",children:"Aucune recommandation de prix significative"})]}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-700",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Produit"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Prix Actuel"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Prix Recommand"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Variation"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Action"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Confiance"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Q.filter(be=>{var Ge;return((Ge=be.pricePrediction)==null?void 0:Ge.priceAction)!=="MAINTENIR"}).sort((be,Ge)=>{var Ve,ze;return Math.abs(((Ve=Ge.pricePrediction)==null?void 0:Ve.priceChangePercentage)||0)-Math.abs(((ze=be.pricePrediction)==null?void 0:ze.priceChangePercentage)||0)}).slice(0,20).map((be,Ge)=>{var Ve,ze,V,Pe,st,rt,We,ut,at;return s.jsxs("tr",{className:Ge%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate max-w-[200px]",children:be.productName}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:be.category})]}),s.jsx("td",{className:"px-6 py-4 text-center font-mono text-gray-600 dark:text-gray-400",children:B0(((Ve=be.pricePrediction)==null?void 0:Ve.currentPrice)||0)}),s.jsx("td",{className:"px-6 py-4 text-center font-mono font-bold text-blue-600 dark:text-blue-400",children:B0(((ze=be.pricePrediction)==null?void 0:ze.recommendedPrice)||0)}),s.jsxs("td",{className:"px-6 py-4 text-center",children:[s.jsxs("span",{className:`font-bold ${(((V=be.pricePrediction)==null?void 0:V.priceChangePercentage)||0)>0?"text-green-500":"text-red-500"}`,children:[(((Pe=be.pricePrediction)==null?void 0:Pe.priceChangePercentage)||0)>0?"+":"",(rt=(st=be.pricePrediction)==null?void 0:st.priceChangePercentage)==null?void 0:rt.toFixed(1),"%"]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",B0(((We=be.pricePrediction)==null?void 0:We.priceDifference)||0),")"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:ie(((ut=be.pricePrediction)==null?void 0:ut.priceAction)||"MAINTENIR")}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600 dark:text-gray-400",children:th(((at=be.pricePrediction)==null?void 0:at.confidence)||0)})]},be.productId)})})]})})]}),k==="models"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informations sur les Modles ML"}),u?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500 text-white",children:s.jsx(Zg,{})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Modle de Classement"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Random Forest Regressor"})]})]}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx(Qx,{value:(((ye=u.ranking)==null?void 0:ye.r2_score)||0)*100,color:"text-blue-500"})}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"R Score"}),s.jsxs("span",{className:"font-bold text-blue-900 dark:text-blue-100",children:[((((J=u.ranking)==null?void 0:J.r2_score)||0)*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"RMSE"}),s.jsx("span",{className:"font-bold text-blue-900 dark:text-blue-100",children:(P=(te=u.ranking)==null?void 0:te.rmse)==null?void 0:P.toFixed(2)})]})]})]}),s.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500 text-white",children:s.jsx(_g,{})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Modle Bestseller"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Random Forest Classifier"})]})]}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx(Qx,{value:(((Y=u.bestseller)==null?void 0:Y.f1_score)||0)*100,color:"text-green-500"})}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-700 dark:text-green-300",children:"F1 Score"}),s.jsxs("span",{className:"font-bold text-green-900 dark:text-green-100",children:[((((G=u.bestseller)==null?void 0:G.f1_score)||0)*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-700 dark:text-green-300",children:"Precision"}),s.jsxs("span",{className:"font-bold text-green-900 dark:text-green-100",children:[((((ue=u.bestseller)==null?void 0:ue.precision)||0)*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-700 dark:text-green-300",children:"Recall"}),s.jsxs("span",{className:"font-bold text-green-900 dark:text-green-100",children:[((((re=u.bestseller)==null?void 0:re.recall)||0)*100).toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 border border-yellow-200 dark:border-yellow-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500 text-white",children:s.jsx(Ag,{})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Modle de Prix"}),s.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Gradient Boosting Regressor"})]})]}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx(Qx,{value:(((xe=u.price)==null?void 0:xe.r2_score)||0)*100,color:"text-yellow-500"})}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"R Score"}),s.jsxs("span",{className:"font-bold text-yellow-900 dark:text-yellow-100",children:[((((je=u.price)==null?void 0:je.r2_score)||0)*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"MAPE"}),s.jsxs("span",{className:"font-bold text-yellow-900 dark:text-yellow-100",children:[(Le=(Se=u.price)==null?void 0:Se.mape)==null?void 0:Le.toFixed(2),"%"]})]})]})]})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 mb-4",children:s.jsx(fw,{})}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Les mtriques des modles ne sont pas disponibles"}),s.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Assurez-vous que le service ML est actif et que les modles sont entrans"})]})]})]})]})]})},mO=()=>{var d,u,h,g,x;const[t,e]=R.useState(null),[r,a]=R.useState(!0),[n,i]=R.useState(null);R.useEffect(()=>{(async()=>{try{a(!0),i(null);const p=await vM();e(p)}catch(p){console.error("Error fetching dashboard stats:",p),i(p.message||"Failed to load statistics")}finally{a(!1)}})()},[]);const l=[{title:"Total Products",value:((d=t==null?void 0:t.totalProducts)==null?void 0:d.toLocaleString())||"0",icon:""},{title:"Total Categories",value:((u=t==null?void 0:t.totalCategories)==null?void 0:u.toString())||"0",icon:""},{title:"Total Sales",value:((h=t==null?void 0:t.totalSales)==null?void 0:h.toLocaleString())||"0",icon:""},{title:"Average Rating",value:((g=t==null?void 0:t.avgRating)==null?void 0:g.toFixed(1))||"0.0",icon:""},{title:"Total Reviews",value:((x=t==null?void 0:t.totalReviews)==null?void 0:x.toLocaleString())||"0",icon:""}];return r?s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6 xl:grid-cols-5 2xl:gap-7.5",children:[...Array(5)].map((y,p)=>s.jsx("div",{className:"rounded-lg border border-stroke bg-white px-7.5 py-6 shadow-default dark:border-gray-800 dark:bg-gray-900",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-12 w-12 bg-gray-200 dark:bg-gray-700 rounded-full mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]})},p))}):n?s.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20 px-7.5 py-6",children:s.jsxs("p",{className:"text-red-600 dark:text-red-400",children:[" ",n]})}):s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6 xl:grid-cols-5 2xl:gap-7.5",children:l.map((y,p)=>s.jsx("div",{className:"rounded-lg border border-stroke bg-white px-7.5 py-6 shadow-default dark:border-gray-800 dark:bg-gray-900 hover:shadow-lg transition-shadow duration-200",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-2xl",children:y.icon}),s.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:y.title})]}),s.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:y.value})]})})},p))})},pO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(null);return R.useEffect(()=>{(async()=>{try{a(!0),i(null);const d=await Qd.getTopProducts(10);d.data.success&&e(d.data.data)}catch(d){console.error("Error fetching top products:",d),i(d.message||"Failed to load products")}finally{a(!1)}})()},[]),r?s.jsxs("div",{className:"rounded-lg border border-stroke bg-white dark:bg-gray-900 px-7.5 py-6 shadow-default dark:border-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h4",{className:"text-xl font-bold text-black dark:text-white flex items-center",children:" Top 10 Best Sellers"})}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):n?s.jsxs("div",{className:"rounded-lg border border-stroke bg-white dark:bg-gray-900 px-7.5 py-6 shadow-default dark:border-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h4",{className:"text-xl font-bold text-black dark:text-white flex items-center",children:" Top 10 Best Sellers"})}),s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 dark:text-red-400",children:n})})]}):s.jsxs("div",{className:"rounded-lg border border-stroke bg-white dark:bg-gray-900 px-7.5 py-6 shadow-default dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-xl font-bold text-black dark:text-white flex items-center",children:" Top 10 Best Sellers"}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ranked by sales, reviews & rating"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800 text-left",children:[s.jsx("th",{className:"min-w-[50px] px-4 py-4 font-medium text-black dark:text-white",children:"Rank"}),s.jsx("th",{className:"min-w-[200px] px-4 py-4 font-medium text-black dark:text-white",children:"Product Name"}),s.jsx("th",{className:"min-w-[120px] px-4 py-4 font-medium text-black dark:text-white",children:"ASIN"}),s.jsx("th",{className:"min-w-[150px] px-4 py-4 font-medium text-black dark:text-white",children:"Category"}),s.jsx("th",{className:"min-w-[100px] px-4 py-4 font-medium text-black dark:text-white",children:"Price"}),s.jsx("th",{className:"min-w-[100px] px-4 py-4 font-medium text-black dark:text-white",children:"Rating"}),s.jsx("th",{className:"min-w-[100px] px-4 py-4 font-medium text-black dark:text-white",children:"Reviews"}),s.jsx("th",{className:"min-w-[80px] px-4 py-4 font-medium text-black dark:text-white",children:"Sales"})]})}),s.jsx("tbody",{children:t.map((l,d)=>{var g,x,y;const u=l.ranking||d+1,h=l.categoryName||l.category||"N/A";return s.jsxs("tr",{className:"border-b border-stroke dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("span",{className:`inline-flex items-center justify-center rounded-full px-3 py-1 text-sm font-bold ${u===1?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":u===2?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200":u===3?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:["#",u]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[l.imageUrl&&s.jsx("img",{src:l.imageUrl,alt:l.productName,className:"h-12 w-12 rounded object-cover border border-gray-200 dark:border-gray-700",onError:p=>{p.currentTarget.src="https://via.placeholder.com/50"}}),s.jsx("p",{className:"text-sm text-black dark:text-white font-medium line-clamp-2",children:l.productName})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-mono",children:l.asin})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"inline-flex rounded-full bg-blue-100 dark:bg-blue-900/30 px-3 py-1 text-xs font-medium text-blue-800 dark:text-blue-300",children:h})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["$",((g=l.price)==null?void 0:g.toFixed(2))||"0.00"]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("p",{className:"text-sm text-black dark:text-white",children:((x=l.rating)==null?void 0:x.toFixed(1))||"N/A"})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("p",{className:"text-sm text-black dark:text-white",children:((y=l.reviewsCount)==null?void 0:y.toLocaleString())||"0"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("p",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:l.salesCount||0})})]},l.asin)})})]})}),t.length===0&&s.jsx("div",{className:"py-12 text-center",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found"})})]})},xO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(null);if(R.useEffect(()=>{(async()=>{try{a(!0),i(null);const h=await Ie.get("http://localhost:8080/api/dashboard/category-distribution");if(h.data.success){const g=h.data.data,x=Object.entries(g).map(([y,p])=>({name:y,count:p})).sort((y,p)=>p.count-y.count).slice(0,8);e(x)}}catch(h){console.error("Error fetching category distribution:",h),i(h.message||"Failed to load category data")}finally{a(!1)}})()},[]),r)return s.jsx("div",{className:"rounded-lg border border-stroke bg-white dark:bg-gray-900 px-7.5 py-6 shadow-default dark:border-gray-800",children:s.jsx("div",{className:"flex items-center justify-center h-80",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})});if(n)return s.jsx("div",{className:"rounded-lg border border-stroke bg-white dark:bg-gray-900 px-7.5 py-6 shadow-default dark:border-gray-800",children:s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-600 dark:text-red-400",children:[" ",n]})})});const l=Math.max(...t.map(u=>u.count),1),d=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#06b6d4","#6366f1","#84cc16"];return s.jsxs("div",{className:"rounded-lg border border-stroke bg-white dark:bg-gray-900 px-7.5 py-6 shadow-default dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h4",{className:"text-xl font-bold text-black dark:text-white",children:"Products by Category"}),s.jsx("div",{className:"relative",children:s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total: ",t.reduce((u,h)=>u+h.count,0)," products"]})})]}),t.length===0?s.jsx("div",{className:"flex items-center justify-center h-80",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No category data available"})}):s.jsx("div",{className:"space-y-4",children:t.map((u,h)=>{const g=u.count/l*100,x=d[h%d.length];return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x}}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate max-w-[200px]",children:u.name})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.count," products"]}),s.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 min-w-[45px] text-right",children:[Math.round(u.count/t.reduce((y,p)=>y+p.count,0)*100),"%"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${g}%`,backgroundColor:x}})})]},u.name)})}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:t.length}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Categories"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:Math.max(...t.map(u=>u.count))}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Highest Count"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:Math.min(...t.map(u=>u.count))}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lowest Count"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:Math.round(t.reduce((u,h)=>u+h.count,0)/t.length)}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Average per Category"})]})]})})]})},bO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const l=await Qd.getBestsellers();l.data.success&&e(l.data.data)}catch(l){console.error("Error fetching bestsellers:",l)}finally{a(!1)}})()},[]);const n=[{borderColor:"border-yellow-500",badgeColor:"bg-yellow-500 text-black",lightBg:"bg-yellow-50",darkBg:"dark:bg-yellow-500/10"},{borderColor:"border-gray-400",badgeColor:"bg-gray-400 text-black",lightBg:"bg-gray-50",darkBg:"dark:bg-gray-500/10"},{borderColor:"border-orange-500",badgeColor:"bg-orange-500 text-white",lightBg:"bg-orange-50",darkBg:"dark:bg-orange-500/10"}];return r?s.jsx("div",{className:"grid grid-cols-1 md: grid-cols-3 gap-4",children:[1,2,3].map(i=>s.jsx("div",{className:"rounded-2xl bg-gray-200 dark:bg-gray-800 h-48 animate-pulse"},i))}):s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:" Top Bestsellers"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.slice(0,3).map((i,l)=>{var d,u;return s.jsx("div",{className:`relative overflow-hidden rounded-2xl border-2 ${n[l].borderColor}`,children:s.jsxs("div",{className:`${n[l].lightBg} ${n[l].darkBg} p-4 h-full`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${n[l].badgeColor} flex items-center justify-center font-bold text-lg shadow-lg`,children:l+1}),s.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-500/20 rounded-lg text-blue-600 dark:text-blue-400 text-xs font-bold",children:["#",l+1]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.imageUrl?s.jsx("img",{src:i.imageUrl,alt:i.productName,className:"w-16 h-16 rounded-lg object-cover border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",onError:h=>{h.currentTarget.src="https://via.placeholder.com/64? text=No+Image"}}):s.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white text-sm line-clamp-2",children:i.productName}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:i.categoryName||"Uncategorized"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-lg p-2 border border-gray-200 dark:border-gray-700",children:[s.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["$",((d=i.price)==null?void 0:d.toFixed(2))||"0.00"]}),s.jsx("p",{className:"text-xs text-gray-500 dark: text-gray-400",children:"Price"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-lg p-2 border border-gray-200 dark:border-gray-700",children:[s.jsxs("p",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400 flex items-center justify-center gap-1",children:[s.jsx("span",{children:""})," ",((u=i.rating)==null?void 0:u.toFixed(1))||"0.0"]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rating"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-lg p-2 border border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:(i.reviewsCount||0).toLocaleString()}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Reviews"})]})]})]})},i.asin)})})]})},yO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(0);R.useEffect(()=>{(async()=>{try{const h=await Qd.getPriceDistribution();if(h.data.success){const g=h.data.data,x=Object.values(g).reduce((w,j)=>w+j,0);i(x);const p=["$0-$10","$10-$25","$25-$50","$50-$100","$100-$200","$200+"].map(w=>({range:w,count:g[w]||0,percentage:x>0?(g[w]||0)/x*100:0}));e(p)}}catch(h){console.error("Error fetching price distribution:",h)}finally{a(!1)}})()},[]);const l=["bg-emerald-500","bg-green-500","bg-yellow-500","bg-orange-500","bg-red-500","bg-purple-500"],d=Math.max(...t.map(u=>u.count),1);return r?s.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6].map(u=>s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"},u))})]})}):s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Price Distribution"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Products by price range"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Products"})]})]}),s.jsx("div",{className:"space-y-4",children:t.map((u,h)=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:u.range}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.count," (",u.percentage.toFixed(1),"%)"]})]}),s.jsxs("div",{className:"relative h-8 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden",children:[s.jsx("div",{className:`absolute left-0 top-0 h-full ${l[h]} rounded-lg transition-all duration-500 group-hover:opacity-80`,style:{width:`${u.count/d*100}%`}}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-semibold text-white drop-shadow-md",children:u.count>0&&u.count})})]})]},u.range))})]})},vO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(0);R.useEffect(()=>{(async()=>{try{const[h,g]=await Promise.all([Qd.getRatingDistribution(),Qd.getStats()]);if(h.data.success){const x=h.data.data,y=Object.values(x).reduce((w,j)=>w+j,0),p=Object.entries(x).map(([w,j])=>({label:w,count:j,percentage:y>0?j/y*100:0}));e(p)}g.data.success&&i(g.data.data.avgRating||0)}catch(h){console.error("Error fetching rating distribution:",h)}finally{a(!1)}})()},[]);const l=u=>u.includes("4.5+")?"bg-green-500":u.includes("4.0-4.5")?"bg-lime-500":u.includes("3.0-4.0")?"bg-yellow-500":u.includes("2.0-3.0")?"bg-orange-500":"bg-red-500",d=Math.max(...t.map(u=>u.count),1);return r?s.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded"},u))})]})}):s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Rating Distribution"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Products by customer rating"})]})}),s.jsx("div",{className:"flex items-center justify-center mb-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-xl",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-4xl font-bold text-yellow-600 dark:text-yellow-400",children:n.toFixed(1)}),s.jsx("span",{className:"text-3xl",children:""})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Average Rating"})]})}),s.jsx("div",{className:"space-y-3",children:t.map(u=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:u.label}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.count," (",u.percentage.toFixed(1),"%)"]})]}),s.jsx("div",{className:"relative h-6 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`absolute left-0 top-0 h-full ${l(u.label)} rounded-full transition-all duration-500`,style:{width:`${u.count/d*100}%`}})})]},u.label))})]})},wO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(0);R.useEffect(()=>{(async()=>{try{const g=await Qd.getCategoryRevenue();if(g.data.success){const x=g.data.data;e(x);const y=x.reduce((p,w)=>p+(w.estimatedRevenue||0),0);i(y)}}catch(g){console.error("Error fetching category revenue:",g)}finally{a(!1)}})()},[]);const l=["from-blue-500 to-cyan-500","from-purple-500 to-pink-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-violet-500","from-teal-500 to-green-500"],d=h=>h>=1e6?`$${(h/1e6).toFixed(1)}M`:h>=1e3?`$${(h/1e3).toFixed(1)}K`:`$${h.toFixed(0)}`;if(r)return s.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(h=>s.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"},h))})]})});const u=Math.max(...t.map(h=>h.estimatedRevenue||0),1);return s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Revenue by Category"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Estimated revenue based on engagement"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:d(n)}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Est. Revenue"})]})]}),s.jsx("div",{className:"space-y-4",children:t.slice(0,6).map((h,g)=>{var p;const x=n>0?h.estimatedRevenue/n*100:0,y=u>0?h.estimatedRevenue/u*100:0;return s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${l[g%l.length]}`}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:h.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:d(h.estimatedRevenue)}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",x.toFixed(1),"%)"]})]})]}),s.jsxs("div",{className:"relative h-8 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden",children:[s.jsx("div",{className:`absolute left-0 top-0 h-full bg-gradient-to-r ${l[g%l.length]} rounded-lg transition-all duration-700`,style:{width:`${y}%`}}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-3",children:[s.jsxs("span",{className:"text-xs font-medium text-white drop-shadow-md",children:[h.productCount," products"]}),s.jsxs("span",{className:"text-xs font-medium text-white drop-shadow-md",children:["Avg: $",((p=h.avgPrice)==null?void 0:p.toFixed(0))||0]})]})]})]},h.name)})})]})},NO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(null);R.useEffect(()=>{(async()=>{try{const g=await Qd.getCorrelationData();g.data.success&&e(g.data.data)}catch(g){console.error("Error fetching correlation data:",g)}finally{a(!1)}})()},[]);const l=Math.max(...t.map(h=>h.reviews),1),d=Math.max(...t.map(h=>h.ranking),1),u=h=>h>=4.5?"bg-green-500":h>=4?"bg-lime-500":h>=3.5?"bg-yellow-500":h>=3?"bg-orange-500":"bg-red-500";return r?s.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})}):s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:bg-white/[0.03] dark:border-gray-800 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Reviews vs Ranking Correlation"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"How reviews impact product ranking (Top 100 products)"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"4.5+ "})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"3.5-4.5 "})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"<3.5 "})]})]})]}),s.jsxs("div",{className:"relative h-80 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4",children:[s.jsx("div",{className:"absolute -left-2 top-1/2 -rotate-90 transform origin-center",children:s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Reviews Count "})}),s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ranking (Lower is Better) "})}),s.jsxs("div",{className:"absolute inset-4 border-l border-b border-gray-200 dark:border-gray-700",children:[[0,25,50,75,100].map(h=>s.jsx("div",{className:"absolute left-0 right-0 border-t border-gray-200 dark:border-gray-700 border-dashed",style:{bottom:`${h}%`}},`h-${h}`)),[0,25,50,75,100].map(h=>s.jsx("div",{className:"absolute top-0 bottom-0 border-l border-gray-200 dark:border-gray-700 border-dashed",style:{left:`${h}%`}},`v-${h}`))]}),s.jsx("div",{className:"absolute inset-4",children:t.map(h=>{const g=h.ranking/d*100,x=h.reviews/l*100;return s.jsx("div",{className:`absolute w-3 h-3 rounded-full ${u(h.rating)} cursor-pointer transform -translate-x-1/2 -translate-y-1/2 hover:scale-150 transition-transform duration-200 hover:z-10`,style:{left:`${g}%`,bottom:`${x}%`},onMouseEnter:()=>i(h),onMouseLeave:()=>i(null)},h.asin)})}),n&&s.jsxs("div",{className:"absolute top-4 right-4 bg-white dark:bg-gray-900 rounded-lg shadow-lg p-3 z-20 border border-gray-200 dark:border-gray-700 max-w-xs",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-1",children:n.name}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Rank:"}),s.jsxs("span",{className:"ml-1 font-medium text-gray-800 dark:text-white",children:["#",n.ranking]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Reviews:"}),s.jsx("span",{className:"ml-1 font-medium text-gray-800 dark:text-white",children:n.reviews.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Rating:"}),s.jsxs("span",{className:"ml-1 font-medium text-yellow-600",children:[" ",n.rating]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Price:"}),s.jsxs("span",{className:"ml-1 font-medium text-green-600",children:["$",n.price]})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.category})]})]})]})};rl.register(Gl,Xl,tl,tu,ru,eu);const jO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(null);R.useEffect(()=>{l()},[]);const l=async()=>{var h;try{a(!0);const g=localStorage.getItem("token"),x=await Ie.get("http://localhost:8080/api/admin/sellers/top-performers",{headers:{Authorization:`Bearer ${g}`},params:{limit:10}});(h=x.data)!=null&&h.success&&e(x.data.data)}catch(g){console.error("Error fetching top sellers:",g),i("Failed to load top sellers data")}finally{a(!1)}},d={labels:t.map(h=>h.storeName||h.sellerName),datasets:[{label:"Revenue ($)",data:t.map(h=>h.totalRevenue),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1,borderRadius:6,yAxisID:"y"},{label:"Products Sold",data:t.map(h=>h.totalProductsSold),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderRadius:6,yAxisID:"y1"}]},u={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{color:"rgb(156, 163, 175)",usePointStyle:!0,padding:20}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.95)",titleColor:"#fff",bodyColor:"#fff",padding:12,cornerRadius:8,callbacks:{label:function(h){const g=h.dataset.label||"",x=h.parsed.y;return g.includes("Revenue")?`${g}: $${x.toLocaleString(void 0,{minimumFractionDigits:2})}`:`${g}: ${x.toLocaleString()}`}}}},scales:{x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)",maxRotation:45,minRotation:45}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Revenue ($)",color:"rgba(34, 197, 94, 1)"},grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"rgba(34, 197, 94, 1)",callback:function(h){return"$"+Number(h).toLocaleString()}}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Products Sold",color:"rgba(59, 130, 246, 1)"},grid:{drawOnChartArea:!1},ticks:{color:"rgba(59, 130, 246, 1)"}}}};return r?s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-80 bg-gray-200 dark:bg-gray-700 rounded"})]})}):n?s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-800",children:s.jsx("p",{className:"text-red-500",children:n})}):t.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-800",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{children:""})," Top Sellers Performance"]}),s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:[s.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("p",{children:"No seller data available yet"}),s.jsx("p",{className:"text-sm",children:"Sales data will appear once orders are confirmed"})]})]}):s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[s.jsx("span",{children:""})," Top Sellers Performance"]}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Revenue"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Products Sold"})]})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(Wl,{data:d,options:u})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:t.slice(0,3).map((h,g)=>s.jsxs("div",{className:`p-4 rounded-lg ${g===0?"bg-gradient-to-r from-yellow-400/20 to-yellow-500/20 border border-yellow-500/30":g===1?"bg-gradient-to-r from-gray-300/20 to-gray-400/20 border border-gray-400/30":"bg-gradient-to-r from-orange-400/20 to-orange-500/20 border border-orange-500/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:g===0?"":g===1?"":""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-800 dark:text-white truncate",children:h.storeName||h.sellerName}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.totalOrders," orders"]})]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Revenue"}),s.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",h.totalRevenue.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sold"}),s.jsxs("p",{className:"font-bold text-blue-600 dark:text-blue-400",children:[h.totalProductsSold," items"]})]})]})]},h.sellerId))})]})},kO=()=>{var i,l;const{user:t}=hn(),[e,r]=R.useState(null),[,a]=R.useState(!0);R.useEffect(()=>{n()},[]);const n=async()=>{try{a(!0);const d=await wM();r(d)}catch(d){console.error("Error fetching admin stats:",d)}finally{a(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Nh,{title:"Dashboard - MouadVision Sales Analytics",description:"MouadVision Sales Analytics Dashboard"}),s.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:["Welcome back, ",((i=t==null?void 0:t.fullName)==null?void 0:i.split(" ")[0])||"Admin","!  "]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Here's what's happening with your platform today"})]}),s.jsx(Z6,{})]}),e&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs(lt,{to:"/admin/product-approvals",className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-5 text-white hover:shadow-xl transition transform hover:scale-105",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Pending Approvals"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:e.pendingApprovals})]}),s.jsx("div",{className:"bg-gray-400/30 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsx("p",{className:"text-gray-200 text-xs mt-2",children:"Click to review "})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-5 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Platform Revenue"}),s.jsxs("p",{className:"text-3xl font-bold mt-1",children:["$",((l=e.totalPlatformRevenue)==null?void 0:l.toFixed(2))||"0.00"]})]}),s.jsx("div",{className:"bg-gray-400/30 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsx("p",{className:"text-gray-200 text-xs mt-2",children:"From confirmed orders"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-5 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Total Sellers"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalSellers||0})]}),s.jsx("div",{className:"bg-gray-400/30 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]}),s.jsx("p",{className:"text-gray-200 text-xs mt-2",children:"Active sellers"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-5 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Total Clients"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalBuyers||0})]}),s.jsx("div",{className:"bg-gray-400/30 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),s.jsx("p",{className:"text-gray-200 text-xs mt-2",children:"Registered"})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(mO,{})}),s.jsx("div",{className:"mb-6",children:s.jsx(jO,{})}),s.jsx(bO,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx(xO,{}),s.jsx(yO,{})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx(wO,{}),s.jsx(vO,{})]}),s.jsx("div",{className:"mb-6",children:s.jsx(NO,{})}),s.jsx("div",{children:s.jsx(pO,{})})]})]})},SO=({isOpen:t,onClose:e,product:r,onSuccess:a})=>{var L;const[n,i]=R.useState([]),[l,d]=R.useState(!1),[u,h]=R.useState(null),[g,x]=R.useState(""),[y,p]=R.useState({asin:"",productName:"",description:"",price:"",stockQuantity:"",imageUrl:"",productLink:"",categoryId:""}),w=!!r;R.useEffect(()=>{(async()=>{const D=await EN();i(D)})()},[]),R.useEffect(()=>{var E,D,F;r?(p({asin:r.asin||"",productName:r.productName||"",description:r.description||"",price:((E=r.price)==null?void 0:E.toString())||"",stockQuantity:((D=r.stockQuantity)==null?void 0:D.toString())||"0",imageUrl:r.imageUrl||"",productLink:r.productLink||"",categoryId:((F=r.categoryId)==null?void 0:F.toString())||""}),x(r.imageUrl||"")):(p({asin:"",productName:"",description:"",price:"",stockQuantity:"0",imageUrl:"",productLink:"",categoryId:""}),x(""))},[r,t]);const j=E=>{const{name:D,value:F}=E.target;p(se=>({...se,[D]:F})),D==="imageUrl"&&x(F)},k=()=>{const E="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let D="B";for(let F=0;F<9;F++)D+=E.charAt(Math.floor(Math.random()*E.length));p(F=>({...F,asin:D}))},C=async E=>{var D,F;E.preventDefault(),h(null),d(!0);try{if(w){const se={productName:y.productName,description:y.description||void 0,price:parseFloat(y.price),stockQuantity:parseInt(y.stockQuantity)||0,imageUrl:y.imageUrl||void 0,productLink:y.productLink||void 0,categoryId:parseInt(y.categoryId)};await CM(r.asin,se)}else{const se={asin:y.asin,productName:y.productName,description:y.description||void 0,price:parseFloat(y.price),stockQuantity:parseInt(y.stockQuantity)||0,imageUrl:y.imageUrl||void 0,productLink:y.productLink||void 0,categoryId:parseInt(y.categoryId)};await SM(se)}a(),e()}catch(se){console.error("Error saving product:",se),h(((F=(D=se.response)==null?void 0:D.data)==null?void 0:F.message)||"Failed to save product.Please try again.")}finally{d(!1)}};return t?s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:e}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:w?" Edit Product":" Add New Product"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:C,className:"p-6",children:[u&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["ASIN ",!w&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",name:"asin",value:y.asin,onChange:j,disabled:w,required:!w,placeholder:"e.g., B00GAC1D2G",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed"}),!w&&s.jsx("button",{type:"button",onClick:k,className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 text-sm",children:"Generate"})]}),w&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ASIN cannot be changed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Product Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"productName",value:y.productName,onChange:j,required:!0,placeholder:"Enter product name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:y.description,onChange:j,rows:3,placeholder:"Enter product description",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Price ($) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"price",value:y.price,onChange:j,required:!0,min:"0.01",step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Stock Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"stockQuantity",value:y.stockQuantity,onChange:j,required:!0,min:"0",step:"1",placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),s.jsxs("div",{className:`p-3 rounded-lg flex items-center gap-2 ${parseInt(y.stockQuantity)>10?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":parseInt(y.stockQuantity)>0?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[s.jsx("span",{className:`text-lg ${parseInt(y.stockQuantity)>10?"text-green-600":parseInt(y.stockQuantity)>0?"text-yellow-600":"text-red-600"}`,children:parseInt(y.stockQuantity)>10?"":parseInt(y.stockQuantity)>0?"":""}),s.jsx("span",{className:`text-sm font-medium ${parseInt(y.stockQuantity)>10?"text-green-700 dark:text-green-400":parseInt(y.stockQuantity)>0?"text-yellow-700 dark:text-yellow-400":"text-red-700 dark:text-red-400"}`,children:parseInt(y.stockQuantity)>10?"In Stock":parseInt(y.stockQuantity)>0?`Low Stock (${y.stockQuantity} units)`:"Out of Stock"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"categoryId",value:y.categoryId,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"Select a category"}),n.map(E=>s.jsxs("option",{value:E.id,children:[E.name," (",E.productCount," products)"]},E.id))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL"}),s.jsx("input",{type:"url",name:"imageUrl",value:y.imageUrl,onChange:j,placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a URL from the web or use a local path"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image Preview"}),s.jsx("div",{className:"w-full h-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center bg-gray-50 dark:bg-gray-800 overflow-hidden",children:g?s.jsx("img",{src:g,alt:"Preview",className:"max-w-full max-h-full object-contain",onError:()=>x("")}):s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-sm",children:"No image"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Link"}),s.jsx("input",{type:"url",name:"productLink",value:y.productLink,onChange:j,placeholder:"https://amazon.com/dp/...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),w&&s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:" Read-only Fields"}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Rank, Rating, and Reviews cannot be modified.These values are determined by customer activity."}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-2",children:[s.jsxs("p",{className:"text-lg font-bold text-gray-800 dark:text-white",children:["#",(r==null?void 0:r.ranking)||"N/A"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Rank"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-2",children:[s.jsxs("p",{className:"text-lg font-bold text-yellow-500",children:[" ",(r==null?void 0:r.rating)||"N/A"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Rating"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-2",children:[s.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white",children:((L=r==null?void 0:r.reviewsCount)==null?void 0:L.toLocaleString())||0}),s.jsx("p",{className:"text-xs text-gray-500",children:"Reviews"})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s.jsx(s.Fragment,{children:w?" Update Product":" Add Product"})})]})]})]})})]}):null},CO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState([]),[n,i]=R.useState(!1),[l,d]=R.useState({}),[u,h]=R.useState(""),[g,x]=R.useState(!1),[y,p]=R.useState(null),w=W=>{const I=(W.rating||0)*1e3,B=(W.salesCount||0)*100;return I+B},j=W=>[...W].sort((I,B)=>w(B)-w(I)).map((I,B)=>({...I,dynamicRank:B+1}));R.useEffect(()=>{k(),C()},[]),R.useEffect(()=>{const W=setTimeout(()=>{u||l.category||l.minPrice||l.maxPrice?L():k()},500);return()=>clearTimeout(W)},[u,l]);const k=async()=>{try{i(!0);const W=await LN(0,1e3);e(W)}catch(W){console.error("Error fetching products:",W)}finally{i(!1)}},C=async()=>{try{const W=await EN();a(W)}catch(W){console.error("Error fetching categories:",W)}},L=async()=>{try{i(!0);const W={...l,query:u||void 0},I=await _M(W,0,1e3);e(I)}catch(W){console.error("Error searching products:",W)}finally{i(!1)}},E=()=>{h(""),d({}),k()},D=async(W,I)=>{if(window.confirm(`Are you sure you want to delete "${I}"?`))try{await AM(W),k()}catch(B){console.error("Error deleting product:",B),alert("Failed to delete product.Please try again.")}},F=()=>{p(null),x(!0)},se=W=>{p(W),x(!0)},O=()=>{k(),C()},U=W=>({Electronics:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300","Video Games":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300","Toys & Games":"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300","Clothing, Shoes & Jewelry":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300","Camera & Photo":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300","Gift Cards":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",Books:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"})[W]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",T=j(t);return s.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Products Management"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your product catalog"})]}),s.jsxs("button",{onClick:F,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/25",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Product"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm p-6 mb-6 border border-gray-200 dark:border-gray-800",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Search by name, ASIN...",value:u,onChange:W=>h(W.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Category"}),s.jsxs("select",{className:"w-full px-3 py-2.5 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",value:l.category||"",onChange:W=>d({...l,category:W.target.value||void 0}),children:[s.jsx("option",{value:"",children:"All Categories"}),r.map(W=>s.jsx("option",{value:W.name,children:W.name},W.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Min Price"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2.5 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Min",value:l.minPrice||"",onChange:W=>d({...l,minPrice:W.target.value?Number(W.target.value):void 0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Max Price"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2.5 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Max",value:l.maxPrice||"",onChange:W=>d({...l,maxPrice:W.target.value?Number(W.target.value):void 0})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Filters"]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t.length})," products",s.jsx("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Ranked by Rating & Sales)"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No products found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Rank"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Sales"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.map(W=>{var I,B;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("span",{className:`inline-flex items-center justify-center w-10 h-10 rounded-full text-sm font-bold ${W.dynamicRank<=3?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":W.dynamicRank<=10?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}`,children:["#",W.dynamicRank]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[W.imageUrl?s.jsx("img",{src:W.imageUrl,alt:W.productName,className:"w-12 h-12 rounded-lg object-cover border border-gray-200 dark:border-gray-700",onError:X=>{X.currentTarget.src="https://via.placeholder.com/48?text=No+Image"}}):s.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate max-w-xs",title:W.productName,children:W.productName}),s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-mono",children:W.asin})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium ${U(W.categoryName||"")}`,children:W.categoryName||"Uncategorized"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",((I=W.price)==null?void 0:I.toFixed(2))||"0.00"]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:((B=W.rating)==null?void 0:B.toFixed(1))||"0.0"})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`font-medium ${(W.salesCount||0)>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:(W.salesCount||0).toLocaleString()})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>se(W),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit product",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>D(W.asin,W.productName),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete product",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},W.asin)})})]})})}),s.jsx(SO,{isOpen:g,onClose:()=>x(!1),product:y,onSuccess:O})]})},Rd="http://localhost:8080/api",Td=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),Kx={getDashboard:async()=>(await Ie.get(`${Rd}/admin/product-approvals/dashboard`,{headers:Td()})).data.data,getPendingProducts:async(t=0,e=10)=>(await Ie.get(`${Rd}/admin/product-approvals/pending`,{headers:Td(),params:{page:t,size:e}})).data.data,getPendingProductDetails:async t=>(await Ie.get(`${Rd}/admin/product-approvals/pending/${t}`,{headers:Td()})).data.data,approveProduct:async(t,e)=>(await Ie.post(`${Rd}/admin/product-approvals/${t}/approve`,e||{},{headers:Td()})).data.data,rejectProduct:async(t,e)=>(await Ie.post(`${Rd}/admin/product-approvals/${t}/reject`,e,{headers:Td()})).data.data,getAllProductRequests:async(t=0,e=10)=>(await Ie.get(`${Rd}/admin/product-approvals/all`,{headers:Td(),params:{page:t,size:e}})).data.data,getProductRequestsByStatus:async(t,e=0,r=10)=>(await Ie.get(`${Rd}/admin/product-approvals/status/${t}`,{headers:Td(),params:{page:e,size:r}})).data.data},_O=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(0),[l,d]=R.useState(0),[u,h]=R.useState(0),[g,x]=R.useState(null),[y,p]=R.useState(!1),[w,j]=R.useState("approve"),[k,C]=R.useState(""),[L,E]=R.useState(""),[D,F]=R.useState(!1);R.useEffect(()=>{se()},[n]);const se=async()=>{try{a(!0);const T=await Kx.getPendingProducts(n,10);e(T.content),d(T.totalPages),h(T.totalElements)}catch(T){console.error("Error fetching pending products:",T)}finally{a(!1)}},O=(T,W)=>{x(T),j(W),C(""),E(""),p(!0)},U=async()=>{var T,W;if(g){if(w==="reject"&&!k.trim()){alert("Veuillez indiquer une raison de rejet");return}try{F(!0),w==="approve"?await Kx.approveProduct(g.id,{adminNotes:L}):await Kx.rejectProduct(g.id,{rejectionReason:k,adminNotes:L}),p(!1),se()}catch(I){alert(((W=(T=I.response)==null?void 0:T.data)==null?void 0:W.message)||"Une erreur est survenue")}finally{F(!1)}}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Approbation des Produits"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[u," produit(s) en attente d'approbation"]})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-12 text-center",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto text-green-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun produit en attente"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Tous les produits ont t traits.  Revenez plus tard."})]}):s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.map(T=>{var W;return s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-48 flex-shrink-0",children:s.jsx("img",{src:T.imageUrl||"/placeholder-product. png",alt:T.productName,className:"w-full h-48 lg:h-full object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:T.productName}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Catgorie: ",T.categoryName]})]}),s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",((W=T.price)==null?void 0:W.toFixed(2))||"0.00"]})]}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400 line-clamp-3",children:T.description||"Aucune description fournie"}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Stock:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900 dark:text-white",children:T.stockQuantity})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Soumis le:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900 dark:text-white",children:new Date(T.submittedAt).toLocaleDateString("fr-FR")})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Informations Vendeur"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Nom:"}),s.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:T.sellerName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Boutique:"}),s.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:T.sellerStoreName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Email:"}),s.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:T.sellerEmail})]})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsxs("button",{onClick:()=>O(T,"approve"),className:"flex-1 md:flex-none px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approuver"]}),s.jsxs("button",{onClick:()=>O(T,"reject"),className:"flex-1 md:flex-none px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Rejeter"]})]})]})]})})},T.id)}),l>1&&s.jsxs("div",{className:"flex justify-center mt-6 gap-2",children:[s.jsx("button",{onClick:()=>i(T=>Math.max(0,T-1)),disabled:n===0,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Prcdent"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:["Page ",n+1," sur ",l]}),s.jsx("button",{onClick:()=>i(T=>Math.min(l-1,T+1)),disabled:n>=l-1,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Suivant"})]})]}),y&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full",children:[s.jsx("div",{className:`p-4 ${w==="approve"?"bg-green-600":"bg-red-600"} rounded-t-xl`,children:s.jsx("h3",{className:"text-xl font-bold text-white",children:w==="approve"?"Approuver le Produit":"Rejeter le Produit"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:w==="approve"?`tes-vous sr de vouloir approuver "${g.productName}"?  Le produit sera immdiatement mis en vente.`:`tes-vous sr de vouloir rejeter "${g.productName}"? `}),w==="reject"&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Raison du rejet *"}),s.jsx("textarea",{value:k,onChange:T=>C(T.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:bg-gray-700 dark:text-white",placeholder:"Expliquez pourquoi le produit est rejet...",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes administratives (optionnel)"}),s.jsx("textarea",{value:L,onChange:T=>E(T.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Notes internes..."})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",disabled:D,children:"Annuler"}),s.jsxs("button",{onClick:U,disabled:D,className:`px-4 py-2 text-white rounded-lg flex items-center gap-2 ${w==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} disabled:opacity-50`,children:[D&&s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5. 373 0 0 5.373 0 12h4z"})]}),"Confirmer"]})]})]})]})})]})},AO=({sellerId:t,compact:e=!1,maxItems:r})=>{const[a,n]=R.useState([]),[i,l]=R.useState(!0),[d,u]=R.useState(null),[h,g]=R.useState(null);R.useEffect(()=>{t&&x()},[t]);const x=async()=>{try{l(!0),u(null);const p=await dO(t);n(r?p.slice(0,r):p)}catch(p){console.error("Erreur lors du chargement des alertes:",p),u("Impossible de charger les alertes prdictives")}finally{l(!1)}},y=p=>{switch(p){case"TRS LEV":return"bg-gradient-to-r from-yellow-400 to-orange-500";case"LEV":return"bg-gradient-to-r from-green-400 to-emerald-500";case"MODR":return"bg-blue-500";case"FAIBLE":return"bg-gray-400";default:return"bg-gray-400"}};return i?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(p=>s.jsx("div",{className:"animate-pulse bg-white dark:bg-gray-800 rounded-xl p-4 shadow",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]})]})},p))}):d?s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-800 dark:text-red-200",children:d}),s.jsx("button",{onClick:x,className:"text-sm text-red-600 dark:text-red-400 hover:underline mt-1",children:"Ressayer"})]})]})}):a.length===0?s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("p",{className:"font-semibold text-green-800 dark:text-green-200 text-lg",children:"Aucune alerte prdictive"}),s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Tous vos produits sont bien positionns actuellement."})]}):s.jsxs("div",{className:"space-y-4",children:[!e&&s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl text-white",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Alertes Prdictives"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Recommandations bases sur l'IA"})]})]}),s.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-red-500 to-orange-500 text-white text-sm font-bold rounded-full shadow-lg shadow-red-500/25",children:[a.length," alerte",a.length>1?"s":""]})]}),a.map(p=>{var w,j,k,C,L,E,D,F,se,O,U;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-lg hover:shadow-xl transition-all overflow-hidden",children:[s.jsxs("div",{className:"p-4 cursor-pointer",onClick:()=>g(h===p.productId?null:p.productId),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[((w=p.bestsellerPrediction)==null?void 0:w.isPotentialBestseller)&&s.jsx("span",{className:"text-yellow-500 text-lg",children:""}),((j=p.pricePrediction)==null?void 0:j.priceAction)!=="MAINTENIR"&&s.jsx("span",{className:"text-blue-500 text-lg",children:""}),s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:p.productName})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.category})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:`transform transition-transform duration-200 text-gray-400 ${h===p.productId?"rotate-90":""}`,children:""})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[((k=p.bestsellerPrediction)==null?void 0:k.isPotentialBestseller)&&s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-white ${y(p.bestsellerPrediction.potentialLevel)}`,children:[" Potentiel: ",p.bestsellerPrediction.potentialLevel]}),((C=p.pricePrediction)==null?void 0:C.priceAction)!=="MAINTENIR"&&s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${((L=p.pricePrediction)==null?void 0:L.priceAction)==="AUGMENTER"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[" Prix:",(E=p.pricePrediction)==null?void 0:E.priceAction," (",(F=(D=p.pricePrediction)==null?void 0:D.priceChangePercentage)==null?void 0:F.toFixed(1),"%)"]}),((se=p.rankingPrediction)==null?void 0:se.trend)==="AMLIORATION"&&s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",children:[" Classement:+",p.rankingPrediction.rankingChange," places"]})]})]}),h===p.productId&&s.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 p-4 space-y-4",children:[((O=p.bestsellerPrediction)==null?void 0:O.isPotentialBestseller)&&s.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[s.jsxs("h5",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),"Potentiel Bestseller Dtect"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block",children:"Probabilit"}),s.jsx("span",{className:"text-xl font-bold text-yellow-600 dark:text-yellow-400",children:th(p.bestsellerPrediction.bestsellerProbability)})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block",children:"Niveau"}),s.jsx("span",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:p.bestsellerPrediction.potentialLevel})]})]}),p.bestsellerPrediction.recommendation&&s.jsx("div",{className:"mt-3 p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[" ",s.jsx("strong",{children:"Recommandation:"})," ",p.bestsellerPrediction.recommendation]})})]}),((U=p.pricePrediction)==null?void 0:U.priceAction)!=="MAINTENIR"&&s.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[s.jsxs("h5",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),"Recommandation de Prix"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block",children:"Prix actuel"}),s.jsx("span",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:B0(p.pricePrediction.currentPrice)})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block",children:"Prix recommand"}),s.jsx("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:B0(p.pricePrediction.recommendedPrice)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:[s.jsx("span",{className:`text-2xl ${p.pricePrediction.priceAction==="AUGMENTER"?"text-green-500":"text-red-500"}`,children:p.pricePrediction.priceAction==="AUGMENTER"?"":""}),s.jsx("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:p.pricePrediction.actionDescription})]})]}),p.rankingPrediction&&s.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[s.jsxs("h5",{className:"font-semibold text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),"volution du Classement"]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 py-2",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block",children:"Actuel"}),s.jsxs("span",{className:"text-2xl font-mono font-bold text-gray-600 dark:text-gray-400",children:["#",p.rankingPrediction.currentRanking]})]}),s.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-bold ${p.rankingPrediction.trend==="AMLIORATION"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":p.rankingPrediction.trend==="DCLIN"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:[p.rankingPrediction.trend==="AMLIORATION"&&"",p.rankingPrediction.trend==="DCLIN"&&"",p.rankingPrediction.trend==="STABLE"&&""," ",p.rankingPrediction.trend]}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block",children:"Prdit"}),s.jsxs("span",{className:"text-2xl font-mono font-bold text-purple-600 dark:text-purple-400",children:["#",p.rankingPrediction.predictedRanking]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-xs text-gray-400",children:" Analyse gnre par ML"}),s.jsx("span",{className:"text-xs text-gray-400",children:K6(p.generatedAt)})]})]})]},p.productId)}),!e&&s.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-800 dark:to-slate-800 rounded-xl border border-gray-200 dark:border-gray-700",children:s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:[s.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:" Note:"})," Ces alertes sont gnres par notre systme d'analyse prdictive bas sur le Machine Learning et constituent des recommandations d'aide  la dcision.Les rsultats doivent tre interprts en fonction du contexte de votre activit."]})})]})},Jx=()=>{const{user:t}=hn(),[e,r]=R.useState([]),[a,n]=R.useState(!0),[i,l]=R.useState(0),[d,u]=R.useState(0),[h,g]=R.useState("all"),[x,y]=R.useState("all");R.useEffect(()=>{p()},[i,x]);const p=async()=>{try{n(!0);const O=await Id.getNotifications(i,20);let U=O.content;x==="unread"?U=U.filter(T=>!T.isRead):x==="predictions"&&(U=U.filter(T=>T.type==="PREDICTION_BESTSELLER"||T.type==="PREDICTION_PRICE")),r(U),u(O.totalPages)}catch(O){console.error("Error fetching notifications:",O)}finally{n(!1)}},w=async O=>{try{await Id.markAsRead(O),r(U=>U.map(T=>T.id===O?{...T,isRead:!0}:T))}catch(U){console.error("Error marking as read:",U)}},j=async()=>{try{await Id.markAllAsRead(),r(O=>O.map(U=>({...U,isRead:!0})))}catch(O){console.error("Error marking all as read:",O)}},k=O=>{const U={PRODUCT_APPROVED:{icon:"",bg:"bg-green-100 dark:bg-green-900/30"},PRODUCT_REJECTED:{icon:"",bg:"bg-red-100 dark:bg-red-900/30"},PRODUCT_PURCHASED:{icon:"",bg:"bg-yellow-100 dark:bg-yellow-900/30"},REVIEW_RECEIVED:{icon:"",bg:"bg-purple-100 dark:bg-purple-900/30"},RATING_RECEIVED:{icon:"",bg:"bg-amber-100 dark:bg-amber-900/30"},ORDER_CONFIRMED:{icon:"",bg:"bg-blue-100 dark:bg-blue-900/30"},ORDER_SHIPPED:{icon:"",bg:"bg-cyan-100 dark:bg-cyan-900/30"},ORDER_DELIVERED:{icon:"",bg:"bg-emerald-100 dark:bg-emerald-900/30"},NEW_ORDER:{icon:"",bg:"bg-indigo-100 dark:bg-indigo-900/30"},NEW_SELLER_PRODUCT:{icon:"",bg:"bg-indigo-100 dark:bg-indigo-900/30"},NEW_SELLER_REGISTRATION:{icon:"",bg:"bg-violet-100 dark:bg-violet-900/30"},STOCK_ALERT:{icon:"",bg:"bg-orange-100 dark:bg-orange-900/30"},SYSTEM:{icon:"",bg:"bg-gray-100 dark:bg-gray-700"},PROMOTION:{icon:"",bg:"bg-pink-100 dark:bg-pink-900/30"},PREDICTION_BESTSELLER:{icon:"",bg:"bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30",gradient:"from-yellow-500 to-orange-500"},PREDICTION_PRICE:{icon:"",bg:"bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30",gradient:"from-blue-500 to-purple-500"}};return U[O]||U.SYSTEM},C=O=>{const U=new Date(O),W=new Date().getTime()-U.getTime(),I=Math.floor(W/6e4),B=Math.floor(W/36e5),X=Math.floor(W/864e5);return I<1?" l'instant":I<60?`Il y a ${I} min`:B<24?`Il y a ${B} h`:X<7?`Il y a ${X} j`:U.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},L=O=>O==="PREDICTION_BESTSELLER"||O==="PREDICTION_PRICE",E=e.filter(O=>L(O.type)).length,D=e.filter(O=>!O.isRead).length,F=(t==null?void 0:t.role)==="SELLER",se=t==null?void 0:t.id;return s.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:"Notifications"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:D>0?`${D} Unread`:"All Notifications"})]}),s.jsx("div",{className:"flex items-center gap-3",children:e.some(O=>!O.isRead)&&s.jsx("button",{onClick:j,className:"px-4 py-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition font-medium text-sm",children:" Mark all as read"})})]}),F&&s.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-gray-100 dark:bg-gray-800 rounded-xl",children:[s.jsx("button",{onClick:()=>g("all"),className:`flex-1 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${h==="all"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"All Notifications"}),s.jsxs("button",{onClick:()=>g("predictions"),className:`flex-1 px-4 py-2.5 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 ${h==="predictions"?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Predictive Alerts",E>0&&s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${h==="predictions"?"bg-white/20 text-white":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"}`,children:E})]})]}),h==="all"&&s.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{key:"all",label:"All"},{key:"unread",label:"Unread"},{key:"predictions",label:"Predections"}].map(O=>s.jsx("button",{onClick:()=>y(O.key),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${x===O.key?"bg-blue-600 text-white shadow-lg shadow-blue-500/25":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 shadow"}`,children:O.label},O.key))}),h==="predictions"&&F&&se?s.jsx(AO,{sellerId:se}):a?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mb-4"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chargement des notifications..."})]}):e.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"No Notification at the moment"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:x==="unread"?"You have read all notifications.":x==="predictions"?"No predictive alerts at the moment.":"You don't have any notifications yet."})]}):s.jsxs("div",{className:"space-y-3",children:[e.map(O=>{const U=k(O.type),T=L(O.type);return s.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-xl cursor-pointer ${O.isRead?"":"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-900"} ${T?"border-l-4 border-l-orange-500":""}`,onClick:()=>!O.isRead&&w(O.id),children:[T&&s.jsx("div",{className:`px-4 py-1.5 bg-gradient-to-r ${U.gradient} text-white text-xs font-medium`,children:"Predictive Alerts"}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl flex-shrink-0 ${U.bg}`,children:U.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:O.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 text-sm",children:O.message})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:C(O.createdAt)}),!O.isRead&&s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]})]}),O.actionUrl&&s.jsxs("a",{href:O.actionUrl,className:`inline-flex items-center gap-1 mt-3 text-sm font-medium transition-colors ${T?"text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300":"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}`,onClick:W=>W.stopPropagation(),children:["See Details",s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]},O.id)}),d>1&&s.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[s.jsx("button",{onClick:()=>l(O=>Math.max(0,O-1)),disabled:i===0,className:"px-4 py-2 rounded-xl bg-white dark:bg-gray-800 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:" Prcdent"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600 dark:text-gray-400 font-medium",children:["Page ",i+1," sur ",d]}),s.jsx("button",{onClick:()=>l(O=>Math.min(d-1,O+1)),disabled:i>=d-1,className:"px-4 py-2 rounded-xl bg-white dark:bg-gray-800 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Suivant "})]})]})]})},LO=({pageTitle:t})=>s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:t}),s.jsx("nav",{children:s.jsxs("ol",{className:"flex items-center gap-1.5",children:[s.jsx("li",{children:s.jsxs(lt,{className:"inline-flex items-center gap-1.5 text-sm text-gray-500 dark:text-gray-400",to:"/",children:["Home",s.jsx("svg",{className:"stroke-current",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6.0765 12.667L10.2432 8.50033L6.0765 4.33366",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),s.jsx("li",{className:"text-sm text-gray-800 dark:text-white/90",children:t})]})})]}),D2=(t=!1)=>{const[e,r]=R.useState(t),a=R.useCallback(()=>r(!0),[]),n=R.useCallback(()=>r(!1),[]),i=R.useCallback(()=>r(l=>!l),[]);return{isOpen:e,openModal:a,closeModal:n,toggleModal:i}},O2=({isOpen:t,onClose:e,children:r,className:a,showCloseButton:n=!0,isFullscreen:i=!1})=>{const l=R.useRef(null);if(R.useEffect(()=>{const u=h=>{h.key==="Escape"&&e()};return t&&document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[t,e]),R.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const d=i?"w-full h-full":"relative w-full rounded-3xl bg-white  dark:bg-gray-900";return s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center overflow-y-auto modal z-99999",children:[!i&&s.jsx("div",{className:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[32px]",onClick:e}),s.jsxs("div",{ref:l,className:`${d}  ${a}`,onClick:u=>u.stopPropagation(),children:[n&&s.jsx("button",{onClick:e,className:"absolute right-3 top-3 z-999 flex h-9.5 w-9.5 items-center justify-center rounded-full bg-gray-100 text-gray-400 transition-colors hover:bg-gray-200 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white sm:right-6 sm:top-6 sm:h-11 sm:w-11",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5413C5.65237 16.9318 5.65237 17.565 6.04289 17.9555C6.43342 18.346 7.06658 18.346 7.45711 17.9555L11.9987 13.4139L16.5408 17.956C16.9313 18.3466 17.5645 18.3466 17.955 17.956C18.3455 17.5655 18.3455 16.9323 17.955 16.5418L13.4129 11.9997L17.955 7.4576C18.3455 7.06707 18.3455 6.43391 17.955 6.04338C17.5645 5.65286 16.9313 5.65286 16.5408 6.04338L11.9987 10.5855L7.45711 6.0439C7.06658 5.65338 6.43342 5.65338 6.04289 6.0439C5.65237 6.43442 5.65237 7.06759 6.04289 7.45811L10.5845 11.9997L6.04289 16.5413Z",fill:"currentColor"})})}),s.jsx("div",{children:r})]})]})},Pl={email:"elabbassimouaad0@gmail.com",fullName:"Mouad El Abbassi",title:"Data Engineer Student",location:"Casablanca, Morocco",avatar:"/images/user/owner.jpg",social:{facebook:"https://www.facebook.com/",twitter:"https://x.com/MouadElAbbassi2",linkedin:"https://www.linkedin.com/in/mouad-el-abbassi-57580b251",instagram:"https://instagram.com/mouadelabbassi_"}};function EO(){var se;const{isOpen:t,openModal:e,closeModal:r}=D2(),{user:a,updateUserProfile:n}=hn(),[i,l]=R.useState(!1),[d,u]=R.useState(""),h=(a==null?void 0:a.email)===Pl.email,g=((se=a==null?void 0:a.fullName)==null?void 0:se.split(" "))||["",""],[x,y]=R.useState(g[0]||""),[p,w]=R.useState(g.slice(1).join(" ")||""),[j,k]=R.useState((a==null?void 0:a.phone)||""),[C,L]=R.useState((a==null?void 0:a.bio)||"");R.useEffect(()=>{var O;if(a){const U=((O=a.fullName)==null?void 0:O.split(" "))||["",""];y(U[0]||""),w(U.slice(1).join(" ")||""),k(a.phone||""),L(a.bio||"")}},[a]);const E=async()=>{u(""),l(!0);try{const O=`${x} ${p}`.trim();await n(O,j,C),r()}catch(O){u(O.message||"Failed to update profile")}finally{l(!1)}},D=O=>{switch(O){case"ADMIN":return"Administrator";case"ANALYST":return"Data Analyst";case"BUYER":return"Buyer";default:return O}},F=h?{fullName:Pl.fullName,title:Pl.title,location:Pl.location,avatar:Pl.avatar}:{fullName:(a==null?void 0:a.fullName)||"User",title:(a==null?void 0:a.bio)||D((a==null?void 0:a.role)||"BUYER"),location:"",avatar:"/images/user/default-avatar.png"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:s.jsxs("div",{className:"flex flex-col gap-5 xl:flex-row xl:items-center xl:justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center w-full gap-6 xl:flex-row",children:[s.jsx("div",{className:"w-20 h-20 overflow-hidden border border-gray-200 rounded-full dark:border-gray-800",children:s.jsx("img",{src:F.avatar,alt:"user",className:"w-full h-full object-cover",onError:O=>{O.target.src="/images/user/default-avatar.png"}})}),s.jsxs("div",{className:"order-3 xl:order-2",children:[s.jsx("h4",{className:"mb-2 text-lg font-semibold text-center text-gray-800 dark:text-white/90 xl:text-left",children:F.fullName}),s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center xl:flex-row xl:gap-3 xl:text-left",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:F.title}),F.location&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden h-3.5 w-px bg-gray-300 dark:bg-gray-700 xl:block"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:F.location})]})]})]}),h&&s.jsxs("div",{className:"flex items-center order-2 gap-2 grow xl:order-3 xl:justify-end",children:[s.jsx("a",{href:Pl.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:s.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M11.6666 11.2503H13.7499L14.5833 7.91699H11.6666V6.25033C11.6666 5.39251 11.6666 4.58366 13.3333 4.58366H14.5833V1.78374C14.3118 1.7477 13.2858 1.66699 12.2023 1.66699C9.94025 1.66699 8.33325 3.04771 8.33325 5.58366V7.91699H5.83325V11.2503H8.33325V18.3337H11.6666V11.2503Z",fill:""})})}),s.jsx("a",{href:Pl.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:s.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M15.1708 1.875H17.9274L11.9049 8.75833L18.9899 18.125H13.4424L9.09742 12.4442L4.12578 18.125H1.36745L7.80912 10.7625L1.01245 1.875H6.70078L10.6283 7.0675L15.1708 1.875ZM14.2033 16.475H15.7308L5.87078 3.43833H4.23078L14.2033 16.475Z",fill:""})})}),s.jsx("a",{href:Pl.social.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:s.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M5.78381 4.16645C5.78351 4.84504 5.37181 5.45569 4.74286 5.71045C4.11391 5.96521 3.39331 5.81321 2.92083 5.32613C2.44836 4.83904 2.31837 4.11413 2.59216 3.49323C2.86596 2.87233 3.48517 2.47366 4.16381 2.48978C5.06989 2.51113 5.78432 3.26024 5.78381 4.16645ZM5.83381 7.06645H2.50048V17.4998H5.83381V7.06645ZM11.1005 7.06645H7.78381V17.4998H11.0671V12.0248C11.0671 8.97478 15.0421 8.69145 15.0421 12.0248V17.4998H18.3338V10.8914C18.3338 5.74978 12.4505 5.94145 11.0671 8.46645L11.1005 7.06645Z",fill:""})})}),s.jsx("a",{href:Pl.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex h-11 w-11 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:s.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M10.8567 1.66699C11.7946 1.66854 12.2698 1.67351 12.6805 1.68573L12.8422 1.69102C13.0291 1.69766 13.2134 1.70599 13.4357 1.71641C14.3224 1.75738 14.9273 1.89766 15.4586 2.10391C16.0078 2.31572 16.4717 2.60183 16.9349 3.06503C17.3981 3.52822 17.6842 3.99213 17.896 4.54129C18.1023 5.07268 18.2426 5.67762 18.2835 6.56427C18.294 6.78656 18.3023 6.97087 18.3089 7.15775L18.3135 7.31949C18.326 7.73017 18.3309 8.20538 18.3325 9.14325L18.3332 9.76562V10.857C18.3348 11.5549 18.3289 12.2528 18.3151 12.9505L18.3106 13.1122C18.304 13.2991 18.2956 13.4834 18.2852 13.7057C18.2443 14.5924 18.1015 15.1965 17.896 15.7287C17.6842 16.2779 17.3981 16.7418 16.9349 17.205C16.4717 17.6682 16.0078 17.9543 15.4586 18.1661C14.9273 18.3724 14.3224 18.5126 13.4357 18.5536C13.2134 18.564 13.0291 18.5724 12.8422 18.579L12.6805 18.5835C12.2698 18.5958 11.7946 18.6008 10.8567 18.6026L10.2343 18.6033H9.14324C8.44529 18.6049 7.74735 18.5989 7.04965 18.5852L6.88791 18.5806C6.68949 18.5735 6.49118 18.5648 6.29299 18.5544C5.40632 18.5135 4.80215 18.3715 4.26982 18.1661C3.72065 17.9543 3.25673 17.6682 2.79353 17.205C2.33034 16.7418 2.0451 16.2779 1.8324 15.7287C1.62615 15.1973 1.48587 14.5924 1.44491 13.7057L1.43962 13.544L1.43514 13.3822C1.42108 12.6846 1.4148 11.9867 1.41629 11.2887V9.14325C1.41449 8.44534 1.42056 7.74743 1.43432 7.04978L1.43879 6.88802C1.44544 6.70114 1.45379 6.51685 1.46408 6.29456C1.50505 5.4079 1.64615 4.80378 1.85241 4.27157C2.06421 3.72227 2.35034 3.25835 2.81354 2.79503C3.27673 2.3317 3.74065 2.04558 4.28982 1.8337C4.82121 1.62745 5.42615 1.48718 6.31279 1.44621C6.53508 1.43591 6.71938 1.42755 6.90627 1.42091L7.06799 1.41643C7.76555 1.40237 8.46343 1.39609 9.16129 1.39757L10.8567 1.66699ZM9.99962 5.83366C8.89456 5.83366 7.83475 6.27258 7.05335 7.05398C6.27195 7.83538 5.83304 8.89519 5.83304 10.0003C5.83304 11.1053 6.27195 12.1651 7.05335 12.9465C7.83475 13.7279 8.89456 14.1668 9.99962 14.1668C11.1047 14.1668 12.1645 13.7279 12.9459 12.9465C13.7273 12.1651 14.1662 11.1053 14.1662 10.0003C14.1662 8.89519 13.7273 7.83538 12.9459 7.05398C12.1645 6.27258 11.1047 5.83366 9.99962 5.83366ZM9.99962 7.50033C10.6628 7.50033 11.2988 7.76372 11.7676 8.23257C12.2365 8.70141 12.4999 9.33749 12.4999 10.0007C12.4999 10.6638 12.2365 11.2999 11.7676 11.7687C11.2988 12.2376 10.6628 12.501 9.99962 12.501C9.33652 12.501 8.70044 12.2376 8.23159 11.7687C7.76275 11.2999 7.49936 10.6638 7.49936 10.0007C7.49936 9.33749 7.76275 8.70141 8.23159 8.23257C8.70044 7.76372 9.33652 7.50033 9.99962 7.50033ZM14.3746 4.58366C14.0408 4.58366 13.7207 4.71641 13.4847 4.95239C13.2487 5.18838 13.1159 5.50853 13.1159 5.8423C13.1159 6.17608 13.2487 6.49622 13.4847 6.73221C13.7207 6.9682 14.0408 7.10094 14.3746 7.10094C14.7084 7.10094 15.0285 6.9682 15.2645 6.73221C15.5005 6.49622 15.6332 6.17608 15.6332 5.8423C15.6332 5.50853 15.5005 5.18838 15.2645 4.95239C15.0285 4.71641 14.7084 4.58366 14.3746 4.58366Z",fill:""})})})]}),!h&&s.jsx("div",{className:"flex items-center order-2 gap-2 grow xl:order-3 xl:justify-end",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(a==null?void 0:a.role)==="ADMIN"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":(a==null?void 0:a.role)==="ANALYST"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:D((a==null?void 0:a.role)||"BUYER")})})]}),!h&&s.jsxs("button",{onClick:e,className:"flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:w-auto",children:[s.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0911 2.78206C14.2125 1.90338 12.7878 1.90338 11.9092 2.78206L4.57524 10.116C4.26682 10.4244 4.0547 10.8158 3.96468 11.2426L3.31231 14.3352C3.25997 14.5833 3.33653 14.841 3.51583 15.0203C3.69512 15.1996 3.95286 15.2761 4.20096 15.2238L7.29355 14.5714C7.72031 14.4814 8.11172 14.2693 8.42013 13.9609L15.7541 6.62695C16.6328 5.74827 16.6328 4.32359 15.7541 3.44491L15.0911 2.78206Z",fill:""})}),"Edit"]})]})}),s.jsx(O2,{isOpen:t,onClose:r,className:"max-w-[700px] m-4",children:s.jsxs("div",{className:"no-scrollbar relative w-full max-w-[700px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[s.jsxs("div",{className:"px-2 pr-14",children:[s.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Edit Profile"}),s.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Update your details to keep your profile up-to-date."})]}),d&&s.jsx("div",{className:"mb-4 mx-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:d})}),s.jsxs("form",{className:"flex flex-col",children:[s.jsx("div",{className:"custom-scrollbar max-h-[450px] overflow-y-auto px-2 pb-3",children:s.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[s.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[s.jsx(ta,{children:"First Name"}),s.jsx(ga,{type:"text",value:x,onChange:O=>y(O.target.value)})]}),s.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[s.jsx(ta,{children:"Last Name"}),s.jsx(ga,{type:"text",value:p,onChange:O=>w(O.target.value)})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ta,{children:"Bio"}),s.jsx(ga,{type:"text",value:C,onChange:O=>L(O.target.value),placeholder:"Tell us about yourself"})]})]})}),s.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[s.jsx(fo,{size:"sm",variant:"outline",onClick:r,children:"Close"}),s.jsx(fo,{size:"sm",onClick:E,disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})})]})}const Qu={email:"elabbassimouaad0@gmail.com",firstName:"Mouad",lastName:"El Abbassi",phone:"+212 635 - 737656",bio:"Data Engineer Student"};function MO(){var F;const{isOpen:t,openModal:e,closeModal:r}=D2(),{user:a,updateUserProfile:n}=hn(),[i,l]=R.useState(!1),[d,u]=R.useState(""),h=(a==null?void 0:a.email)===Qu.email,g=((F=a==null?void 0:a.fullName)==null?void 0:F.split(" "))||["",""],[x,y]=R.useState(g[0]||""),[p,w]=R.useState(g.slice(1).join(" ")||""),[j,k]=R.useState((a==null?void 0:a.phone)||""),[C,L]=R.useState((a==null?void 0:a.bio)||"");R.useEffect(()=>{var se;if(a){const O=((se=a.fullName)==null?void 0:se.split(" "))||["",""];y(O[0]||""),w(O.slice(1).join(" ")||""),k(a.phone||""),L(a.bio||"")}},[a]);const E=async()=>{u(""),l(!0);try{const se=`${x} ${p}`.trim();await n(se,j,C),r()}catch(se){u(se.message||"Failed to update profile")}finally{l(!1)}},D=h?{firstName:Qu.firstName,lastName:Qu.lastName,email:Qu.email,phone:Qu.phone,bio:Qu.bio}:{firstName:x,lastName:p,email:(a==null?void 0:a.email)||"",phone:j||"Not provided",bio:C||`${(a==null?void 0:a.role)||"User"}`};return s.jsxs("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:[s.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-6",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-7 2xl:gap-x-32",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"First Name"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:D.firstName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Last Name"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:D.lastName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Email address"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:D.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Phone"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:D.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Bio / Role"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:D.bio})]})]})]}),!h&&s.jsxs("button",{onClick:e,className:"flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:w-auto",children:[s.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0911 2.78206C14.2125 1.90338 12.7878 1.90338 11.9092 2.78206L4.57524 10.116C4.26682 10.4244 4.0547 10.8158 3.96468 11.2426L3.31231 14.3352C3.25997 14.5833 3.33653 14.841 3.51583 15.0203C3.69512 15.1996 3.95286 15.2761 4.20096 15.2238L7.29355 14.5714C7.72031 14.4814 8.11172 14.2693 8.42013 13.9609L15.7541 6.62695C16.6328 5.74827 16.6328 4.32359 15.7541 3.44491L15.0911 2.78206Z",fill:""})}),"Edit"]})]}),s.jsx(O2,{isOpen:t,onClose:r,className:"max-w-[700px] m-4",children:s.jsxs("div",{className:"no-scrollbar relative w-full max-w-[700px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[s.jsxs("div",{className:"px-2 pr-14",children:[s.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Edit Personal Information"}),s.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Update your details to keep your profile up-to-date."})]}),d&&s.jsx("div",{className:"mb-4 mx-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:d})}),s.jsxs("form",{className:"flex flex-col",children:[s.jsx("div",{className:"custom-scrollbar max-h-[450px] overflow-y-auto px-2 pb-3",children:s.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[s.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[s.jsx(ta,{children:"First Name"}),s.jsx(ga,{type:"text",value:x,onChange:se=>y(se.target.value)})]}),s.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[s.jsx(ta,{children:"Last Name"}),s.jsx(ga,{type:"text",value:p,onChange:se=>w(se.target.value)})]}),s.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[s.jsx(ta,{children:"Email Address"}),s.jsx(ga,{type:"text",value:(a==null?void 0:a.email)||"",disabled:!0,hint:"Email cannot be changed"})]}),s.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[s.jsx(ta,{children:"Phone"}),s.jsx(ga,{type:"text",value:j,onChange:se=>k(se.target.value),placeholder:"Enter your phone number"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ta,{children:"Bio"}),s.jsx(ga,{type:"text",value:C,onChange:se=>L(se.target.value),placeholder:"Tell us about yourself"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ta,{children:"Password"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ga,{type:"password",value:"",disabled:!0}),s.jsx(lt,{to:"/forgot-password",className:"whitespace-nowrap text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Change Password"})]}),s.jsx("p",{className:"mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:"To change your password, use the forgot password feature"})]})]})}),s.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[s.jsx(fo,{size:"sm",variant:"outline",onClick:r,children:"Close"}),s.jsx(fo,{size:"sm",onClick:E,disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})})]})}function RO(){const{isOpen:t,openModal:e,closeModal:r}=D2(),a=()=>{console.log("Saving changes..."),r()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:s.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-6",children:"Address"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-7 2xl:gap-x-32",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Country"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"Morocco."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"City/State"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"Casablanca, Morocco."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-xs leading-normal text-gray-500 dark:text-gray-400",children:"Postal Code"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white/90",children:"20153"})]})]})]}),s.jsxs("button",{onClick:e,className:"flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto",children:[s.jsx("svg",{className:"fill-current",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0911 2.78206C14.2125 1.90338 12.7878 1.90338 11.9092 2.78206L4.57524 10.116C4.26682 10.4244 4.0547 10.8158 3.96468 11.2426L3.31231 14.3352C3.25997 14.5833 3.33653 14.841 3.51583 15.0203C3.69512 15.1996 3.95286 15.2761 4.20096 15.2238L7.29355 14.5714C7.72031 14.4814 8.11172 14.2693 8.42013 13.9609L15.7541 6.62695C16.6327 5.74827 16.6327 4.32365 15.7541 3.44497L15.0911 2.78206ZM12.9698 3.84272C13.2627 3.54982 13.7376 3.54982 14.0305 3.84272L14.6934 4.50563C14.9863 4.79852 14.9863 5.2734 14.6934 5.56629L14.044 6.21573L12.3204 4.49215L12.9698 3.84272ZM11.2597 5.55281L5.6359 11.1766C5.53309 11.2794 5.46238 11.4099 5.43238 11.5522L5.01758 13.5185L6.98394 13.1037C7.1262 13.0737 7.25666 13.003 7.35947 12.9002L12.9833 7.27639L11.2597 5.55281Z",fill:""})}),"Edit"]})]})}),s.jsx(O2,{isOpen:t,onClose:r,className:"max-w-[700px] m-4",children:s.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-11",children:[s.jsxs("div",{className:"px-2 pr-14",children:[s.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Edit Address"}),s.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Update your details to keep your profile up-to-date."})]}),s.jsxs("form",{className:"flex flex-col",children:[s.jsx("div",{className:"px-2 overflow-y-auto custom-scrollbar",children:s.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ta,{children:"Country"}),s.jsx(ga,{type:"text",value:"Morocco"})]}),s.jsxs("div",{children:[s.jsx(ta,{children:"City/State"}),s.jsx(ga,{type:"text",value:"Casablanca, Morocco"})]}),s.jsxs("div",{children:[s.jsx(ta,{children:"Postal Code"}),s.jsx(ga,{type:"text",value:"20153"})]})]})}),s.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[s.jsx(fo,{size:"sm",variant:"outline",onClick:r,children:"Close"}),s.jsx(fo,{size:"sm",onClick:a,children:"Save Changes"})]})]})]})})]})}function xw(){return s.jsxs(s.Fragment,{children:[s.jsx(Nh,{title:"JAVA",description:""}),s.jsx(LO,{pageTitle:"Profile"}),s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] lg:p-6",children:[s.jsx("h3",{className:"mb-5 text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-7",children:"Profile"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(EO,{}),s.jsx(MO,{}),s.jsx(RO,{})]})]})]})}const Tn="http://localhost:8080/api",Pn=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),Pi={getDashboard:async()=>(await Ie.get(`${Tn}/seller/dashboard`,{headers:Pn()})).data.data,getProfile:async()=>(await Ie.get(`${Tn}/seller/profile`,{headers:Pn()})).data.data,updateProfile:async t=>(await Ie.put(`${Tn}/seller/profile`,t,{headers:Pn()})).data.data,submitProduct:async t=>(await Ie.post(`${Tn}/seller/products/submit`,t,{headers:Pn()})).data.data,getProductRequests:async(t=0,e=10)=>(await Ie.get(`${Tn}/seller/products/requests`,{headers:Pn(),params:{page:t,size:e}})).data.data,getProductRequestById:async t=>(await Ie.get(`${Tn}/seller/products/requests/${t}`,{headers:Pn()})).data.data,getMyProducts:async(t=0,e=10)=>(await Ie.get(`${Tn}/seller/products`,{headers:Pn(),params:{page:t,size:e}})).data.data,getMyProductsByStatus:async(t,e=0,r=10)=>(await Ie.get(`${Tn}/seller/products/status/${t}`,{headers:Pn(),params:{page:e,size:r}})).data.data,getMyProductByAsin:async t=>(await Ie.get(`${Tn}/seller/products/${t}`,{headers:Pn()})).data.data,updateMyProduct:async(t,e)=>(await Ie.put(`${Tn}/seller/products/${t}`,e,{headers:Pn()})).data.data,getMySoldOrders:async(t=0,e=10)=>(await Ie.get(`${Tn}/seller/orders`,{headers:Pn(),params:{page:t,size:e}})).data.data,getMyProductReviews:async(t=0,e=10)=>(await Ie.get(`${Tn}/seller/reviews`,{headers:Pn(),params:{page:t,size:e}})).data.data,deleteMyProduct:async t=>{await Ie.delete(`${Tn}/seller/products/${t}`,{headers:Pn()})},getReviewSummary:async()=>(await Ie.get(`${Tn}/seller/reviews/summary`,{headers:Pn()})).data.data};rl.register(Gl,Xl,$l,si,tl,tu,ru,eu,af);const TO=()=>{var g,x,y,p;const[t,e]=R.useState(null),[r,a]=R.useState(!0),[n,i]=R.useState(null);R.useEffect(()=>{l()},[]);const l=async()=>{var w,j;try{a(!0);const k=await Pi.getDashboard();e(k)}catch(k){i(((j=(w=k.response)==null?void 0:w.data)==null?void 0:j.message)||"Failed to load dashboard")}finally{a(!1)}};if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-red-500 text-center",children:[s.jsx("p",{className:"text-xl font-semibold",children:n}),s.jsx("button",{onClick:l,className:"mt-4 px-4 py-2 bg-gray-500 text-white rounded-lg",children:"Retry"})]})});if(!t)return null;const d={labels:t.revenueTrend&&t.revenueTrend.length>0?t.revenueTrend.map(w=>new Date(w.date).toLocaleDateString("en-US",{day:"2-digit",month:"short"})):["No data"],datasets:[{label:"Revenue ($)",data:t.revenueTrend&&t.revenueTrend.length>0?t.revenueTrend.map(w=>w.revenue):[0],fill:!0,backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgb(59, 130, 246)",tension:.4}]},u=t.topProducts&&t.topProducts.length>0,h={labels:u?t.topProducts.map(w=>w.productName.length>15?w.productName.substring(0,15)+"...":w.productName):["No products yet"],datasets:[{label:"Revenue ($)",data:u?t.topProducts.map(w=>w.revenue):[0],backgroundColor:u?["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)"]:["rgba(156, 163, 175, 0.5)"],borderColor:u?["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(239, 68, 68)","rgb(139, 92, 246)"]:["rgb(156, 163, 175)"],borderWidth:1,borderRadius:8}]};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Seller Dashboard"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["Welcome, ",t.storeName||"Seller",t.isVerifiedSeller&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Verified"})]})]}),s.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-6 text-white",children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Total Revenue"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:["$",((g=t.totalRevenue)==null?void 0:g.toFixed(2))||"0.00"]}),s.jsxs("p",{className:"text-gray-200 text-xs mt-2",children:["This month: $",((x=t.monthlyRevenue)==null?void 0:x.toFixed(2))||"0.00"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-6 text-white",children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Today"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:["$",((y=t.todayRevenue)==null?void 0:y.toFixed(2))||"0.00"]}),s.jsxs("p",{className:"text-gray-200 text-xs mt-2",children:["This week: $",((p=t.weeklyRevenue)==null?void 0:p.toFixed(2))||"0.00"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-6 text-white",children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Products"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.totalProducts||0}),s.jsxs("p",{className:"text-gray-200 text-xs mt-2",children:[" ",t.approvedProducts||0," approved |  ",t.pendingProducts||0," pending"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl shadow-lg p-6 text-white",children:[s.jsx("p",{className:"text-gray-100 text-sm font-medium",children:"Sales"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.totalUnitsSold||0}),s.jsx("p",{className:"text-gray-200 text-xs mt-2",children:"Units sold"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Revenue Trend"}),s.jsx("div",{className:"h-80",children:s.jsx(S2,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)"},ticks:{callback:w=>`$${w}`,color:"rgb(156, 163, 175)"}},x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}}}}})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Top Products"}),s.jsx("div",{className:"h-80",children:u?s.jsx(Wl,{data:h,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)"},ticks:{callback:w=>`$${w}`,color:"rgb(156, 163, 175)"}},x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)"}}}}}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[s.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("p",{className:"text-lg font-medium",children:"No sales yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Your top products will appear here once you make sales"})]})})]})]})]})},PO=()=>{const t=Bi(),[e,r]=R.useState([]),[a,n]=R.useState(!0),[i,l]=R.useState(0),[d,u]=R.useState(0),[h,g]=R.useState("ALL"),[x,y]=R.useState(!1),[p,w]=R.useState(null),[j,k]=R.useState(null),[C,L]=R.useState(!1),[E,D]=R.useState(null);R.useEffect(()=>{F()},[i,h]);const F=async()=>{try{n(!0);let B;h==="ALL"?B=await Pi.getMyProducts(i,10):B=await Pi.getMyProductsByStatus(h,i,10),r(B.content),u(B.totalPages)}catch(B){console.error("Error fetching products:",B)}finally{n(!1)}},se=B=>{const X={APPROVED:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",REJECTED:"bg-red-100 text-red-800"},Q={APPROVED:"Approved",PENDING:"Pending",REJECTED:"Rejected"};return s.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${X[B]||"bg-gray-100"}`,children:Q[B]||B})},O=()=>{y(!0)},U=()=>{y(!1),t("/seller/products/new")},T=()=>{y(!1),t("/seller/stock")},W=B=>{D(B),L(!0)},I=async()=>{var B,X;if(E)try{k(E.asin),await Pi.deleteMyProduct(E.asin),w({message:`"${E.productName}" has been deleted successfully! `,type:"success"}),L(!1),D(null),F()}catch(Q){w({message:((X=(B=Q.response)==null?void 0:B.data)==null?void 0:X.message)||"Failed to delete product",type:"error"})}finally{k(null)}};return s.jsxs("div",{className:"p-6",children:[p&&s.jsx(Ql,{message:p.message,type:p.type,onClose:()=>w(null)}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"My Products"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your products for sale"})]}),s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Product"]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-6 p-4",children:s.jsx("div",{className:"flex gap-2",children:["ALL","APPROVED","PENDING","REJECTED"].map(B=>s.jsx("button",{onClick:()=>{g(B),l(0)},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${h===B?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200"}`,children:B==="ALL"?"All":B==="APPROVED"?"Approved":B==="PENDING"?"Pending":"Rejected"},B))})}),a?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-12 text-center",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No products found"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Start by adding your first product."}),s.jsx("button",{onClick:O,className:"mt-4 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Product"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(B=>{var X,Q;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden hover:shadow-lg transition",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:B.imageUrl||"/placeholder-product.png",alt:B.productName,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-2 right-2",children:se(B.approvalStatus)}),B.isBestseller&&s.jsx("div",{className:"absolute top-2 left-2 bg-yellow-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:"Bestseller"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white line-clamp-2 mb-2",children:B.productName}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",((X=B.price)==null?void 0:X.toFixed(2))||"0.00"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",B.stockQuantity]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),((Q=B.rating)==null?void 0:Q.toFixed(1))||"0.0"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:[B.reviewsCount||0," reviews"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:[B.salesCount||0," sales"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{to:`/seller/products/${B.asin}/edit`,className:"flex-1 text-center py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition text-sm",children:"View Details"}),s.jsx(lt,{to:`/seller/products/${B.asin}/edit`,className:"flex-1 text-center py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm",children:"Edit"}),s.jsx("button",{onClick:()=>W(B),disabled:j===B.asin,className:"px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded hover:bg-red-200 dark:hover:bg-red-900/50 transition text-sm disabled:opacity-50",title:"Delete Product",children:j===B.asin?s.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},B.asin)})}),d>1&&s.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[s.jsx("button",{onClick:()=>l(B=>Math.max(0,B-1)),disabled:i===0,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Previous"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:["Page ",i+1," of ",d]}),s.jsx("button",{onClick:()=>l(B=>Math.min(d-1,B+1)),disabled:i>=d-1,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Next"})]}),x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Add New Product"}),s.jsx("button",{onClick:()=>y(!1),className:"text-white/80 hover:text-white transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("p",{className:"text-blue-100 mt-2",children:"Choose how you want to add a product"})]}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:U,className:"group p-6 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-blue-500 dark:hover:border-blue-500 transition-all hover:shadow-lg text-left",children:[s.jsx("div",{className:"w-14 h-14 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mb-4 group-hover:bg-blue-500 transition-colors",children:s.jsx("svg",{className:"w-7 h-7 text-blue-600 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"New Product"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a brand new product by entering all the details manually"}),s.jsxs("div",{className:"mt-4 flex items-center text-blue-600 dark:text-blue-400 text-sm font-medium",children:["Get Started",s.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),s.jsxs("button",{onClick:T,className:"group p-6 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-green-500 dark:hover:border-green-500 transition-all hover:shadow-lg text-left",children:[s.jsx("div",{className:"w-14 h-14 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center mb-4 group-hover:bg-green-500 transition-colors",children:s.jsx("svg",{className:"w-7 h-7 text-green-600 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"From Stock"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"List a product from your existing stock inventory with custom pricing"}),s.jsxs("div",{className:"mt-4 flex items-center text-green-600 dark:text-green-400 text-sm font-medium",children:["View Stock",s.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:s.jsx("button",{onClick:()=>y(!1),className:"w-full py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium transition",children:"Cancel"})})]})}),C&&E&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-2",children:"Delete Product?"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center mb-2",children:"Are you sure you want to delete:"}),s.jsxs("p",{className:"text-gray-900 dark:text-white font-semibold text-center mb-4",children:['"',E.productName,'"']}),s.jsx("p",{className:"text-sm text-red-500 text-center",children:" This action cannot be undone. All reviews and sales data will be lost."})]}),s.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[s.jsx("button",{onClick:()=>{L(!1),D(null)},className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 font-medium transition",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:j===E.asin,className:"flex-1 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition disabled:opacity-50 flex items-center justify-center gap-2",children:j===E.asin?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Product"]})})]})]})})]})},bw=()=>{const t=Bi(),{asin:e}=Rw(),r=!!e,[a,n]=R.useState({productName:"",description:"",price:0,stockQuantity:1,imageUrl:"",additionalImages:"",categoryId:0}),[i,l]=R.useState([]),[d,u]=R.useState(!1),[h,g]=R.useState(!1),[x,y]=R.useState(null),[p,w]=R.useState(null);R.useEffect(()=>{j(),r&&k()},[e]);const j=async()=>{try{const L=localStorage.getItem("token"),E=await Ie.get("http://localhost:8080/api/categories",{headers:{Authorization:`Bearer ${L}`}});l(E.data.data||E.data)}catch(L){console.error("Error fetching categories:",L)}},k=async()=>{var L,E;if(e)try{u(!0);const D=await Pi.getMyProductByAsin(e);n({productName:D.productName,description:D.description||"",price:D.price,stockQuantity:D.stockQuantity,imageUrl:D.imageUrl||"",categoryId:D.categoryId})}catch(D){y(((E=(L=D.response)==null?void 0:L.data)==null?void 0:E.message)||"Failed to load product")}finally{u(!1)}},C=async L=>{var E,D;if(L.preventDefault(),y(null),w(null),!a.productName||!a.price||!a.categoryId){y("Veuillez remplir tous les champs obligatoires");return}try{g(!0),r?(await Pi.updateMyProduct(e,a),w("Produit mis  jour avec succs! ")):(await Pi.submitProduct(a),w("Produit soumis pour approbation!  Vous serez notifi une fois approuv.")),setTimeout(()=>t("/seller/products"),2e3)}catch(F){y(((D=(E=F.response)==null?void 0:E.data)==null?void 0:D.message)||"Une erreur est survenue")}finally{g(!1)}};return d?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:r?"Modifier le Produit":"Soumettre un Nouveau Produit"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:r?"Modifiez les informations de votre produit":"Remplissez le formulaire pour soumettre un nouveau produit  la vente. Il sera examin par notre quipe avant publication."})]}),x&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 rounded",children:[s.jsx("p",{className:"font-medium",children:"Erreur"}),s.jsx("p",{children:x})]}),p&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700 rounded",children:[s.jsx("p",{className:"font-medium",children:"Succs"}),s.jsx("p",{children:p})]}),s.jsxs("form",{onSubmit:C,className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom du Produit *"}),s.jsx("input",{type:"text",value:a.productName,onChange:L=>n({...a,productName:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: iPhone 15 Pro Max 256GB",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:a.description,onChange:L=>n({...a,description:L.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Dcrivez votre produit en dtail..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price ($) *"}),s.jsx("input",{type:"number",step:"0.01",min:"0.01",value:a.price,onChange:L=>n({...a,price:parseFloat(L.target.value)}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quantit en Stock *"}),s.jsx("input",{type:"number",min:"1",value:a.stockQuantity,onChange:L=>n({...a,stockQuantity:parseInt(L.target.value)}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Catgorie *"}),s.jsxs("select",{value:a.categoryId,onChange:L=>n({...a,categoryId:parseInt(L.target.value)}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[s.jsx("option",{value:0,children:"Slectionner une catgorie"}),i.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL de l'Image"}),s.jsx("input",{type:"url",value:a.imageUrl,onChange:L=>n({...a,imageUrl:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"https://example.com/image.jpg"})]}),a.imageUrl&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Aperu de l'Image"}),s.jsx("img",{src:a.imageUrl,alt:"Preview",className:"w-48 h-48 object-cover rounded-lg border",onError:L=>{L.target.src="/placeholder-product.png"}})]})]}),s.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>t("/seller/products"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[h&&s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),r?"Mettre  jour":"Soumettre pour Approbation"]})]})]})]})},DO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(0),[l,d]=R.useState(0),[u,h]=R.useState(0);R.useEffect(()=>{g();const p=setInterval(g,3e4);return()=>clearInterval(p)},[n]);const g=async()=>{try{a(!0);const p=await Pi.getMySoldOrders(n,10);e(p.content),d(p.totalPages),h(p.totalElements)}catch(p){console.error("Error fetching orders:",p)}finally{a(!1)}},x=()=>{g()},y=p=>{const w={PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",PROCESSING:"bg-purple-100 text-purple-800",SHIPPED:"bg-indigo-100 text-indigo-800",DELIVERED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"},j={PENDING:"En attente",CONFIRMED:"Confirme",PROCESSING:"En cours",SHIPPED:"Expdie",DELIVERED:"Livre",CANCELLED:"Annule"};return s.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${w[p]||"bg-gray-100"}`,children:j[p]||p})};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Mes Ventes"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Historique de toutes vos ventes (",u," ventes)"]})]}),s.jsx("button",{onClick:x,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:r?"Refreshing...":"Refresh"})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-12 text-center",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucune vente pour le moment"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Vos ventes apparatront ici une fois que des acheteurs commandent vos produits."})]}):s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commande"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Produit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acheteur"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quantit"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(p=>{var w;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:["#",p.orderNumber]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:p.productImage||"/placeholder-product.png",alt:p.productName,className:"w-10 h-10 rounded object-cover mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-1",children:p.productName}),s.jsx("p",{className:"text-xs text-gray-500",children:p.productAsin})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:p.buyerName})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:p.quantity})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["$",((w=p.subtotal)==null?void 0:w.toFixed(2))||"0.00"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:y(p.orderStatus)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-500",children:new Date(p.orderDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})})})]},p.orderItemId)})})]})}),l>1&&s.jsxs("div",{className:"px-6 py-4 border-t dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Affichage de ",n*10+1,"  ",Math.min((n+1)*10,u)," sur ",u]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i(p=>Math.max(0,p-1)),disabled:n===0,className:"px-3 py-1 rounded border dark:border-gray-600 disabled:opacity-50",children:"Prcdent"}),s.jsx("button",{onClick:()=>i(p=>Math.min(l-1,p+1)),disabled:n>=l-1,className:"px-3 py-1 rounded border dark:border-gray-600 disabled:opacity-50",children:"Suivant"})]})]})]})]})},OO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(null),[n,i]=R.useState(!0),[l,d]=R.useState(0),[u,h]=R.useState(0);R.useEffect(()=>{g()},[l]);const g=async()=>{try{i(!0);const[y,p]=await Promise.all([Pi.getMyProductReviews(l,10),l===0?Pi.getReviewSummary():Promise.resolve(r)]);e(y.content),h(y.totalPages),p&&a(p)}catch(y){console.error("Error fetching reviews:",y)}finally{i(!1)}},x=y=>s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(p=>s.jsx("svg",{className:`w-4 h-4 ${p<=y?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},p))});return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Avis Clients"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Consultez les avis laisss par les acheteurs sur vos produits"})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Note Moyenne"}),s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:r.averageRating.toFixed(1)}),s.jsxs("div",{children:[x(Math.round(r.averageRating)),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.totalReviews," avis au total"]})]})]})]}),s.jsxs("div",{className:"md:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-4",children:"Distribution des Notes"}),s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(y=>{const p=r.ratingDistribution[y]||0,w=r.totalReviews>0?p/r.totalReviews*100:0;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm w-8 text-gray-600 dark:text-gray-400",children:[y," "]}),s.jsx("div",{className:"flex-1 h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-yellow-400 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),s.jsx("span",{className:"text-sm w-12 text-right text-gray-600 dark:text-gray-400",children:p})]},y)})})]})]}),n?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-12 text-center",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun avis pour le moment"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Les avis apparatront ici quand vos clients valueront vos produits."})]}):s.jsxs("div",{className:"space-y-4",children:[t.map(y=>{var p;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-lg",children:((p=y.userName)==null?void 0:p.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:y.userName}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x(y.rating),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(y.createdAt).toLocaleDateString("fr-FR")})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Produit:"}),s.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 max-w-xs truncate",children:y.productName})]})]}),y.comment&&s.jsx("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:y.comment}),y.isLiked!==null&&s.jsx("div",{className:"mt-4 flex items-center gap-2",children:s.jsx("span",{className:`text-sm ${y.isLiked?"text-green-600":"text-red-600"}`,children:y.isLiked?" A aim ce produit":" N'a pas aim ce produit"})})]},y.id)}),u>1&&s.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[s.jsx("button",{onClick:()=>d(y=>Math.max(0,y-1)),disabled:l===0,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Prcdent"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:["Page ",l+1," sur ",u]}),s.jsx("button",{onClick:()=>d(y=>Math.min(u-1,y+1)),disabled:l>=u-1,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Suivant"})]})]})]})},FO=()=>{var k;const[t,e]=R.useState(null),[r,a]=R.useState(!0),[n,i]=R.useState(!1),[l,d]=R.useState(!1),[u,h]=R.useState(null),[g,x]=R.useState(null),[y,p]=R.useState({fullName:"",phone:"",bio:"",profileImage:"",storeName:"",storeDescription:"",businessAddress:""});R.useEffect(()=>{w()},[]);const w=async()=>{var C,L;try{a(!0);const E=await Pi.getProfile();e(E),p({fullName:E.fullName||"",phone:E.phone||"",bio:E.bio||"",profileImage:E.profileImage||"",storeName:E.storeName||"",storeDescription:E.storeDescription||"",businessAddress:E.businessAddress||""})}catch(E){h(((L=(C=E.response)==null?void 0:C.data)==null?void 0:L.message)||"Erreur lors du chargement du profil")}finally{a(!1)}},j=async C=>{var L,E;C.preventDefault();try{d(!0),h(null);const D=await Pi.updateProfile(y);e(D),i(!1),x("Profil mis  jour avec succs! "),setTimeout(()=>x(null),3e3)}catch(D){h(((E=(L=D.response)==null?void 0:L.data)==null?void 0:E.message)||"Erreur lors de la mise  jour")}finally{d(!1)}};return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Mon Profil Vendeur"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Grez vos informations personnelles et de boutique"})]}),u&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 rounded",children:u}),g&&s.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700 rounded",children:g}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Produits en Vente"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalProducts})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ventes Totales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalSales})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Revenue Totale"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.totalRevenue.toLocaleString("fr-FR",{style:"currency",currency:"USD"})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Note Moyenne"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:[" ",t.averageRating.toFixed(1)]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informations du Profil"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Membre depuis ",new Date(t.memberSince).toLocaleDateString("fr-FR")]})]}),!n&&s.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Modifier"})]}),s.jsxs("form",{onSubmit:j,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center overflow-hidden",children:y.profileImage?s.jsx("img",{src:y.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-4xl text-blue-600 dark:text-blue-400 font-bold",children:((k=y.fullName)==null?void 0:k.charAt(0).toUpperCase())||"S"})}),n&&s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL de la Photo de Profil"}),s.jsx("input",{type:"url",value:y.profileImage,onChange:C=>p({...y,profileImage:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",placeholder:"https://example.com/photo.jpg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nom Complet"}),n?s.jsx("input",{type:"text",value:y.fullName,onChange:C=>p({...y,fullName:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}):s.jsx("p",{className:"text-gray-900 dark:text-white",children:t.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:t.email}),s.jsx("p",{className:"text-xs text-gray-500",children:"L'email ne peut pas tre modifi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tlphone"}),n?s.jsx("input",{type:"tel",value:y.phone,onChange:C=>p({...y,phone:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}):s.jsx("p",{className:"text-gray-900 dark:text-white",children:t.phone||"Non renseign"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Statut"}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t.isVerifiedSeller?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.isVerifiedSeller?" Vendeur Vrifi":" En attente de vrification"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),n?s.jsx("textarea",{value:y.bio,onChange:C=>p({...y,bio:C.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",placeholder:"Parlez de vous..."}):s.jsx("p",{className:"text-gray-900 dark:text-white",children:t.bio||"Non renseign"})]}),s.jsx("div",{className:"md:col-span-2 border-t dark:border-gray-700 pt-6 mt-2",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informations de la Boutique"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nom de la Boutique"}),n?s.jsx("input",{type:"text",value:y.storeName,onChange:C=>p({...y,storeName:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}):s.jsx("p",{className:"text-gray-900 dark:text-white",children:t.storeName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Adresse Professionnelle"}),n?s.jsx("input",{type:"text",value:y.businessAddress,onChange:C=>p({...y,businessAddress:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}):s.jsx("p",{className:"text-gray-900 dark:text-white",children:t.businessAddress||"Non renseign"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description de la Boutique"}),n?s.jsx("textarea",{value:y.storeDescription,onChange:C=>p({...y,storeDescription:C.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",placeholder:"Dcrivez votre boutique..."}):s.jsx("p",{className:"text-gray-900 dark:text-white",children:t.storeDescription||"Non renseign"})]})]}),n&&s.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>{i(!1),p({fullName:t.fullName||"",phone:t.phone||"",bio:t.bio||"",profileImage:t.profileImage||"",storeName:t.storeName||"",storeDescription:t.storeDescription||"",businessAddress:t.businessAddress||""})},className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[l&&s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Enregistrer"]})]})]})]})]}):s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-500",children:u||"Profil non trouv"})})},yw=()=>{const[t,e]=R.useState([]),[r,a]=R.useState([]),[n,i]=R.useState(!0),[l,d]=R.useState(""),[u,h]=R.useState("all"),[g,x]=R.useState("all"),[y,p]=R.useState("all"),[w,j]=R.useState("ranking"),[k,C]=R.useState(null),{addToCart:L,isInCart:E,getItemQuantity:D}=wh(),{user:F}=hn(),O=js().pathname.startsWith("/seller"),U=O?"/seller/shop":"/shop",T=$=>{const de=($.rating||0)*1e3,ie=($.salesCount||0)*100;let ye=0;return $.ranking&&$.ranking>0&&$.ranking<=100&&(ye=Math.max(0,100-$.ranking)),de+ie+ye},W=$=>[...$].sort((de,ie)=>T(ie)-T(de));R.useEffect(()=>{I()},[]);const I=async()=>{try{i(!0);const $=await LN();let de=$;O&&(F!=null&&F.id)&&(de=$.filter(ie=>ie.sellerId!==F.id)),e(de),a(de)}catch($){console.error("Error fetching products:",$),C({message:"Failed to load products",type:"error"})}finally{i(!1)}};R.useEffect(()=>{let $=[...t];if(l&&($=$.filter(de=>de.productName.toLowerCase().includes(l.toLowerCase()))),u!=="all"&&($=$.filter(de=>de.categoryName===u)),g!=="all"&&(g==="mouadvision"?$=$.filter(de=>!de.sellerId):$=$.filter(de=>de.sellerName===g)),y!=="all"){const[de,ie]=y.split("-").map(Number);$=$.filter(ye=>ie?ye.price>=de&&ye.price<=ie:ye.price>=de)}switch(w){case"price-low":$.sort((de,ie)=>de.price-ie.price);break;case"price-high":$.sort((de,ie)=>ie.price-de.price);break;case"rating":$.sort((de,ie)=>(ie.rating||0)-(de.rating||0));break;case"reviews":$.sort((de,ie)=>(ie.reviewsCount||0)-(de.reviewsCount||0));break;case"ranking":default:$=W($);break}a($)},[l,u,g,y,w,t]);const B=["all",...new Set(t.map($=>$.categoryName).filter(Boolean))],X=[{id:null,name:"all"},{id:null,name:"mouadvision"},...t.filter($=>$.sellerId!==null&&$.sellerId!==void 0&&$.sellerName!==null&&$.sellerName!==void 0).reduce(($,de)=>($.find(ie=>ie.name===de.sellerName)||$.push({id:de.sellerId,name:de.sellerName}),$),[])],Q=$=>{const de=$.stockQuantity||0,ie=D($.asin);if(de<=0){C({message:`${$.productName} is out of stock! `,type:"error"});return}if(ie>=de){C({message:`Maximum quantity reached!  Only ${de} available.`,type:"error"});return}const ye=L($);C(ye?{message:`${$.productName} added to cart!`,type:"success"}:{message:"Could not add to cart",type:"error"})},ge="px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all cursor-pointer appearance-none";return n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500"})}):s.jsxs("div",{children:[k&&s.jsx(Ql,{message:k.message,type:k.type,onClose:()=>C(null)}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Shop"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Discover our collection of ",t.length," products",O&&s.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"(Your own products are hidden)"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 border border-gray-200 dark:border-gray-800 shadow-sm",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search products...",value:l,onChange:$=>d($.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all"})]})}),s.jsx("select",{value:u,onChange:$=>h($.target.value),className:ge,children:B.map($=>s.jsx("option",{value:$,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:$==="all"?"All Categories":$},$))}),s.jsx("select",{value:g,onChange:$=>x($.target.value),className:ge,children:X.map(($,de)=>s.jsx("option",{value:$.name,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:$.name==="all"?" All Stores":$.name==="mouadvision"?" MouadVision Official":` ${$.name}`},de))}),s.jsxs("select",{value:y,onChange:$=>p($.target.value),className:ge,children:[s.jsx("option",{value:"all",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"All Prices"}),s.jsx("option",{value:"0-25",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"Under $25"}),s.jsx("option",{value:"25-50",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"$25 - $50"}),s.jsx("option",{value:"50-100",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"$50 - $100"}),s.jsx("option",{value:"100-500",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"$100 - $500"}),s.jsx("option",{value:"500-1000",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"$500 - $1000"}),s.jsx("option",{value:"1000-",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"$1000+"})]}),s.jsxs("select",{value:w,onChange:$=>j($.target.value),className:ge,children:[s.jsx("option",{value:"ranking",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"Best Ranking"}),s.jsx("option",{value:"price-low",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"Price: High to Low"}),s.jsx("option",{value:"rating",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"Highest Rated"}),s.jsx("option",{value:"reviews",className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:"Most Reviews"})]})]}),(u!=="all"||g!=="all"||y!=="all")&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active filters:"}),u!=="all"&&s.jsxs("span",{className:"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-full text-sm flex items-center gap-2",children:[u,s.jsx("button",{onClick:()=>h("all"),className:"hover:text-blue-900 dark:hover:text-white transition-colors",children:""})]}),g!=="all"&&s.jsxs("span",{className:"px-3 py-1.5 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded-full text-sm flex items-center gap-2",children:[g==="mouadvision"?"MouadVision":g,s.jsx("button",{onClick:()=>x("all"),className:"hover:text-green-900 dark:hover:text-white transition-colors",children:""})]}),y!=="all"&&s.jsxs("span",{className:"px-3 py-1.5 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-full text-sm flex items-center gap-2",children:["$",y.replace("-"," - $"),s.jsx("button",{onClick:()=>p("all"),className:"hover:text-purple-900 dark:hover:text-white transition-colors",children:""})]}),s.jsx("button",{onClick:()=>{h("all"),x("all"),p("all"),d("")},className:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 ml-2 transition-colors",children:"Clear all"})]})]}),s.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-4",children:["Showing ",s.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:r.length})," of ",s.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:t.length})," products"]})]}),s.jsx("div",{children:r.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No products found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map($=>{const de=$.stockQuantity||0,ie=de<=0,ye=de>0&&de<=5,J=D($.asin),te=de>J,Y=W(t).findIndex(G=>G.asin===$.asin)+1;return s.jsxs("div",{className:`group bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden hover:border-gray-300 dark:hover:border-gray-700 hover:shadow-lg transition-all duration-300 ${ie?"opacity-75":""}`,children:[s.jsxs(lt,{to:`${U}/product/${$.asin}`,className:"block relative",children:[s.jsxs("div",{className:"aspect-square overflow-hidden bg-white relative",children:[$.imageUrl?s.jsx("img",{src:$.imageUrl,alt:$.productName,className:`w-full h-full object-contain group-hover:scale-105 transition-transform duration-500 ${ie?"grayscale":""}`,onError:G=>{G.currentTarget.src="https://via.placeholder.com/300? text=No+Image"}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600",children:s.jsx("svg",{className:"w-20 h-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),ie&&s.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:s.jsx("span",{className:"px-4 py-2 bg-red-500 text-white font-bold rounded-lg shadow-lg",children:"OUT OF STOCK"})})]}),s.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-1.5",children:[Y<=10&&s.jsxs("span",{className:"px-2.5 py-1 bg-yellow-500 text-white text-xs font-bold rounded-full shadow-lg",children:["Top ",Y]}),$.isBestseller&&s.jsx("span",{className:"px-2.5 py-1 bg-orange-500 text-white text-xs font-bold rounded-full shadow-lg",children:"Best Seller"}),ye&&!ie&&s.jsxs("span",{className:"px-2.5 py-1 bg-red-500/90 text-white text-xs font-bold rounded-full shadow-lg",children:[" ",de," left"]})]}),E($.asin)&&s.jsxs("div",{className:"absolute top-3 right-3 px-2.5 py-1 bg-green-500 text-white text-xs font-bold rounded-full shadow-lg flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),J]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mb-1",children:$.categoryName||"Uncategorized"}),s.jsx("div",{className:"mb-2",children:s.jsx("button",{onClick:()=>x($.sellerId?$.sellerName||"all":"mouadvision"),className:"inline-flex items-center hover:opacity-80 transition-opacity",children:$.sellerId?s.jsxs("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300",children:[" ",$.sellerName||"Seller"]}):s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300",children:" MouadVision"})})}),s.jsx(lt,{to:`${U}/product/${$.asin}`,children:s.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold line-clamp-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors mb-2",children:$.productName})}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[$.rating&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:$.rating.toFixed(1)})]}),$.reviewsCount&&s.jsxs("span",{className:"text-sm text-gray-500",children:["(",$.reviewsCount.toLocaleString()," reviews)"]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",$.price.toFixed(2)]}),!ie&&de<=10&&s.jsxs("span",{className:`text-xs font-medium ${ye?"text-orange-500":"text-gray-500"}`,children:[de," in stock"]})]}),s.jsx("button",{onClick:()=>Q($),disabled:ie||!te,className:`w-full px-4 py-2.5 text-sm font-semibold rounded-xl transition-all duration-300 ${ie?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":te?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 cursor-not-allowed"}`,children:ie?" Out of Stock":te?E($.asin)?`+ Add More (${J} in cart)`:" Add to Cart":` Max in Cart (${J}/${de})`})]})]},$.asin)})})})]})},Pd="http://localhost:8080/api",Dd=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),e1={getProductDetail:async t=>(await Ie.get(`${Pd}/reviews/product/${t}`,{headers:Dd()})).data.data,getProductReviews:async(t,e=0,r=10)=>(await Ie.get(`${Pd}/reviews/product/${t}/all`,{headers:Dd(),params:{page:e,size:r}})).data.data,createOrUpdateReview:async(t,e)=>(await Ie.post(`${Pd}/reviews/product/${t}`,e,{headers:Dd()})).data.data,likeProduct:async t=>{await Ie.post(`${Pd}/reviews/product/${t}/like`,{},{headers:Dd()})},dislikeProduct:async t=>{await Ie.post(`${Pd}/reviews/product/${t}/dislike`,{},{headers:Dd()})},deleteReview:async t=>{await Ie.delete(`${Pd}/reviews/product/${t}`,{headers:Dd()})},getMyReviews:async()=>(await Ie.get(`${Pd}/reviews/my-reviews`,{headers:Dd()})).data.data},vw=()=>{var $,de,ie,ye,J;const{asin:t}=Rw(),[e,r]=R.useState(null),[a,n]=R.useState(!0),[i,l]=R.useState(1),[d,u]=R.useState(null),[h,g]=R.useState(5),[x,y]=R.useState(""),[p,w]=R.useState(0),[j,k]=R.useState(!1),[C,L]=R.useState(!1),{addToCart:E,isInCart:D,getItemQuantity:F}=wh(),U=js().pathname.startsWith("/seller")?"/seller/shop":"/shop";R.useEffect(()=>{t&&T()},[t]);const T=async()=>{try{n(!0);const te=await e1.getProductDetail(t);r(te),te.userHasReviewed&&te.userReview&&(g(te.userReview.rating),y(te.userReview.comment||""))}catch(te){console.error("Error fetching product:",te),u({message:"Failed to load product",type:"error"})}finally{n(!1)}},W=()=>{if(e){const te={asin:e.asin,productName:e.productName,description:e.description,price:e.price,rating:e.averageRating||e.rating||0,reviewsCount:e.totalReviews||e.reviewsCount||0,imageUrl:e.imageUrl,productLink:e.productLink,ranking:e.ranking,categoryId:e.categoryId,categoryName:e.categoryName,isBestseller:e.isBestseller,sellerId:e.sellerId,sellerName:e.sellerName,stockQuantity:e.stockQuantity||999};for(let P=0;P<i;P++)E(te);u({message:`Added ${i} item(s) to cart!`,type:"success"})}},I=async()=>{if(t)try{k(!0),await e1.createOrUpdateReview(t,{rating:h,comment:x,isLiked:h>=4}),u({message:e!=null&&e.userHasReviewed?"Review updated successfully!":"Review submitted successfully!  The seller has been notified.",type:"success"}),L(!1),await T()}catch(te){console.error("Error submitting review:",te),u({message:"Failed to submit review. Please make sure you are logged in.",type:"error"})}finally{k(!1)}},B=async()=>{if(t&&window.confirm("Are you sure you want to delete your review?"))try{await e1.deleteReview(t),u({message:"Review deleted successfully!",type:"success"}),g(5),y(""),await T()}catch(te){console.error("Error deleting review:",te),u({message:"Failed to delete review",type:"error"})}},X=(te,P=!1,Y="text-xl")=>s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(G=>s.jsx("button",{type:"button",disabled:!P,onClick:()=>P&&g(G),onMouseEnter:()=>P&&w(G),onMouseLeave:()=>P&&w(0),className:`${Y} ${P?"cursor-pointer":"cursor-default"} transition-colors`,children:s.jsx("span",{className:(P?p||h:te)>=G?"text-yellow-500":"text-gray-300 dark:text-gray-600",children:""})},G))}),Q=()=>{if(!(e!=null&&e.ratingDistribution))return null;const te=e.totalReviews||0;return s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(P=>{const Y=e.ratingDistribution[P]||0,G=te>0?Y/te*100:0;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:[P," "]}),s.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all duration-300",style:{width:`${G}%`}})}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 w-12 text-right",children:Y})]},P)})})},ge=te=>new Date(te).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?s.jsxs("div",{children:[d&&s.jsx(Ql,{message:d.message,type:d.type,onClose:()=>u(null)}),s.jsx("nav",{className:"mb-6",children:s.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[s.jsx("li",{children:s.jsx(lt,{to:U,className:"hover:text-blue-600",children:"Shop"})}),s.jsx("li",{children:"/"}),s.jsx("li",{className:"text-gray-900 dark:text-white truncate max-w-xs",children:e.productName})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:s.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:e.imageUrl?s.jsx("img",{src:e.imageUrl,alt:e.productName,className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-24 h-24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.ranking&&e.ranking<=10&&s.jsxs("span",{className:"px-3 py-1 bg-yellow-500 text-white text-sm font-bold rounded-full",children:[" Top ",e.ranking]}),e.isBestseller&&s.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-sm font-bold rounded-full",children:"Best Seller"}),D(e.asin)&&s.jsxs("span",{className:"px-3 py-1 bg-green-500 text-white text-sm font-bold rounded-full",children:[" In Cart (",F(e.asin),")"]})]}),s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium mb-2",children:e.categoryName||"Uncategorized"}),s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e.productName}),s.jsx("div",{className:"mb-4",children:e.isMouadVisionProduct?s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:" Sold by MouadVision"}):s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[" Sold by ",e.sellerName||"Verified Seller"]})}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.averageRating&&s.jsxs("div",{className:"flex items-center",children:[X(e.averageRating),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:e.averageRating.toFixed(1)})]}),e.totalReviews!==void 0&&s.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[e.totalReviews.toLocaleString()," reviews"]})]}),s.jsxs("div",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-6",children:["$",e.price.toFixed(2)]}),e.description&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg",children:[s.jsx("button",{onClick:()=>l(Math.max(1,i-1)),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-l-lg",children:""}),s.jsx("span",{className:"px-6 py-2 text-gray-900 dark:text-white font-medium",children:i}),s.jsx("button",{onClick:()=>l(i+1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-r-lg",children:"+"})]}),s.jsxs("button",{onClick:W,className:"flex-1 py-3 bg-gray-800 dark:bg-gray-800  text-white rounded-lg font-semibold hover:from-blue-700 hover:to-gray-700 transition-all flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to Cart"]})]}),s.jsx(lt,{to:`${U}/cart`,className:"block w-full py-3 border-2 border-blue-600 text-blue-600 dark:text-blue-400 rounded-lg font-semibold hover:bg-blue-50 dark:hover:bg-gray-800 transition-all text-center",children:"View Cart"})]})]}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Reviews"}),s.jsx("div",{className:"flex items-center gap-4 mb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:(($=e.averageRating)==null?void 0:$.toFixed(1))||"0.0"}),s.jsx("div",{className:"mt-1",children:X(e.averageRating||0,!1,"text-lg")}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.totalReviews||0," reviews"]})]})}),Q()]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e.userHasReviewed&&!C?"Your Review":"Write a Review"}),e.userHasReviewed&&!C?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[X(((de=e.userReview)==null?void 0:de.rating)||0,!1,"text-lg"),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[(ie=e.userReview)==null?void 0:ie.rating,"/5"]})]}),((ye=e.userReview)==null?void 0:ye.comment)&&s.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:['"',e.userReview.comment,'"']}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Posted on ",(J=e.userReview)!=null&&J.createdAt?ge(e.userReview.createdAt):"Unknown date"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>L(!0),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Review"}),s.jsx("button",{onClick:B,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[X(h,!0,"text-3xl"),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:[h,"/5"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Review (optional)"}),s.jsx("textarea",{value:x,onChange:te=>y(te.target.value),placeholder:"Share your experience with this product...",rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:I,disabled:j,className:"flex-1 px-4 py-3 bg-gradient-to-r from-gray-600 to-gray-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-gray-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[" ",e.userHasReviewed?"Update Review":"Submit Review"]})}),C&&s.jsx("button",{onClick:()=>{L(!1),e.userReview&&(g(e.userReview.rating),y(e.userReview.comment||""))},className:"px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]}),s.jsx("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:" The product owner will be notified when you submit your review."})]})]})]}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Recent Reviews"}),e.recentReviews&&e.recentReviews.length>0?s.jsx("div",{className:"space-y-6",children:e.recentReviews.map(te=>{var P;return s.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0 pb-6 last:pb-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-gray-500 rounded-full flex items-center justify-center text-white font-semibold",children:((P=te.userName)==null?void 0:P.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:te.userName||"Anonymous"}),s.jsxs("div",{className:"flex items-center gap-2",children:[X(te.rating,!1,"text-sm"),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[te.rating,"/5"]})]})]})]}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:ge(te.createdAt)})]}),te.comment&&s.jsx("p",{className:"text-gray-700 dark:text-gray-300 ml-13",children:te.comment}),te.helpfulCount>0&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 ml-13",children:[" ",te.helpfulCount," people found this helpful"]})]},te.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No reviews yet"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Be the first to review this product!"})]})]})})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300 mb-4",children:"Product not found"}),s.jsx(lt,{to:U,className:"text-blue-600 hover:underline",children:"Back to Shop"})]})},ww=()=>{const{items:t,removeFromCart:e,updateQuantity:r,getTotal:a}=wh(),[n,i]=R.useState(null),d=js().pathname.startsWith("/seller"),u=d?"/seller/shop/checkout":"/shop/checkout",h=d?"/seller/shop":"/shop",g=(w,j,k)=>{if(j>=k){i({message:`Maximum stock reached (${k} available)`,type:"error"});return}r(w,j+1)},x=(w,j)=>{if(j<=1){e(w);return}r(w,j-1)},y=a()*.1,p=a()+y;return t.length===0?s.jsxs("div",{className:"max-w-4xl mx-auto py-16 text-center",children:[s.jsx("svg",{className:"w-24 h-24 mx-auto text-gray-300 dark:text-gray-600 mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300 mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Add some products to your cart to get started! "}),s.jsx(lt,{to:h,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Continue Shopping"})]}):s.jsxs("div",{className:"max-w-6xl mx-auto",children:[n&&s.jsx(Ql,{message:n.message,type:n.type,onClose:()=>i(null)}),s.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-900 dark:text-white",children:"Shopping Cart"}),s.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:[t.length," item(s) in your cart"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(w=>{const j=w.product.stockQuantity||0,k=w.quantity>=j,C=j<=0;return s.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow p-6 ${C?"opacity-60 border-2 border-red-500":""}`,children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:w.product.imageUrl?s.jsx("img",{src:w.product.imageUrl,alt:w.product.productName,className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No image"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:w.product.productName}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["$",w.product.price.toFixed(2)," each"]}),C?s.jsx("p",{className:"text-sm text-red-500 font-medium mt-1",children:" Out of Stock - Please remove"}):j<=5?s.jsxs("p",{className:"text-sm text-orange-500 mt-1",children:["Only ",j," left in stock"]}):null,s.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[s.jsxs("div",{className:"flex items-center border dark:border-gray-600 rounded-lg",children:[s.jsx("button",{onClick:()=>x(w.product.asin,w.quantity),className:"px-3 py-1 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-l-lg",disabled:C,children:"-"}),s.jsx("span",{className:"px-4 py-1 border-x dark:border-gray-600 min-w-[50px] text-center text-gray-900 dark:text-white",children:w.quantity}),s.jsx("button",{onClick:()=>g(w.product.asin,w.quantity,j),className:`px-3 py-1 rounded-r-lg ${k||C?"text-gray-300 dark:text-gray-600 cursor-not-allowed":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,disabled:k||C,title:k?`Max ${j} available`:"",children:"+"})]}),s.jsx("button",{onClick:()=>e(w.product.asin),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",(w.product.price*w.quantity).toFixed(2)]})})]})},w.product.asin)})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 sticky top-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-900 dark:text-white",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",a().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Tax (10%)"}),s.jsxs("span",{children:["$",y.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{className:"text-green-500",children:"Free"})]}),s.jsx("div",{className:"border-t dark:border-gray-700 pt-3",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 dark:text-white",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",p.toFixed(2)]})]})})]}),s.jsx(lt,{to:u,className:"w-full block text-center py-3 bg-gray-700 dark:bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 dark:hover:bg-gray-600 transition-colors",children:" Proceed to Checkout"}),s.jsx(lt,{to:h,className:"w-full block text-center mt-3 py-3 border dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:" Continue Shopping"})]})})]})]})},Nw=()=>{const{items:t,getTotal:e,clearCart:r}=wh(),{user:a}=hn(),n=js(),[i,l]=R.useState(null),[d,u]=R.useState(!1),[h,g]=R.useState(!1),[x,y]=R.useState(null),w=n.pathname.startsWith("/seller")?"/seller/shop":"/shop",[j,k]=R.useState({fullName:"",email:"",phone:"",address:"",city:"",postalCode:"",paymentMethod:"cod"});R.useEffect(()=>{a&&k(O=>({...O,fullName:a.fullName||"",email:a.email||"",phone:a.phone||""}))},[a]);const C=e(),L=C*.1,E=C+L,D=O=>{k({...j,[O.target.name]:O.target.value})},F=()=>{if(!x)return;const O=new _t,U=O.internal.pageSize.getWidth();O.setFillColor(59,130,246),O.rect(0,0,U,40,"F"),O.setTextColor(255,255,255),O.setFontSize(24),O.setFont("helvetica","bold"),O.text("MouadVision",20,25),O.setFontSize(12),O.setFont("helvetica","normal"),O.text("Order Receipt",U-20,25,{align:"right"}),O.setTextColor(0,0,0),O.setFontSize(14),O.setFont("helvetica","bold"),O.text(`Order #${x.orderNumber}`,20,55),O.setFontSize(10),O.setFont("helvetica","normal"),O.setTextColor(100,100,100),O.text(`Date: ${new Date().toLocaleDateString()}`,20,63);let T=80;O.setTextColor(0,0,0),O.setFontSize(12),O.setFont("helvetica","bold"),O.text("Bill To:",20,T),T+=8,O.setFont("helvetica","normal"),O.setFontSize(10),O.text(x.shippingAddress.fullName,20,T),T+=6,O.text(x.shippingAddress.email,20,T),T+=6,O.text(x.shippingAddress.phone,20,T),T+=6,O.text(`${x.shippingAddress.address}, ${x.shippingAddress.city}`,20,T),T+=6,O.text(x.shippingAddress.postalCode,20,T),T+=20,O.setFillColor(243,244,246),O.rect(20,T-5,U-40,10,"F"),O.setFont("helvetica","bold"),O.setTextColor(0,0,0),O.text("Item",25,T),O.text("Qty",120,T),O.text("Price",145,T),O.text("Total",170,T),T+=10,O.setFont("helvetica","normal"),x.items.forEach(I=>{const B=I.productName.length>35?I.productName.substring(0,35)+"...":I.productName;O.text(B,25,T),O.text(I.quantity.toString(),125,T),O.text(`$${I.price.toFixed(2)}`,145,T),O.text(`$${(I.price*I.quantity).toFixed(2)}`,170,T),T+=8}),T+=10,O.setDrawColor(200,200,200),O.line(120,T-5,U-20,T-5),O.text("Subtotal:",130,T),O.text(`$${x.subtotal.toFixed(2)}`,165,T,{align:"right"}),T+=8,O.text("Tax (10%):",130,T),O.text(`$${x.tax.toFixed(2)}`,165,T,{align:"right"}),T+=8,O.text("Shipping:",130,T),O.setTextColor(34,197,94),O.text("Free",165,T,{align:"right"}),T+=12,O.setDrawColor(200,200,200),O.line(120,T-5,U-20,T-5),O.setTextColor(0,0,0),O.setFontSize(14),O.setFont("helvetica","bold"),O.text("Total:",130,T+3),O.text(`$${x.total.toFixed(2)}`,165,T+3,{align:"right"}),T+=25,O.setFontSize(10),O.setFont("helvetica","normal"),O.setTextColor(100,100,100),O.text(`Payment Method: ${x.shippingAddress.paymentMethod==="cod"?"Cash on Delivery":"Credit/Debit Card"}`,20,T);const W=O.internal.pageSize.getHeight()-20;O.setFontSize(9),O.setTextColor(150,150,150),O.text("Thank you for shopping with MouadVision!",U/2,W,{align:"center"}),O.text("For support, contact: support@mouadvision.com",U/2,W+7,{align:"center"}),O.save(`MouadVision-Receipt-${x.orderNumber}.pdf`),l({message:"Receipt downloaded successfully!",type:"success"})},se=async O=>{var U,T;O.preventDefault(),u(!0);try{const W={items:t.map(Q=>({productAsin:Q.product.asin,quantity:Q.quantity})),notes:`Shipping: ${j.address}, ${j.city}, ${j.postalCode}`};console.log("Creating order...",W);const I=await NM(W);console.log("Order created:",I),console.log("Confirming order...",I.id);const B=await jM(I.id);console.log("Order confirmed:",B);const X={orderNumber:B.orderNumber,items:B.items.map(Q=>({productName:Q.productName,quantity:Q.quantity,price:Q.unitPrice})),subtotal:C,tax:L,total:E,shippingAddress:j};y(X),g(!0),r(),l({message:"Order placed successfully! ",type:"success"})}catch(W){console.error("Order error:",W),l({message:((T=(U=W.response)==null?void 0:U.data)==null?void 0:T.message)||"Failed to place order. Please try again.",type:"error"})}finally{u(!1)}};return h&&x?s.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[i&&s.jsx(Ql,{message:i.message,type:i.type,onClose:()=>l(null)}),s.jsx("div",{className:"bg-gradient-to-br from-green-400 to-emerald-500 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30",children:s.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Order Confirmed! "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Thank you for your purchase.Your order number is:"}),s.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl p-4 mb-8 inline-block",children:s.jsx("span",{className:"text-2xl font-mono font-bold text-blue-600 dark:text-blue-400",children:x.orderNumber})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 text-left mb-8",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),x.items.map((O,U)=>s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[O.productName,"  ",O.quantity]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",(O.price*O.quantity).toFixed(2)]})]},U)),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",x.subtotal.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Tax (10%)"}),s.jsxs("span",{children:["$",x.tax.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{className:"text-green-500",children:"Free"})]}),s.jsxs("div",{className:"flex justify-between font-bold text-gray-900 dark:text-white mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",x.total.toFixed(2)]})]})]})]}),s.jsxs("button",{onClick:F,className:"w-full mb-4 py-4 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl font-bold hover:from-red-600 hover:to-pink-600 transition-all shadow-lg shadow-red-500/25 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF Receipt"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(lt,{to:`${w}/orders`,className:"flex-1 py-4 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-bold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View My Orders"]}),s.jsxs(lt,{to:w,className:"flex-1 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-bold hover:from-blue-700 hover:to-purple-700 transition-all flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Continue Shopping"]})]})]}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300 mb-4",children:"Your cart is empty"}),s.jsx(lt,{to:w,className:"text-blue-600 hover:underline",children:"Go to Shop"})]}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[i&&s.jsx(Ql,{message:i.message,type:i.type,onClose:()=>l(null)}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Checkout"}),s.jsx("form",{onSubmit:se,children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Shipping Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",name:"fullName",value:j.fullName,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:j.email,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:j.phone,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),s.jsx("input",{type:"text",name:"address",value:j.address,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),s.jsx("input",{type:"text",name:"city",value:j.city,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Postal Code"}),s.jsx("input",{type:"text",name:"postalCode",value:j.postalCode,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Order Summary"}),s.jsx("div",{className:"space-y-4 mb-6",children:t.map(O=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[O.product.productName,"  ",O.quantity]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",(O.product.price*O.quantity).toFixed(2)]})]},O.product.asin))}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",C.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Tax (10%)"}),s.jsxs("span",{children:["$",L.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{className:"text-green-500",children:"Free"})]}),s.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 dark:text-white pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",E.toFixed(2)]})]})]}),s.jsx("button",{type:"submit",disabled:d,className:"w-full mt-6 py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold hover:from-green-600 hover:to-emerald-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Place Order"]})}),s.jsx(lt,{to:`${w}/cart`,className:"block text-center mt-4 text-blue-600 dark:text-blue-400 hover:underline",children:" Back to Cart"})]})]})})]})},jw=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState(null),[l,d]=R.useState(null),u=R.useRef(null),h=js(),{user:g}=hn(),y=h.pathname.startsWith("/seller")?"/seller/shop":"/shop";R.useEffect(()=>{p()},[]);const p=async()=>{try{const L=await kM();e(L)}catch(L){console.error("Error fetching orders:",L)}finally{a(!1)}},w=L=>{switch(L){case"CONFIRMED":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"PROCESSING":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"SHIPPED":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"DELIVERED":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark: text-emerald-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},j=(L,E)=>{E.stopPropagation(),d(L)},k=()=>{const L=u.current;if(!L)return;const E=window.open("","_blank");E&&(E.document.write(`
            <! DOCTYPE html>
            <html>
            <head>
                <title>Receipt - ${l==null?void 0:l.orderNumber}</title>
                <style>
                    * { margin: 0; padding: 0; box-sizing: border-box; }
                    body { 
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                        padding: 20px;
                        color: #333;
                    }
                    .receipt { max-width: 400px; margin: 0 auto; }
                    .header { text-align: center; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 2px dashed #ccc; }
                    .logo { font-size: 24px; font-weight: bold; color: #3b82f6; }
                    .order-info { margin-bottom: 20px; }
                    .order-info p { margin: 5px 0; font-size: 14px; }
                    .items { margin-bottom: 20px; }
                    .item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee; }
                    .item-name { font-weight: 500; }
                    .item-details { font-size: 12px; color: #666; }
                    .totals { border-top: 2px dashed #ccc; padding-top: 15px; margin-top: 15px; }
                    .total-row { display: flex; justify-content: space-between; margin: 8px 0; }
                    .grand-total { font-size: 18px; font-weight: bold; color: #16a34a; }
                    .footer { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 2px dashed #ccc; font-size: 12px; color: #666; }
                    @media print { body { padding: 0; } }
                </style>
            </head>
            <body>
                ${L.innerHTML}
            </body>
            </html>
        `),E.document.close(),E.print())},C=()=>{if(!l)return;const L=`

           MOUADVISION STORE
              RECEIPT


Order #: ${l.orderNumber}
Date: ${new Date(l.orderDate).toLocaleString()}
Status: ${l.statusDescription||l.status}


CUSTOMER INFORMATION

Name: ${(g==null?void 0:g.fullName)||l.userName||"Customer"}
Email: ${(g==null?void 0:g.email)||l.userEmail||""}


ORDER ITEMS

${l.items.map(se=>`${se.productName}
 ASIN: ${se.productAsin}
 Qty: ${se.quantity} x $${se.unitPrice.toFixed(2)} = $${se.subtotal.toFixed(2)}`).join(`

`)}


SUBTOTAL:                   $${l.totalAmount.toFixed(2)}
TAX (0%):                 $0.00

TOTAL:                    $${l.totalAmount.toFixed(2)}


        Thank you for your purchase!

        `,E=new Blob([L],{type:"text/plain"}),D=URL.createObjectURL(E),F=document.createElement("a");F.href=D,F.download=`receipt-${l.orderNumber}.txt`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(D)};return r?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("svg",{className:"w-20 h-20 text-gray-300 dark:text-gray-600 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:"No orders yet"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Start shopping to see your orders here! "}),s.jsx(lt,{to:y,className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Browse Products"})]}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"My Orders"}),s.jsx("div",{className:"space-y-4",children:t.map(L=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>i(n===L.id?null:L.id),children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:L.orderNumber}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(L.orderDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w(L.status)}`,children:L.statusDescription})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",L.totalAmount.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[L.totalItems," items"]})]}),s.jsx("button",{onClick:E=>j(L,E),className:"p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View Receipt",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${n===L.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),n===L.id&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-700/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark: text-white",children:"Order Items"}),s.jsxs("button",{onClick:E=>j(L,E),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View Receipt"]})]}),s.jsx("div",{className:"space-y-3",children:L.items.map(E=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:E.productImage?s.jsx("img",{src:E.productImage,alt:E.productName,className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(lt,{to:`${y}/product/${E.productAsin}`,className:"font-medium text-gray-900 dark:text-white hover:text-blue-600 line-clamp-1",children:E.productName}),s.jsxs("p",{className:"text-sm text-gray-500 dark: text-gray-400",children:["$",E.unitPrice.toFixed(2),"  ",E.quantity]})]}),s.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["$",E.subtotal.toFixed(2)]})]},E.id))})]})]},L.id))}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Receipt"}),s.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[60vh] p-6",ref:u,children:[s.jsxs("div",{className:"text-center mb-6 pb-6 border-b-2 border-dashed border-gray-300 dark:border-gray-600",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:"MouadVision"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Online Store"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Order #:"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:l.orderNumber})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark: text-gray-400",children:"Date: "}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(l.orderDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Time:"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(l.orderDate).toLocaleTimeString()})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${w(l.status)}`,children:l.statusDescription||l.status})]})]}),s.jsxs("div",{className:"mb-6 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Customer"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:(g==null?void 0:g.fullName)||l.userName||"Customer"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(g==null?void 0:g.email)||l.userEmail||""})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark: text-white mb-3",children:"Items"}),s.jsx("div",{className:"space-y-3",children:l.items.map(L=>s.jsxs("div",{className:"flex justify-between text-sm pb-3 border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white line-clamp-1",children:L.productName}),s.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[L.quantity,"  $",L.unitPrice.toFixed(2)]})]}),s.jsxs("p",{className:"font-medium text-gray-900 dark:text-white ml-4",children:["$",L.subtotal.toFixed(2)]})]},L.id))})]}),s.jsxs("div",{className:"border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Subtotal"}),s.jsxs("span",{className:"text-gray-900 dark:text-white",children:["$",l.totalAmount.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark: text-gray-400",children:"Tax"}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:"$0.00"})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Shipping"}),s.jsx("span",{className:"text-green-600 dark:text-green-400",children:"FREE"})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold mt-4 pt-4 border-t dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",l.totalAmount.toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 text-center",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Thank you for your purchase!"}),s.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-2",children:"Questions? Contact elabbassimouaad0@gmail.com"})]})]}),s.jsxs("div",{className:"flex gap-3 p-4 border-t dark:border-gray-700 bg-gray-50 dark: bg-gray-900/50",children:[s.jsxs("button",{onClick:C,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white font-medium rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),s.jsxs("button",{onClick:k,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print"]})]})]})})]})},BO=()=>{var y;const{user:t,updateUserProfile:e,logout:r}=hn(),[a,n]=R.useState(!1),[i,l]=R.useState(!1),[d,u]=R.useState(null),[h,g]=R.useState({fullName:(t==null?void 0:t.fullName)||"",phone:(t==null?void 0:t.phone)||"",bio:(t==null?void 0:t.bio)||""}),x=async p=>{p.preventDefault(),l(!0),u(null);try{await e(h.fullName,h.phone,h.bio),u({type:"success",text:"Profile updated successfully!"}),n(!1)}catch(w){u({type:"error",text:w.message||"Failed to update profile"})}finally{l(!1)}};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"My Profile"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account settings"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[s.jsx("div",{className:"bg-gray-800 dark:bg-gray-800 px-8 py-12",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center text-4xl font-bold text-gray-800 shadow-lg",children:((y=t==null?void 0:t.fullName)==null?void 0:y.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"text-white",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t==null?void 0:t.fullName}),s.jsx("p",{className:"opacity-90",children:t==null?void 0:t.email}),s.jsx("span",{className:"inline-flex items-center gap-1 mt-2 px-3 py-1 bg-white/20 rounded-full text-sm",children:"Buyer Account"})]})]})}),s.jsxs("div",{className:"p-8",children:[d&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400"}`,children:d.text}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),a?s.jsx("input",{type:"text",value:h.fullName,onChange:p=>g({...h,fullName:p.target.value}),className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0}):s.jsx("p",{className:"text-gray-900 dark:text-white py-3",children:t==null?void 0:t.fullName})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),s.jsx("p",{className:"text-gray-900 dark:text-white py-3",children:t==null?void 0:t.email})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),a?s.jsx("input",{type:"tel",value:h.phone,onChange:p=>g({...h,phone:p.target.value}),placeholder:"Enter your phone number",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}):s.jsx("p",{className:"text-gray-900 dark:text-white py-3",children:(t==null?void 0:t.phone)||"Not provided"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),a?s.jsx("textarea",{value:h.bio,onChange:p=>g({...h,bio:p.target.value}),placeholder:"Tell us about yourself...",rows:3,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none"}):s.jsx("p",{className:"text-gray-900 dark:text-white py-3",children:(t==null?void 0:t.bio)||"No bio added"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:[a?s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{n(!1),g({fullName:(t==null?void 0:t.fullName)||"",phone:(t==null?void 0:t.phone)||"",bio:(t==null?void 0:t.bio)||""})},className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:i?"Saving...":"Save Changes"})]}):s.jsx("button",{type:"button",onClick:()=>n(!0),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Profile"}),s.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Logout"})]})]})]})]})]})},kw=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0);R.useEffect(()=>{n()},[]);const n=async()=>{try{a(!0);const d=await ea.get("/reviews/my-reviews");d.data.success&&e(d.data.data)}catch(d){console.error("Error fetching reviews:",d)}finally{a(!1)}},i=async d=>{if(window.confirm("Are you sure you want to delete this review?"))try{await ea.delete(`/reviews/product/${d}`),n()}catch(u){console.error("Error deleting review:",u)}},l=d=>Array(5).fill(0).map((u,h)=>s.jsx("span",{className:h<d?"text-yellow-400":"text-gray-300 dark:text-gray-600",children:""},h));return r?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"My Reviews"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your product reviews and ratings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800",children:s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Reviews"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800",children:s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length>0?(t.reduce((d,u)=>d+u.rating,0)/t.length).toFixed(1):"0.0"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Rating Given"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800",children:s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.filter(d=>d.isLiked===!0).length}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Products Liked"})]})})})]}),t.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-12 text-center",children:[s.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No reviews yet"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Start exploring products and share your opinions!"}),s.jsx(lt,{to:"/shop",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Products"})]}):s.jsx("div",{className:"space-y-4",children:t.map(d=>s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(lt,{to:`/shop/product/${d.productAsin}`,className:"flex-shrink-0",children:s.jsx("img",{src:d.productImage||"https://via.placeholder.com/80?text=No+Image",alt:d.productName,className:"w-20 h-20 object-contain rounded-lg border border-gray-200 dark:border-gray-700"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[s.jsxs("div",{children:[s.jsx(lt,{to:`/shop/product/${d.productAsin}`,className:"font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 line-clamp-1",children:d.productName}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:"flex",children:l(d.rating)}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(d.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lt,{to:`/shop/product/${d.productAsin}`,className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit review",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>i(d.productAsin),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete review",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),d.comment&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2",children:d.comment}),d.isLiked!==null&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex items-center gap-1 text-sm px-2 py-1 rounded-full ${d.isLiked?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:d.isLiked?"Liked":"Disliked"})})]})]})},d.id))})]})},zO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(!0),[n,i]=R.useState("all"),[l,d]=R.useState(null),[u,h]=R.useState(0),[g,x]=R.useState(0);R.useEffect(()=>{y()},[n,u]);const y=async()=>{var C;try{a(!0);const L=localStorage.getItem("token");let E=`http://localhost:8080/api/admin/sellers? page=${u}&size=10`;n==="verified"?E+="&verified=true":n==="unverified"&&(E+="&verified=false");const F=(C=(await Ie.get(E,{headers:{Authorization:`Bearer ${L}`}})).data)==null?void 0:C.data;e((F==null?void 0:F.content)||[]),x((F==null?void 0:F.totalPages)||0)}catch(L){console.error("Error fetching sellers:",L),d({message:"Failed to load sellers",type:"error"})}finally{a(!1)}},p=async C=>{try{const L=localStorage.getItem("token");await Ie.post(`http://localhost:8080/api/admin/sellers/${C}/verify`,{},{headers:{Authorization:`Bearer ${L}`}}),d({message:"Seller verified successfully! ",type:"success"}),y()}catch{d({message:"Failed to verify seller",type:"error"})}},w=async C=>{try{const L=localStorage.getItem("token");await Ie.post(`http://localhost:8080/api/admin/sellers/${C}/unverify`,{},{headers:{Authorization:`Bearer ${L}`}}),d({message:"Seller unverified successfully!",type:"success"}),y()}catch{d({message:"Failed to unverify seller",type:"error"})}},j=async C=>{if(confirm("Are you sure you want to deactivate this seller?"))try{const L=localStorage.getItem("token");await Ie.delete(`http://localhost:8080/api/admin/sellers/${C}`,{headers:{Authorization:`Bearer ${L}`}}),d({message:"Seller deactivated successfully!",type:"success"}),y()}catch{d({message:"Failed to deactivate seller",type:"error"})}},k=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s.jsxs("div",{className:"p-6",children:[l&&s.jsx(Ql,{message:l.message,type:l.type,onClose:()=>d(null)}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Seller Management"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and verify sellers on the platform"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-6 p-4",children:s.jsx("div",{className:"flex gap-2",children:["all","verified","unverified"].map(C=>s.jsx("button",{onClick:()=>{i(C),h(0)},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${n===C?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200"}`,children:C==="all"?"All Sellers":C==="verified"?"Verified":"Pending Verification"},C))})}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.length===0?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-12 text-center",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No sellers found"})}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Seller"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Store"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(C=>{var L;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:C.profileImage?s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:C.profileImage,alt:C.fullName}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold",children:(L=C.fullName)==null?void 0:L.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:C.fullName}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.email})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:C.storeName||"No store name"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.phone||"No phone"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.isVerifiedSeller?s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:k(C.createdAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[C.isVerifiedSeller?s.jsx("button",{onClick:()=>w(C.id),className:"px-3 py-1 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition text-xs",children:"Unverify"}):s.jsx("button",{onClick:()=>p(C.id),className:"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 transition text-xs",children:"Verify"}),s.jsx("button",{onClick:()=>j(C.id),className:"px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition text-xs",children:"Deactivate"})]})})]},C.id)})})]})}),g>1&&s.jsxs("div",{className:"flex justify-center mt-6 gap-2",children:[s.jsx("button",{onClick:()=>h(C=>Math.max(0,C-1)),disabled:u===0,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Previous"}),s.jsxs("span",{className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:["Page ",u+1," of ",g]}),s.jsx("button",{onClick:()=>h(C=>Math.min(g-1,C+1)),disabled:u>=g-1,className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow disabled:opacity-50",children:"Next"})]})]})};function IO(){return s.jsxs(s.Fragment,{children:[s.jsx(Nh,{title:"React.js 404 Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js 404 Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),s.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden z-1",children:[s.jsx(N3,{}),s.jsxs("div",{className:"mx-auto w-full max-w-[242px] text-center sm:max-w-[472px]",children:[s.jsx("h1",{className:"mb-8 font-bold text-gray-800 text-title-md dark:text-white/90 xl:text-title-2xl",children:"ERROR"}),s.jsx("img",{src:"/images/error/404.svg",alt:"404",className:"dark:hidden"}),s.jsx("img",{src:"/images/error/404-dark.svg",alt:"404",className:"hidden dark:block"}),s.jsx("p",{className:"mt-10 mb-6 text-base text-gray-700 dark:text-gray-400 sm:text-lg",children:"We cant seem to find the page you are looking for!"}),s.jsx(lt,{to:"/admin",className:"inline-flex items-center justify-center rounded-lg border border-gray-300 bg-white px-5 py-3.5 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"Back to Home Page"})]}),s.jsxs("p",{className:"absolute text-sm text-center text-gray-500 -translate-x-1/2 bottom-6 left-1/2 dark:text-gray-400",children:[" ",new Date().getFullYear()," - MouadVision"]})]})]})}const Dl="http://localhost:8080/api",Ol=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),ah={getAllAnalysts:async(t=0,e=10)=>(await Ie.get(`${Dl}/admin/analysts`,{headers:Ol(),params:{page:t,size:e}})).data.data,getAllAnalystsNoPagination:async()=>(await Ie.get(`${Dl}/admin/analysts/all`,{headers:Ol()})).data.data,getAnalystById:async t=>(await Ie.get(`${Dl}/admin/analysts/${t}`,{headers:Ol()})).data.data,createAnalyst:async t=>(await Ie.post(`${Dl}/admin/analysts`,t,{headers:Ol()})).data.data,updateAnalyst:async(t,e)=>(await Ie.put(`${Dl}/admin/analysts/${t}`,e,{headers:Ol()})).data.data,deleteAnalyst:async t=>{await Ie.delete(`${Dl}/admin/analysts/${t}`,{headers:Ol()})},toggleAnalystStatus:async t=>(await Ie.patch(`${Dl}/admin/analysts/${t}/toggle-status`,{},{headers:Ol()})).data.data,getAnalystStatistics:async t=>(await Ie.get(`${Dl}/admin/analysts/${t}/statistics`,{headers:Ol()})).data.data,getAnalystsSummary:async()=>(await Ie.get(`${Dl}/admin/analysts/summary`,{headers:Ol()})).data.data},UO=({onClose:t,onSuccess:e})=>{const[r,a]=R.useState({email:"",password:"",fullName:"",phone:"",bio:"",department:"",specialization:"",isActive:!0}),[n,i]=R.useState(!1),[l,d]=R.useState(""),u=async h=>{var g,x;h.preventDefault(),d(""),i(!0);try{await ah.createAnalyst(r),e()}catch(y){d(((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.message)||"Failed to create analyst")}finally{i(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Analyst"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Add a new analyst to your team"})]}),s.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:l})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:r.fullName,onChange:h=>a({...r,fullName:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:r.email,onChange:h=>a({...r,email:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"john@example.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),s.jsx("input",{type:"password",required:!0,minLength:6,value:r.password,onChange:h=>a({...r,password:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",value:r.phone,onChange:h=>a({...r,phone:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"+1234567890"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department"}),s.jsxs("select",{value:r.department,onChange:h=>a({...r,department:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select department"}),s.jsx("option",{value:"Sales Analytics",children:"Sales Analytics"}),s.jsx("option",{value:"Product Analytics",children:"Product Analytics"}),s.jsx("option",{value:"Market Research",children:"Market Research"}),s.jsx("option",{value:"Business Intelligence",children:"Business Intelligence"}),s.jsx("option",{value:"Data Science",children:"Data Science"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Specialization"}),s.jsxs("select",{value:r.specialization,onChange:h=>a({...r,specialization:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select specialization"}),s.jsx("option",{value:"Data Visualization",children:"Data Visualization"}),s.jsx("option",{value:"Predictive Modeling",children:"Predictive Modeling"}),s.jsx("option",{value:"Statistical Analysis",children:"Statistical Analysis"}),s.jsx("option",{value:"Machine Learning",children:"Machine Learning"}),s.jsx("option",{value:"Business Strategy",children:"Business Strategy"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),s.jsx("textarea",{value:r.bio,onChange:h=>a({...r,bio:h.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description about the analyst..."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:h=>a({...r,isActive:h.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700 dark:text-gray-300",children:"Activate account immediately"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating...":"Create Analyst"})]})]})]})})},HO=({analyst:t,onClose:e,onSuccess:r})=>{const[a,n]=R.useState({email:t.email,fullName:t.fullName,phone:t.phone||"",bio:t.bio||"",department:t.department||"",specialization:t.specialization||"",isActive:t.isActive,password:""}),[i,l]=R.useState(!1),[d,u]=R.useState(""),h=async g=>{var x,y;g.preventDefault(),u(""),l(!0);try{const p={...a};p.password||delete p.password,await ah.updateAnalyst(t.id,p),r()}catch(p){u(((y=(x=p.response)==null?void 0:x.data)==null?void 0:y.message)||"Failed to update analyst")}finally{l(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Analyst"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Update analyst information"})]}),s.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[d&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:d})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:a.fullName,onChange:g=>n({...a,fullName:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:a.email,onChange:g=>n({...a,email:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password (leave blank to keep current)"}),s.jsx("input",{type:"password",minLength:6,value:a.password,onChange:g=>n({...a,password:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",value:a.phone,onChange:g=>n({...a,phone:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department"}),s.jsxs("select",{value:a.department,onChange:g=>n({...a,department:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select department"}),s.jsx("option",{value:"Sales Analytics",children:"Sales Analytics"}),s.jsx("option",{value:"Product Analytics",children:"Product Analytics"}),s.jsx("option",{value:"Market Research",children:"Market Research"}),s.jsx("option",{value:"Business Intelligence",children:"Business Intelligence"}),s.jsx("option",{value:"Data Science",children:"Data Science"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Specialization"}),s.jsxs("select",{value:a.specialization,onChange:g=>n({...a,specialization:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select specialization"}),s.jsx("option",{value:"Data Visualization",children:"Data Visualization"}),s.jsx("option",{value:"Predictive Modeling",children:"Predictive Modeling"}),s.jsx("option",{value:"Statistical Analysis",children:"Statistical Analysis"}),s.jsx("option",{value:"Machine Learning",children:"Machine Learning"}),s.jsx("option",{value:"Business Strategy",children:"Business Strategy"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),s.jsx("textarea",{value:a.bio,onChange:g=>n({...a,bio:g.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:g=>n({...a,isActive:g.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700 dark:text-gray-300",children:"Account is active"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Changes"})]})]})]})})},qO=()=>{const[t,e]=R.useState([]),[r,a]=R.useState(null),[n,i]=R.useState(!0),[l,d]=R.useState(!1),[u,h]=R.useState(null),[g,x]=R.useState(""),[y,p]=R.useState("all");R.useEffect(()=>{w(),j()},[]);const w=async()=>{try{i(!0);const F=await ah.getAllAnalystsNoPagination();e(F)}catch(F){console.error("Error fetching analysts:",F)}finally{i(!1)}},j=async()=>{try{const F=await ah.getAnalystsSummary();a(F)}catch(F){console.error("Error fetching summary:",F)}},k=()=>{d(!1),w(),j()},C=()=>{h(null),w(),j()},L=async F=>{try{await ah.toggleAnalystStatus(F),w(),j()}catch(se){console.error("Error toggling analyst status:",se),alert("Failed to toggle analyst status")}},E=async F=>{if(window.confirm(`Are you sure you want to delete ${F.fullName}? This action cannot be undone.`))try{await ah.deleteAnalyst(F.id),w(),j()}catch(se){console.error("Error deleting analyst:",se),alert("Failed to delete analyst")}},D=t.filter(F=>{const se=F.fullName.toLowerCase().includes(g.toLowerCase())||F.email.toLowerCase().includes(g.toLowerCase()),O=y==="all"?!0:y==="active"?F.isActive:!F.isActive;return se&&O});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analyst Management"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage analyst accounts and permissions"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),s.jsx("span",{children:"Create Analyst"})]})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Analysts"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:r.totalAnalysts})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:r.activeAnalysts})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:r.inactiveAnalysts})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search analysts by name or email...",value:g,onChange:F=>x(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}),s.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="all"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"All"}),s.jsx("button",{onClick:()=>p("active"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="active"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Active"}),s.jsx("button",{onClick:()=>p("inactive"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="inactive"?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Inactive"})]})]})}),n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):D.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-12 border border-gray-200 dark:border-gray-700 text-center",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No analysts found"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(F=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:F.fullName.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:F.fullName}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:F.email})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.isActive?"bg-green-100 dark:bg-green-900/20 text-green-600":"bg-red-100 dark:bg-red-900/20 text-red-600"}`,children:F.isActive?"Active":"Inactive"})]}),F.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("span",{children:F.phone})]}),F.bio&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:F.bio}),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("span",{className:"text-xs text-gray-500",children:["Joined ",new Date(F.createdAt).toLocaleDateString()]})})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-6 py-3 flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>h(F),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit analyst",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>L(F.id),className:`p-2 rounded-lg transition-colors ${F.isActive?"text-yellow-600 hover:bg-yellow-50 dark:hover:bg-yellow-900/20":"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:F.isActive?"Deactivate":"Activate",children:F.isActive?s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("button",{onClick:()=>E(F),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete analyst",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},F.id))}),l&&s.jsx(UO,{onClose:()=>d(!1),onSuccess:k}),u&&s.jsx(HO,{analyst:u,onClose:()=>h(null),onSuccess:C})]})},Eg=({children:t,allowedRoles:e})=>{const r=localStorage.getItem("token"),a=localStorage.getItem("user");if(!r||!a)return s.jsx(Ku,{to:"/signin",replace:!0});const n=JSON.parse(a);if(!e.includes(n.role))switch(n.role){case"ADMIN":return s.jsx(Ku,{to:"/admin",replace:!0});case"SELLER":return s.jsx(Ku,{to:"/seller/dashboard",replace:!0});case"BUYER":return s.jsx(Ku,{to:"/shop",replace:!0});default:return s.jsx(Ku,{to:"/signin",replace:!0})}return s.jsx(s.Fragment,{children:t})};function VO(){return s.jsx(fS,{children:s.jsx(gS,{children:s.jsx(A8,{children:s.jsxs(n8,{children:[s.jsx(Mt,{path:"/",element:s.jsx(dC,{})}),s.jsx(Mt,{path:"/explore",element:s.jsx(uC,{})}),s.jsx(Mt,{path:"/about",element:s.jsx(hC,{})}),s.jsx(Mt,{path:"/signin",element:s.jsx(sC,{})}),s.jsx(Mt,{path:"/signup",element:s.jsx(iC,{})}),s.jsx(Mt,{path:"/forgot-password",element:s.jsx(lC,{})}),s.jsxs(Mt,{path:"/analyst",element:s.jsx(Eg,{allowedRoles:["ANALYST","ADMIN"],children:s.jsx(kC,{})}),children:[s.jsx(Mt,{index:!0,element:s.jsx(LM,{})}),s.jsx(Mt,{path:"sales",element:s.jsx(EM,{})}),s.jsx(Mt,{path:"products",element:s.jsx(MM,{})}),s.jsx(Mt,{path:"sellers",element:s.jsx(jR,{})}),s.jsx(Mt,{path:"categories",element:s.jsx(kR,{})}),s.jsx(Mt,{path:"reports",element:s.jsx(tO,{})}),s.jsx(Mt,{path:"predictions",element:s.jsx(pw,{})}),s.jsx(Mt,{path:"profile",element:s.jsx(xw,{})})]}),s.jsxs(Mt,{path:"/admin",element:s.jsx(Eg,{allowedRoles:["ADMIN"],children:s.jsx(FS,{})}),children:[s.jsx(Mt,{index:!0,element:s.jsx(kO,{})}),s.jsx(Mt,{path:"products",element:s.jsx(CO,{})}),s.jsx(Mt,{path:"product-approvals",element:s.jsx(_O,{})}),s.jsx(Mt,{path:"notifications",element:s.jsx(Jx,{})}),s.jsx(Mt,{path:"orders",element:s.jsx(cC,{})}),s.jsx(Mt,{path:"stock",element:s.jsx(aO,{})}),s.jsx(Mt,{path:"profile",element:s.jsx(xw,{})}),s.jsx(Mt,{path:"sellers",element:s.jsx(zO,{})}),s.jsx(Mt,{path:"predictions",element:s.jsx(pw,{})}),s.jsx(Mt,{path:"/admin/analysts",element:s.jsx(qO,{})})]}),s.jsxs(Mt,{path:"/seller",element:s.jsx(Eg,{allowedRoles:["SELLER"],children:s.jsx(zS,{})}),children:[s.jsx(Mt,{index:!0,element:s.jsx(Ku,{to:"/seller/dashboard",replace:!0})}),s.jsx(Mt,{path:"dashboard",element:s.jsx(TO,{})}),s.jsx(Mt,{path:"products",element:s.jsx(PO,{})}),s.jsx(Mt,{path:"products/new",element:s.jsx(bw,{})}),s.jsx(Mt,{path:"products/:asin/edit",element:s.jsx(bw,{})}),s.jsx(Mt,{path:"stock",element:s.jsx(rO,{})}),s.jsx(Mt,{path:"orders",element:s.jsx(DO,{})}),s.jsx(Mt,{path:"reviews",element:s.jsx(OO,{})}),s.jsx(Mt,{path:"profile",element:s.jsx(FO,{})}),s.jsx(Mt,{path:"notifications",element:s.jsx(Jx,{})}),s.jsx(Mt,{path:"shop",element:s.jsx(yw,{})}),s.jsx(Mt,{path:"shop/product/:asin",element:s.jsx(vw,{})}),s.jsx(Mt,{path:"shop/cart",element:s.jsx(ww,{})}),s.jsx(Mt,{path:"shop/checkout",element:s.jsx(Nw,{})}),s.jsx(Mt,{path:"shop/orders",element:s.jsx(jw,{})}),s.jsx(Mt,{path:"shop/my-reviews",element:s.jsx(kw,{})})]}),s.jsxs(Mt,{path:"/shop",element:s.jsx(Eg,{allowedRoles:["BUYER"],children:s.jsx(BS,{})}),children:[s.jsx(Mt,{index:!0,element:s.jsx(yw,{})}),s.jsx(Mt,{path:"product/:asin",element:s.jsx(vw,{})}),s.jsx(Mt,{path:"cart",element:s.jsx(ww,{})}),s.jsx(Mt,{path:"checkout",element:s.jsx(Nw,{})}),s.jsx(Mt,{path:"orders",element:s.jsx(jw,{})}),s.jsx(Mt,{path:"profile",element:s.jsx(BO,{})}),s.jsx(Mt,{path:"my-reviews",element:s.jsx(kw,{})}),s.jsx(Mt,{path:"notifications",element:s.jsx(Jx,{})})]}),s.jsx(Mt,{path:"*",element:s.jsx(IO,{})})]})})})})}hk.createRoot(document.getElementById("root")).render(s.jsx(R.StrictMode,{children:s.jsx(pS,{children:s.jsx(f9,{children:s.jsx(VO,{})})})}));export{Br as _,WO as c,X0 as g};
